"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[4886],{76858:(e,t,o)=>{o.d(t,{Z:()=>i});var a=o(23917);const i={getAllChatflows:()=>a.Z.get("/chatflows"),getSpecificChatflow:e=>a.Z.get("/chatflows/".concat(e)),getSpecificChatflowFromPublicEndpoint:e=>a.Z.get("/public-chatflows/".concat(e)),createNewChatflow:e=>a.Z.post("/chatflows",e),updateChatflow:(e,t)=>a.Z.put("/chatflows/".concat(e),t),deleteChatflow:e=>a.Z.delete("/chatflows/".concat(e)),getIsChatflowStreaming:e=>a.Z.get("/chatflows-streaming/".concat(e))}},54231:(e,t,o)=>{o.d(t,{Z:()=>p});var a=o(15749),i=o(30969),n=o(48886),r=o(38357),l=o(87130),s=o(47915),d=o(91862),c=o(52312),u=o(30530),h=o(37574);const p=e=>{let{show:t,dialogProps:o,onConfirm:p}=e;const x=document.getElementById("portal"),[m,g]=(0,i.useState)(""),[v,b]=(0,i.useState)(""),f=t?(0,h.jsxs)(n.Z,{onKeyUp:e=>{"Enter"===e.key&&p(m,v)},open:t,fullWidth:!0,maxWidth:"xs","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,h.jsx)(r.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:o.title}),(0,h.jsxs)(l.Z,{children:[(0,h.jsx)(s.Z,{children:"Username"}),(0,h.jsx)(u.I,{inputParam:{label:"Username",name:"username",type:"string",placeholder:"john doe"},onChange:e=>g(e),value:m,showDialog:!1}),(0,h.jsx)("div",{style:{marginTop:20}}),(0,h.jsx)(s.Z,{children:"Password"}),(0,h.jsx)(u.I,{inputParam:{label:"Password",name:"password",type:"password"},onChange:e=>b(e),value:v})]}),(0,h.jsx)(d.Z,{children:(0,h.jsx)(c.S,{variant:"contained",onClick:()=>p(m,v),children:o.confirmButtonName})})]}):null;return(0,a.createPortal)(f,x)}},14464:(e,t,o)=>{o.d(t,{Z:()=>p});var a=o(15749),i=o(30969),n=o(48886),r=o(38357),l=o(87130),s=o(33656),d=o(91862),c=o(46138),u=o(52312),h=o(37574);const p=e=>{let{show:t,dialogProps:o,onCancel:p,onConfirm:x}=e;const m=document.getElementById("portal"),[g,v]=(0,i.useState)(""),[b,f]=(0,i.useState)(!1);(0,i.useEffect)((()=>{f(!!g)}),[g]);const Z=t?(0,h.jsxs)(n.Z,{open:t,fullWidth:!0,maxWidth:"xs",onClose:p,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,h.jsx)(r.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:o.title}),(0,h.jsx)(l.Z,{children:(0,h.jsx)(s.Z,{sx:{mt:1},id:"chatflow-name",type:"text",fullWidth:!0,placeholder:"My New Chatflow",value:g,onChange:e=>v(e.target.value)})}),(0,h.jsxs)(d.Z,{children:[(0,h.jsx)(c.Z,{onClick:p,children:o.cancelButtonName}),(0,h.jsx)(u.S,{disabled:!b,variant:"contained",onClick:()=>x(g),children:o.confirmButtonName})]})]}):null;return(0,a.createPortal)(Z,m)}},30530:(e,t,o)=>{o.d(t,{I:()=>S});var a=o(30969),i=o(39494),n=o(33656),r=o(35531),l=o(15749),s=o(69405),d=o(48886),c=o(87130),u=o(47915),h=o(91862),p=o(46138),x=o(94702),m=o(42558),g=o.n(m),v=o(52312),b=o(84956),f=o(94677),Z=o(2383),j=o(37574);const y=e=>{let{show:t,dialogProps:o,onCancel:i,onConfirm:n}=e;const r=document.getElementById("portal"),m=(0,x.Z)(),y=(0,s.I0)(),w=(0,s.v9)((e=>e.customization)),C="json",[S,R]=(0,a.useState)(""),[B,z]=(0,a.useState)(null);(0,a.useEffect)((()=>(o.value&&R(o.value),o.inputParam&&z(o.inputParam),()=>{R(""),z(null)})),[o]),(0,a.useEffect)((()=>(y(t?{type:Z.tS}:{type:Z.Go}),()=>y({type:Z.Go}))),[t,y]);const k=t?(0,j.jsxs)(d.Z,{open:t,fullWidth:!0,maxWidth:"md","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,j.jsx)(c.Z,{children:(0,j.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:B&&"string"===B.type&&(0,j.jsxs)("div",{style:{flex:70},children:[(0,j.jsx)(u.Z,{sx:{mb:2,ml:1},variant:"h4",children:B.label}),(0,j.jsx)(g(),{style:{border:"1px solid",borderColor:m.palette.grey[500],borderRadius:"12px",height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden",backgroundColor:"white"},children:w.isDarkMode?(0,j.jsx)(b.x,{disabled:o.disabled,value:S,onValueChange:e=>R(e),placeholder:B.placeholder,type:C,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}}):(0,j.jsx)(f.d,{disabled:o.disabled,value:S,onValueChange:e=>R(e),placeholder:B.placeholder,type:C,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}})})]})})}),(0,j.jsxs)(h.Z,{children:[(0,j.jsx)(p.Z,{onClick:i,children:o.cancelButtonName}),(0,j.jsx)(v.S,{disabled:o.disabled,variant:"contained",onClick:()=>n(S,B.name),children:o.confirmButtonName})]})]}):null;return(0,l.createPortal)(k,r)};var w=o(75916),C=o(86115);const S=e=>{var t,o;let{inputParam:l,value:s,nodes:d,edges:c,nodeId:u,onChange:h,disabled:p=!1,showDialog:x,dialogProps:m,onDialogCancel:g,onDialogConfirm:v}=e;const[b,f]=(0,a.useState)(null!==s&&void 0!==s?s:""),[Z,S]=(0,a.useState)(null),[R,B]=(0,a.useState)([]),z=(0,a.useRef)(null),k=Boolean(Z),P=()=>{S(null)};return(0,a.useEffect)((()=>{if(!p&&d&&c&&u&&l){const e=null!==l&&void 0!==l&&l.acceptVariable?(0,C.Hg)(d,c,u,l.id):[];B(e)}}),[p,l,d,c,u]),(0,a.useEffect)((()=>{"string"===typeof b&&b&&b.endsWith("{{")&&S(z.current)}),[b]),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(i.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,j.jsx)(n.Z,{id:l.name,size:"small",disabled:p,type:(e=>{switch(e){case"string":default:return"text";case"password":return"password";case"number":return"number"}})(l.type),placeholder:l.placeholder,multiline:!!l.rows,rows:null!==(t=l.rows)&&void 0!==t?t:1,value:b,name:l.name,onChange:e=>{f(e.target.value),h(e.target.value)},inputProps:{step:null!==(o=l.step)&&void 0!==o?o:1,style:{height:l.rows?"90px":"inherit"}}})}),x&&(0,j.jsx)(y,{show:x,dialogProps:m,onCancel:g,onConfirm:(e,t)=>{f(e),v(e,t)}}),(0,j.jsx)("div",{ref:z}),(null===l||void 0===l?void 0:l.acceptVariable)&&(0,j.jsx)(r.ZP,{open:k,anchorEl:Z,onClose:P,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,j.jsx)(w.Z,{disabled:p,availableNodesForVariable:R,onSelectAndReturnVal:e=>{(e=>{const t=b+e.substring(2);h(t),f(t)})(e),P()}})})]})}},75916:(e,t,o)=>{o.d(t,{Z:()=>b});var a=o(69405),i=o(25139),n=o(47915),r=o(38361),l=o(67888),s=o(33485),d=o(54279),c=o(25599),u=o(86008),h=o(42558),p=o.n(h),x=o(47804);const m=o.p+"static/media/chathistory.c04a95d8006f2ac86a7d.png";var g=o(11021),v=o(37574);const b=e=>{let{availableNodesForVariable:t,disabled:o=!1,onSelectAndReturnVal:h}=e;const b=(0,a.v9)((e=>e.customization)),f=(e,t)=>{let o=e?"".concat(e.id,".data.instance"):t;const a="{{".concat(o,"}}");h(a)};return(0,v.jsx)(v.Fragment,{children:!o&&(0,v.jsxs)("div",{style:{flex:30},children:[(0,v.jsx)(i.Z,{flexDirection:"row",sx:{mb:1,ml:2,mt:2},children:(0,v.jsx)(n.Z,{variant:"h5",children:"Select Variable"})}),(0,v.jsx)(p(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:(0,v.jsx)(r.Z,{sx:{pl:2,pr:2},children:(0,v.jsxs)(l.Z,{children:[(0,v.jsx)(s.Z,{sx:{p:0,borderRadius:"".concat(b.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:o,onClick:()=>f(null,"question"),children:(0,v.jsxs)(d.ZP,{alignItems:"center",children:[(0,v.jsx)(c.Z,{children:(0,v.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,v.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"AI",src:x})})}),(0,v.jsx)(u.Z,{sx:{ml:1},primary:"question",secondary:"User's question from chatbox"})]})}),(0,v.jsx)(s.Z,{sx:{p:0,borderRadius:"".concat(b.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:o,onClick:()=>f(null,"chat_history"),children:(0,v.jsxs)(d.ZP,{alignItems:"center",children:[(0,v.jsx)(c.Z,{children:(0,v.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,v.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"chatHistory",src:m})})}),(0,v.jsx)(u.Z,{sx:{ml:1},primary:"chat_history",secondary:"Past conversation history between user and AI"})]})}),t&&t.length>0&&t.map(((e,t)=>{var a;const i=e.data.outputAnchors[0].options.find((t=>t.name===e.data.outputs.output));return(0,v.jsx)(s.Z,{sx:{p:0,borderRadius:"".concat(b.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:o,onClick:()=>f(e),children:(0,v.jsxs)(d.ZP,{alignItems:"center",children:[(0,v.jsx)(c.Z,{children:(0,v.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,v.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:e.data.name,src:"".concat(g.v2,"/api/v1/node-icon/").concat(e.data.name)})})}),(0,v.jsx)(u.Z,{sx:{ml:1},primary:e.data.inputs.chainName?e.data.inputs.chainName:e.data.id,secondary:"".concat(null!==(a=null===i||void 0===i?void 0:i.label)&&void 0!==a?a:"output"," from ").concat(e.data.label)})]})},t)}))]})})})]})})}},47724:(e,t,o)=>{o.r(t),o.d(t,{default:()=>Se});var a=o(30969),i=o(13026),n=o(69405),r=o(25139),l=o(38361),s=o(34777),d=o(98483),c=o(11100),u=o(27265),h=o(17897),p=o(26754),x=o(94702),m=o(55705),g=o(24326),v=o(11021),b=o(55303),f=o(54231),Z=o(76858),j=o(60990),y=o(49009),w=o(31461),C=o(7896),S=(o(9479),o(87023)),R=o(26540),B=o(45971),z=o(17363),k=o(24099);function P(e,t){return void 0!==t&&void 0!==e&&(Array.isArray(t)?t.indexOf(e)>=0:e===t)}var E=o(62746),W=o(2975);function D(e){return(0,W.Z)("MuiToggleButtonGroup",e)}const M=(0,E.Z)("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical","fullWidth"]);var T=o(37574);const N=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],L=(0,B.ZP)("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{["& .".concat(M.grouped)]:t.grouped},{["& .".concat(M.grouped)]:t["grouped".concat((0,k.Z)(o.orientation))]},t.root,"vertical"===o.orientation&&t.vertical,o.fullWidth&&t.fullWidth]}})((e=>{let{ownerState:t,theme:o}=e;return(0,C.Z)({display:"inline-flex",borderRadius:(o.vars||o).shape.borderRadius},"vertical"===t.orientation&&{flexDirection:"column"},t.fullWidth&&{width:"100%"},{["& .".concat(M.grouped)]:(0,C.Z)({},"horizontal"===t.orientation?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},["&.".concat(M.selected," + .").concat(M.grouped,".").concat(M.selected)]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},["&.".concat(M.selected," + .").concat(M.grouped,".").concat(M.selected)]:{borderTop:0,marginTop:0}})})})),I=a.forwardRef((function(e,t){const o=(0,z.Z)({props:e,name:"MuiToggleButtonGroup"}),{children:i,className:n,color:r="standard",disabled:l=!1,exclusive:s=!1,fullWidth:d=!1,onChange:c,orientation:u="horizontal",size:h="medium",value:p}=o,x=(0,w.Z)(o,N),m=(0,C.Z)({},o,{disabled:l,fullWidth:d,orientation:u,size:h}),g=(e=>{const{classes:t,orientation:o,fullWidth:a,disabled:i}=e,n={root:["root","vertical"===o&&"vertical",a&&"fullWidth"],grouped:["grouped","grouped".concat((0,k.Z)(o)),i&&"disabled"]};return(0,R.Z)(n,D,t)})(m),v=(e,t)=>{if(!c)return;const o=p&&p.indexOf(t);let a;p&&o>=0?(a=p.slice(),a.splice(o,1)):a=p?p.concat(t):[t],c(e,a)},b=(e,t)=>{c&&c(e,p===t?null:t)};return(0,T.jsx)(L,(0,C.Z)({role:"group",className:(0,S.Z)(g.root,n),ref:t,ownerState:m},x,{children:a.Children.map(i,(e=>a.isValidElement(e)?a.cloneElement(e,{className:(0,S.Z)(g.grouped,e.props.className),onChange:s?b:v,selected:void 0===e.props.selected?P(e.props.value,p):e.props.selected,size:e.props.size||h,fullWidth:d,color:e.props.color||r,disabled:e.props.disabled||l}):null))}))}));var F=o(92426),V=o.n(F),A=o(7836),O=o(85481),H=o(61758),G=o(82848),q=o(82309),U=o(10741),Y=o(92472),_=o(56349),J=o(48598),K=o(47915),X=o(46138),Q=o(74262),$=o(88208),ee=o(30857),te=o(88356),oe=o(75295),ae=o(26174),ie=o(60788),ne=o(10814),re=o(57663),le=o(96979),se=o(60806),de=o(2383),ce=o(48349),ue=o(14464),he=o(48886),pe=o(38357),xe=o(87130),me=o(91862);const ge=e=>{let{isOpen:t,dialogProps:o,onClose:i,onSubmit:n}=e;const[r,s]=(0,a.useState)(""),[c,u]=(0,a.useState)([]),h=e=>{e.preventDefault();let t=[...c];r.trim()&&!c.includes(r)&&(t=[...t,r],u(t)),n(t)};return(0,a.useEffect)((()=>(o.category&&u(o.category),()=>{s(""),u([])})),[o]),(0,T.jsxs)(he.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:i,"aria-labelledby":"category-dialog-title","aria-describedby":"category-dialog-description",children:[(0,T.jsx)(pe.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:"Set Chatflow Category Tags"}),(0,T.jsx)(xe.Z,{children:(0,T.jsx)(l.Z,{children:(0,T.jsxs)("form",{onSubmit:h,children:[c.length>0&&(0,T.jsx)("div",{style:{marginBottom:10},children:c.map(((e,t)=>(0,T.jsx)(J.Z,{label:e,onDelete:()=>{return t=e,void u(c.filter((e=>e!==t)));var t},style:{marginRight:5,marginBottom:5}},t)))}),(0,T.jsx)(d.Z,{sx:{mt:2},fullWidth:!0,value:r,onChange:e=>{s(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&r.trim()&&(e.preventDefault(),c.includes(r)||(u([...c,r]),s("")))},label:"Add a tag",variant:"outlined"}),(0,T.jsx)(K.Z,{variant:"body2",sx:{fontStyle:"italic",mt:1},color:"text.secondary",children:"Enter a tag and press enter to add it to the list. You can add as many tags as you want."})]})})}),(0,T.jsxs)(me.Z,{children:[(0,T.jsx)(X.Z,{onClick:i,children:"Cancel"}),(0,T.jsx)(X.Z,{variant:"contained",onClick:h,children:"Submit"})]})]})};var ve=o(86115),be=o(33926);const fe=(0,B.ZP)((e=>(0,T.jsx)($.Z,{elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},...e})))((e=>{let{theme:t}=e;return{"& .MuiPaper-root":{borderRadius:6,marginTop:t.spacing(1),minWidth:180,boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:t.palette.text.secondary,marginRight:t.spacing(1.5)},"&:active":{backgroundColor:(0,Q.Fq)(t.palette.primary.main,t.palette.action.selectedOpacity)}}}}}));function Ze(e){let{chatflow:t,updateFlowsApi:o}=e;const{confirm:i}=(0,se.Z)(),r=(0,n.I0)(),l=(0,j.Z)(Z.Z.updateChatflow);(0,be.Z)();const s=function(){return r((0,de.yv)(...arguments))},d=function(){return r((0,de.sy)(...arguments))},[c,u]=(0,a.useState)(!1),[h,p]=(0,a.useState)(!1),[x,m]=(0,a.useState)({}),[g,b]=(0,a.useState)(null),f=Boolean(g);return(0,T.jsxs)("div",{children:[(0,T.jsx)(X.Z,{id:"demo-customized-button","aria-controls":f?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":f?"true":void 0,disableElevation:!0,onClick:e=>{b(e.currentTarget)},endIcon:(0,T.jsx)(le.Z,{}),children:"Options"}),(0,T.jsxs)(fe,{id:"demo-customized-menu",MenuListProps:{"aria-labelledby":"demo-customized-button"},anchorEl:g,open:f,onClose:()=>{b(null)},children:[(0,T.jsxs)(ee.Z,{onClick:()=>{b(null),u(!0)},disableRipple:!0,children:[(0,T.jsx)(te.Z,{}),"Rename"]}),(0,T.jsxs)(ee.Z,{onClick:()=>{b(null);try{localStorage.setItem("duplicatedFlowData",t.flowData),window.open("".concat(v.kZ,"/canvas"),"_blank")}catch(e){console.error(e)}},disableRipple:!0,children:[(0,T.jsx)(ae.Z,{}),"Duplicate"]}),(0,T.jsxs)(ee.Z,{onClick:()=>{b(null);try{const e=JSON.parse(t.flowData);let o=JSON.stringify((0,ve.mx)(e),null,2),a="data:application/json;charset=utf-8,"+encodeURIComponent(o),i="".concat(t.name," Chatflow.json"),n=document.createElement("a");n.setAttribute("href",a),n.setAttribute("download",i),n.click()}catch(e){console.error(e)}},disableRipple:!0,children:[(0,T.jsx)(ie.Z,{}),"Export"]}),(0,T.jsx)(oe.Z,{sx:{my:.5}}),(0,T.jsxs)(ee.Z,{onClick:()=>{b(null),t.category&&m({category:t.category.split(";")}),p(!0)},disableRipple:!0,children:[(0,T.jsx)(re.Z,{}),"Update Category"]}),(0,T.jsx)(oe.Z,{sx:{my:.5}}),(0,T.jsxs)(ee.Z,{onClick:async()=>{b(null);const e={title:"Delete",description:"Delete chatflow ".concat(t.name,"?"),confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await i(e))try{await Z.Z.deleteChatflow(t.id),await o.request()}catch(a){const e=a.response.data||"".concat(a.response.status,": ").concat(a.response.statusText);s({message:e,options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,T.jsx)(X.Z,{style:{color:"white"},onClick:()=>d(e),children:(0,T.jsx)(y.kLi,{})})}})}},disableRipple:!0,children:[(0,T.jsx)(ne.Z,{}),"Delete"]})]}),(0,T.jsx)(ce.Z,{}),(0,T.jsx)(ue.Z,{show:c,dialogProps:{title:"Rename Chatflow",confirmButtonName:"Rename",cancelButtonName:"Cancel"},onCancel:()=>u(!1),onConfirm:async e=>{const a={name:e,chatflow:t};try{await l.request(t.id,a),await o.request()}catch(i){const e=i.response.data||"".concat(i.response.status,": ").concat(i.response.statusText);s({message:e,options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,T.jsx)(X.Z,{style:{color:"white"},onClick:()=>d(e),children:(0,T.jsx)(y.kLi,{})})}})}}}),(0,T.jsx)(ge,{isOpen:h,dialogProps:x,onClose:()=>p(!1),onSubmit:async e=>{p(!1);const a={category:e.join(";"),chatflow:t};try{await l.request(t.id,a),await o.request()}catch(i){const e=i.response.data||"".concat(i.response.status,": ").concat(i.response.statusText);s({message:e,options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,T.jsx)(X.Z,{style:{color:"white"},onClick:()=>d(e),children:(0,T.jsx)(y.kLi,{})})}})}}})]})}const je=(0,B.ZP)(H.Z)((e=>{let{theme:t}=e;return{["&.".concat(G.Z.head)]:{backgroundColor:t.palette.common.black,color:t.palette.common.white},["&.".concat(G.Z.body)]:{fontSize:14}}})),ye=(0,B.ZP)(Y.Z)((e=>{let{theme:t}=e;return{"&:nth-of-type(odd)":{backgroundColor:t.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}})),we=e=>{let{data:t,images:o,filterFunction:a,updateFlowsApi:n}=e;const l=(0,i.s0)();return(0,T.jsx)(T.Fragment,{children:(0,T.jsx)(q.Z,{style:{marginTop:"30",border:1},component:_.Z,children:(0,T.jsxs)(A.Z,{sx:{minWidth:650},size:"small","aria-label":"a dense table",children:[(0,T.jsx)(U.Z,{children:(0,T.jsxs)(Y.Z,{sx:{marginTop:"10",backgroundColor:"primary"},children:[(0,T.jsx)(je,{component:"th",scope:"row",style:{width:"20%"},children:"Name"},"0"),(0,T.jsx)(je,{style:{width:"25%"},children:"Category"},"1"),(0,T.jsx)(je,{style:{width:"30%"},children:"Nodes"},"2"),(0,T.jsx)(je,{style:{width:"15%"},children:"Last Modified Date"},"3"),(0,T.jsx)(je,{style:{width:"10%"},children:"Actions"},"4")]})}),(0,T.jsx)(O.Z,{children:t.filter(a).map(((e,t)=>(0,T.jsxs)(ye,{children:[(0,T.jsx)(H.Z,{children:(0,T.jsx)(K.Z,{sx:{fontSize:"1.2rem",fontWeight:500,overflowWrap:"break-word",whiteSpace:"pre-line"},children:(0,T.jsx)(X.Z,{onClick:()=>{l("/canvas/".concat(e.id))},children:e.templateName||e.name})})},"0"),(0,T.jsx)(H.Z,{children:(0,T.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:5},children:["\xa0",e.category&&e.category.split(";").map(((e,t)=>(0,T.jsx)(J.Z,{label:e,style:{marginRight:5,marginBottom:5}},t)))]})},"1"),(0,T.jsx)(H.Z,{children:o[e.id]&&(0,T.jsxs)("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",marginTop:5},children:[o[e.id].slice(0,o[e.id].length>5?5:o[e.id].length).map((e=>(0,T.jsx)("div",{style:{width:35,height:35,marginRight:5,borderRadius:"50%",backgroundColor:"white",marginTop:5},children:(0,T.jsx)("img",{style:{width:"100%",height:"100%",padding:5,objectFit:"contain"},alt:"",src:e})},e))),o[e.id].length>5&&(0,T.jsxs)(K.Z,{sx:{alignItems:"center",display:"flex",fontSize:".8rem",fontWeight:200},children:["+ ",o[e.id].length-5," More"]})]})},"2"),(0,T.jsx)(H.Z,{children:V()(e.updatedDate).format("MMMM Do, YYYY")},"3"),(0,T.jsx)(H.Z,{children:(0,T.jsx)(r.Z,{direction:{xs:"column",sm:"row"},spacing:1,justifyContent:"center",alignItems:"center",children:(0,T.jsx)(Ze,{chatflow:e,updateFlowsApi:n})})},"4")]},t)))})]})})})};var Ce=o(52312);const Se=()=>{var e,t;const o=(0,i.s0)(),w=(0,x.Z)(),C=(0,n.v9)((e=>e.customization)),[S,R]=(0,a.useState)(!0),[B,z]=(0,a.useState)({}),[k,P]=(0,a.useState)(""),[E,W]=(0,a.useState)(!1),[D,M]=(0,a.useState)({}),N=(0,j.Z)(Z.Z.getAllChatflows),[L,F]=a.useState(localStorage.getItem("flowDisplayStyle")||"card");function V(e){return e.name.toLowerCase().indexOf(k.toLowerCase())>-1||e.category&&e.category.toLowerCase().indexOf(k.toLowerCase())>-1}return(0,a.useEffect)((()=>{N.request()}),[]),(0,a.useEffect)((()=>{var e,t;N.error&&(401===(null===(e=N.error)||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(M({title:"Login",confirmButtonName:"Login"}),W(!0)))}),[N.error]),(0,a.useEffect)((()=>{R(N.loading)}),[N.loading]),(0,a.useEffect)((()=>{if(N.data)try{const e=N.data,t={};for(let o=0;o<e.length;o+=1){const a=e[o].flowData,i=JSON.parse(a).nodes||[];t[e[o].id]=[];for(let n=0;n<i.length;n+=1){const a="".concat(v.v2,"/api/v1/node-icon/").concat(i[n].data.name);t[e[o].id].includes(a)||t[e[o].id].push(a)}}z(t)}catch(e){console.error(e)}}),[N.data]),(0,T.jsxs)(m.Z,{sx:{background:C.isDarkMode?w.palette.common.black:""},children:[(0,T.jsxs)(r.Z,{flexDirection:"column",children:[(0,T.jsx)(l.Z,{sx:{flexGrow:1},children:(0,T.jsxs)(s.Z,{disableGutters:!0,style:{margin:1,padding:1,paddingBottom:10,display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,T.jsx)("h1",{children:"Chatflows"}),(0,T.jsx)(d.Z,{size:"small",sx:{display:{xs:"none",sm:"block"},ml:3},variant:"outlined",placeholder:"Search name or category",onChange:e=>{P(e.target.value)},InputProps:{startAdornment:(0,T.jsx)(c.Z,{position:"start",children:(0,T.jsx)(y.jVj,{})})}}),(0,T.jsx)(l.Z,{sx:{flexGrow:1}}),(0,T.jsxs)(u.Z,{sx:{maxHeight:40},disableElevation:!0,variant:"contained","aria-label":"outlined primary button group",children:[(0,T.jsx)(u.Z,{disableElevation:!0,variant:"contained","aria-label":"outlined primary button group",children:(0,T.jsxs)(I,{sx:{maxHeight:40},value:L,color:"primary",exclusive:!0,onChange:(e,t)=>{localStorage.setItem("flowDisplayStyle",t),F(t)},children:[(0,T.jsx)(h.Z,{sx:{color:null!==w&&void 0!==w&&null!==(e=w.customization)&&void 0!==e&&e.isDarkMode?"white":"inherit"},variant:"contained",value:"card",title:"Card View",selectedColor:"#00abc0",children:(0,T.jsx)(y.lp2,{})}),(0,T.jsx)(h.Z,{sx:{color:null!==w&&void 0!==w&&null!==(t=w.customization)&&void 0!==t&&t.isDarkMode?"white":"inherit"},variant:"contained",value:"list",title:"List View",children:(0,T.jsx)(y.ZdG,{})})]})}),(0,T.jsx)(l.Z,{sx:{width:5}}),(0,T.jsx)(u.Z,{disableElevation:!0,"aria-label":"outlined primary button group",children:(0,T.jsx)(Ce.S,{variant:"contained",onClick:()=>{o("/canvas")},startIcon:(0,T.jsx)(y.SC9,{}),children:"Add New"})})]})]})}),!S&&(!L||"card"===L)&&N.data&&(0,T.jsx)(p.ZP,{container:!0,spacing:v.dv,children:N.data.filter(V).map(((e,t)=>(0,T.jsx)(p.ZP,{item:!0,lg:3,md:4,sm:6,xs:12,children:(0,T.jsx)(g.Z,{onClick:()=>{o("/canvas/".concat(e.id))},data:e,images:B[e.id]})},t)))}),!S&&"list"===L&&N.data&&(0,T.jsx)(we,{sx:{mt:20},data:N.data,images:B,filterFunction:V,updateFlowsApi:N})]}),!S&&(!N.data||0===N.data.length)&&(0,T.jsxs)(r.Z,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[(0,T.jsx)(l.Z,{sx:{p:2,height:"auto"},children:(0,T.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:b.Z,alt:"WorkflowEmptySVG"})}),(0,T.jsx)("div",{children:"No Chatflows Yet"})]}),(0,T.jsx)(f.Z,{show:E,dialogProps:D,onConfirm:(e,t)=>{localStorage.setItem("username",e),localStorage.setItem("password",t),o(0)}})]})}},57663:(e,t,o)=>{var a=o(71600);t.Z=void 0;var i=a(o(48035)),n=o(37574),r=(0,i.default)([(0,n.jsx)("path",{d:"m12 2-5.5 9h11z"},"0"),(0,n.jsx)("circle",{cx:"17.5",cy:"17.5",r:"4.5"},"1"),(0,n.jsx)("path",{d:"M3 13.5h8v8H3z"},"2")],"Category");t.Z=r},60788:(e,t,o)=>{var a=o(71600);t.Z=void 0;var i=a(o(48035)),n=o(37574),r=(0,i.default)((0,n.jsx)("path",{d:"M18.32 4.26C16.84 3.05 15.01 2.25 13 2.05v2.02c1.46.18 2.79.76 3.9 1.62l1.42-1.43zM19.93 11h2.02c-.2-2.01-1-3.84-2.21-5.32L18.31 7.1c.86 1.11 1.44 2.44 1.62 3.9zm-1.62 5.9 1.43 1.43c1.21-1.48 2.01-3.32 2.21-5.32h-2.02c-.18 1.45-.76 2.78-1.62 3.89zM13 19.93v2.02c2.01-.2 3.84-1 5.32-2.21l-1.43-1.43c-1.1.86-2.43 1.44-3.89 1.62zM13 12V7h-2v5H7l5 5 5-5h-4zm-2 7.93v2.02c-5.05-.5-9-4.76-9-9.95s3.95-9.45 9-9.95v2.02C7.05 4.56 4 7.92 4 12s3.05 7.44 7 7.93z"}),"Downloading");t.Z=r},88356:(e,t,o)=>{var a=o(71600);t.Z=void 0;var i=a(o(48035)),n=o(37574),r=(0,i.default)((0,n.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.Z=r},26174:(e,t,o)=>{var a=o(71600);t.Z=void 0;var i=a(o(48035)),n=o(37574),r=(0,i.default)((0,n.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4 6 6v10c0 1.1-.9 2-2 2H7.99C6.89 23 6 22.1 6 21l.01-14c0-1.1.89-2 1.99-2h7zm-1 7h5.5L14 6.5V12z"}),"FileCopy");t.Z=r},96979:(e,t,o)=>{var a=o(71600);t.Z=void 0;var i=a(o(48035)),n=o(37574),r=(0,i.default)((0,n.jsx)("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown");t.Z=r},27265:(e,t,o)=>{o.d(t,{Z:()=>j});var a=o(31461),i=o(7896),n=o(30969),r=o(87023),l=o(26540),s=o(74262);var d=o(24099),c=o(45971),u=o(17363),h=o(62746),p=o(2975);function x(e){return(0,p.Z)("MuiButtonGroup",e)}const m=(0,h.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]);var g=o(68734),v=o(94766),b=o(37574);const f=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],Z=(0,c.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:o}=e;return[{["& .".concat(m.grouped)]:t.grouped},{["& .".concat(m.grouped)]:t["grouped".concat((0,d.Z)(o.orientation))]},{["& .".concat(m.grouped)]:t["grouped".concat((0,d.Z)(o.variant))]},{["& .".concat(m.grouped)]:t["grouped".concat((0,d.Z)(o.variant)).concat((0,d.Z)(o.orientation))]},{["& .".concat(m.grouped)]:t["grouped".concat((0,d.Z)(o.variant)).concat((0,d.Z)(o.color))]},{["& .".concat(m.firstButton)]:t.firstButton},{["& .".concat(m.lastButton)]:t.lastButton},{["& .".concat(m.middleButton)]:t.middleButton},t.root,t[o.variant],!0===o.disableElevation&&t.disableElevation,o.fullWidth&&t.fullWidth,"vertical"===o.orientation&&t.vertical]}})((e=>{let{theme:t,ownerState:o}=e;return(0,i.Z)({display:"inline-flex",borderRadius:(t.vars||t).shape.borderRadius},"contained"===o.variant&&{boxShadow:(t.vars||t).shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},"vertical"===o.orientation&&{flexDirection:"column"},{["& .".concat(m.grouped)]:(0,i.Z)({minWidth:40,"&:hover":(0,i.Z)({},"contained"===o.variant&&{boxShadow:"none"})},"contained"===o.variant&&{boxShadow:"none"}),["& .".concat(m.firstButton,",& .").concat(m.middleButton)]:(0,i.Z)({},"horizontal"===o.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===o.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===o.variant&&"horizontal"===o.orientation&&{borderRight:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(m.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},"text"===o.variant&&"vertical"===o.orientation&&{borderBottom:t.vars?"1px solid rgba(".concat(t.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===t.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(m.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},"text"===o.variant&&"inherit"!==o.color&&{borderColor:t.vars?"rgba(".concat(t.vars.palette[o.color].mainChannel," / 0.5)"):(0,s.Fq)(t.palette[o.color].main,.5)},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"transparent"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"transparent"},"contained"===o.variant&&"horizontal"===o.orientation&&{borderRight:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(m.disabled)]:{borderRight:"1px solid ".concat((t.vars||t).palette.action.disabled)}},"contained"===o.variant&&"vertical"===o.orientation&&{borderBottom:"1px solid ".concat((t.vars||t).palette.grey[400]),["&.".concat(m.disabled)]:{borderBottom:"1px solid ".concat((t.vars||t).palette.action.disabled)}},"contained"===o.variant&&"inherit"!==o.color&&{borderColor:(t.vars||t).palette[o.color].dark},{"&:hover":(0,i.Z)({},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"currentColor"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"currentColor"})}),["& .".concat(m.lastButton,",& .").concat(m.middleButton)]:(0,i.Z)({},"horizontal"===o.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===o.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===o.variant&&"horizontal"===o.orientation&&{marginLeft:-1},"outlined"===o.variant&&"vertical"===o.orientation&&{marginTop:-1})})})),j=n.forwardRef((function(e,t){const o=(0,u.Z)({props:e,name:"MuiButtonGroup"}),{children:s,className:c,color:h="primary",component:p="div",disabled:m=!1,disableElevation:j=!1,disableFocusRipple:y=!1,disableRipple:w=!1,fullWidth:C=!1,orientation:S="horizontal",size:R="medium",variant:B="outlined"}=o,z=(0,a.Z)(o,f),k=(0,i.Z)({},o,{color:h,component:p,disabled:m,disableElevation:j,disableFocusRipple:y,disableRipple:w,fullWidth:C,orientation:S,size:R,variant:B}),P=(e=>{const{classes:t,color:o,disabled:a,disableElevation:i,fullWidth:n,orientation:r,variant:s}=e,c={root:["root",s,"vertical"===r&&"vertical",n&&"fullWidth",i&&"disableElevation"],grouped:["grouped","grouped".concat((0,d.Z)(r)),"grouped".concat((0,d.Z)(s)),"grouped".concat((0,d.Z)(s)).concat((0,d.Z)(r)),"grouped".concat((0,d.Z)(s)).concat((0,d.Z)(o)),a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,l.Z)(c,x,t)})(k),E=n.useMemo((()=>({className:P.grouped,color:h,disabled:m,disableElevation:j,disableFocusRipple:y,disableRipple:w,fullWidth:C,size:R,variant:B})),[h,m,j,y,w,C,R,B,P.grouped]),W=function(e){return n.Children.toArray(e).filter((e=>n.isValidElement(e)))}(s),D=W.length,M=e=>{const t=0===e,o=e===D-1;return t&&o?"":t?P.firstButton:o?P.lastButton:P.middleButton};return(0,b.jsx)(Z,(0,i.Z)({as:p,role:"group",className:(0,r.Z)(P.root,c),ref:t,ownerState:k},z,{children:(0,b.jsx)(g.Z.Provider,{value:E,children:W.map(((e,t)=>(0,b.jsx)(v.Z.Provider,{value:M(t),children:e},t)))})}))}))},47804:(e,t,o)=>{e.exports=o.p+"static/media/robot.3e38acc0493763eacabe.png"}}]);
//# sourceMappingURL=4886.4a1293ac.chunk.js.map