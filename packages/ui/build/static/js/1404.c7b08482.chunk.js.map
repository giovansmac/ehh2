{"version":3,"file":"static/js/1404.c7b08482.chunk.js","mappings":"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","sources":["../../../node_modules/uuid/dist/esm-browser/native.js","../../../node_modules/uuid/dist/esm-browser/rng.js","../../../node_modules/uuid/dist/esm-browser/stringify.js","../../../node_modules/uuid/dist/esm-browser/v4.js","../../../node_modules/@reactflow/background/dist/esm/index.mjs","../../../node_modules/@reactflow/controls/dist/esm/index.mjs","../../../node_modules/zustand/esm/vanilla.mjs","../../../node_modules/zustand/esm/traditional.mjs","../../../node_modules/d3-dispatch/src/dispatch.js","../../../node_modules/d3-selection/src/selector.js","../../../node_modules/d3-selection/src/selectorAll.js","../../../node_modules/d3-selection/src/selection/selectAll.js","../../../node_modules/d3-selection/src/array.js","../../../node_modules/d3-selection/src/matcher.js","../../../node_modules/d3-selection/src/selection/selectChild.js","../../../node_modules/d3-selection/src/selection/selectChildren.js","../../../node_modules/d3-selection/src/selection/sparse.js","../../../node_modules/d3-selection/src/selection/enter.js","../../../node_modules/d3-selection/src/selection/data.js","../../../node_modules/d3-selection/src/selection/sort.js","../../../node_modules/d3-selection/src/namespaces.js","../../../node_modules/d3-selection/src/namespace.js","../../../node_modules/d3-selection/src/selection/attr.js","../../../node_modules/d3-selection/src/window.js","../../../node_modules/d3-selection/src/selection/style.js","../../../node_modules/d3-selection/src/selection/property.js","../../../node_modules/d3-selection/src/selection/classed.js","../../../node_modules/d3-selection/src/selection/text.js","../../../node_modules/d3-selection/src/selection/html.js","../../../node_modules/d3-selection/src/selection/raise.js","../../../node_modules/d3-selection/src/selection/lower.js","../../../node_modules/d3-selection/src/creator.js","../../../node_modules/d3-selection/src/selection/insert.js","../../../node_modules/d3-selection/src/selection/remove.js","../../../node_modules/d3-selection/src/selection/clone.js","../../../node_modules/d3-selection/src/selection/on.js","../../../node_modules/d3-selection/src/selection/dispatch.js","../../../node_modules/d3-selection/src/selection/index.js","../../../node_modules/d3-selection/src/selection/select.js","../../../node_modules/d3-selection/src/selection/filter.js","../../../node_modules/d3-selection/src/constant.js","../../../node_modules/d3-selection/src/selection/exit.js","../../../node_modules/d3-selection/src/selection/join.js","../../../node_modules/d3-selection/src/selection/merge.js","../../../node_modules/d3-selection/src/selection/order.js","../../../node_modules/d3-selection/src/selection/call.js","../../../node_modules/d3-selection/src/selection/nodes.js","../../../node_modules/d3-selection/src/selection/node.js","../../../node_modules/d3-selection/src/selection/size.js","../../../node_modules/d3-selection/src/selection/empty.js","../../../node_modules/d3-selection/src/selection/each.js","../../../node_modules/d3-selection/src/selection/append.js","../../../node_modules/d3-selection/src/selection/datum.js","../../../node_modules/d3-selection/src/selection/iterator.js","../../../node_modules/d3-selection/src/select.js","../../../node_modules/d3-drag/src/noevent.js","../../../node_modules/d3-drag/src/nodrag.js","../../../node_modules/d3-interpolate/src/zoom.js","../../../node_modules/d3-selection/src/pointer.js","../../../node_modules/d3-selection/src/sourceEvent.js","../../../node_modules/d3-timer/src/timer.js","../../../node_modules/d3-timer/src/timeout.js","../../../node_modules/d3-transition/src/transition/schedule.js","../../../node_modules/d3-transition/src/interrupt.js","../../../node_modules/d3-interpolate/src/number.js","../../../node_modules/d3-interpolate/src/transform/decompose.js","../../../node_modules/d3-interpolate/src/transform/parse.js","../../../node_modules/d3-interpolate/src/transform/index.js","../../../node_modules/d3-transition/src/transition/tween.js","../../../node_modules/d3-color/src/define.js","../../../node_modules/d3-color/src/color.js","../../../node_modules/d3-interpolate/src/basis.js","../../../node_modules/d3-interpolate/src/constant.js","../../../node_modules/d3-interpolate/src/color.js","../../../node_modules/d3-interpolate/src/rgb.js","../../../node_modules/d3-interpolate/src/basisClosed.js","../../../node_modules/d3-interpolate/src/string.js","../../../node_modules/d3-transition/src/transition/interpolate.js","../../../node_modules/d3-transition/src/transition/attr.js","../../../node_modules/d3-transition/src/transition/attrTween.js","../../../node_modules/d3-transition/src/transition/delay.js","../../../node_modules/d3-transition/src/transition/duration.js","../../../node_modules/d3-transition/src/transition/selection.js","../../../node_modules/d3-transition/src/transition/style.js","../../../node_modules/d3-transition/src/transition/index.js","../../../node_modules/d3-transition/src/transition/select.js","../../../node_modules/d3-transition/src/transition/selectAll.js","../../../node_modules/d3-transition/src/transition/filter.js","../../../node_modules/d3-transition/src/transition/merge.js","../../../node_modules/d3-transition/src/transition/transition.js","../../../node_modules/d3-transition/src/transition/on.js","../../../node_modules/d3-transition/src/transition/styleTween.js","../../../node_modules/d3-transition/src/transition/text.js","../../../node_modules/d3-transition/src/transition/textTween.js","../../../node_modules/d3-transition/src/transition/remove.js","../../../node_modules/d3-transition/src/transition/ease.js","../../../node_modules/d3-transition/src/transition/easeVarying.js","../../../node_modules/d3-transition/src/transition/end.js","../../../node_modules/d3-transition/src/selection/transition.js","../../../node_modules/d3-ease/src/cubic.js","../../../node_modules/d3-transition/src/selection/index.js","../../../node_modules/d3-transition/src/selection/interrupt.js","../../../node_modules/d3-zoom/src/constant.js","../../../node_modules/d3-zoom/src/event.js","../../../node_modules/d3-zoom/src/transform.js","../../../node_modules/d3-zoom/src/noevent.js","../../../node_modules/d3-zoom/src/zoom.js","../../../node_modules/d3-drag/src/constant.js","../../../node_modules/d3-drag/src/event.js","../../../node_modules/d3-drag/src/drag.js","../../../node_modules/@reactflow/core/dist/esm/index.mjs","../../../node_modules/classcat/index.js","../../../node_modules/zustand/esm/shallow.mjs"],"sourcesContent":["const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import React, { memo, useRef } from 'react';\nimport cc from 'classcat';\nimport { useStore } from '@reactflow/core';\nimport { shallow } from 'zustand/shallow';\n\nvar BackgroundVariant;\n(function (BackgroundVariant) {\n    BackgroundVariant[\"Lines\"] = \"lines\";\n    BackgroundVariant[\"Dots\"] = \"dots\";\n    BackgroundVariant[\"Cross\"] = \"cross\";\n})(BackgroundVariant || (BackgroundVariant = {}));\n\nfunction LinePattern({ color, dimensions, lineWidth }) {\n    return (React.createElement(\"path\", { stroke: color, strokeWidth: lineWidth, d: `M${dimensions[0] / 2} 0 V${dimensions[1]} M0 ${dimensions[1] / 2} H${dimensions[0]}` }));\n}\nfunction DotPattern({ color, radius }) {\n    return React.createElement(\"circle\", { cx: radius, cy: radius, r: radius, fill: color });\n}\n\nconst defaultColor = {\n    [BackgroundVariant.Dots]: '#91919a',\n    [BackgroundVariant.Lines]: '#eee',\n    [BackgroundVariant.Cross]: '#e2e2e2',\n};\nconst defaultSize = {\n    [BackgroundVariant.Dots]: 1,\n    [BackgroundVariant.Lines]: 1,\n    [BackgroundVariant.Cross]: 6,\n};\nconst selector = (s) => ({ transform: s.transform, patternId: `pattern-${s.rfId}` });\nfunction Background({ id, variant = BackgroundVariant.Dots, \n// only used for dots and cross\ngap = 20, \n// only used for lines and cross\nsize, lineWidth = 1, offset = 2, color, style, className, }) {\n    const ref = useRef(null);\n    const { transform, patternId } = useStore(selector, shallow);\n    const patternColor = color || defaultColor[variant];\n    const patternSize = size || defaultSize[variant];\n    const isDots = variant === BackgroundVariant.Dots;\n    const isCross = variant === BackgroundVariant.Cross;\n    const gapXY = Array.isArray(gap) ? gap : [gap, gap];\n    const scaledGap = [gapXY[0] * transform[2] || 1, gapXY[1] * transform[2] || 1];\n    const scaledSize = patternSize * transform[2];\n    const patternDimensions = isCross ? [scaledSize, scaledSize] : scaledGap;\n    const patternOffset = isDots\n        ? [scaledSize / offset, scaledSize / offset]\n        : [patternDimensions[0] / offset, patternDimensions[1] / offset];\n    return (React.createElement(\"svg\", { className: cc(['react-flow__background', className]), style: {\n            ...style,\n            position: 'absolute',\n            width: '100%',\n            height: '100%',\n            top: 0,\n            left: 0,\n        }, ref: ref, \"data-testid\": \"rf__background\" },\n        React.createElement(\"pattern\", { id: patternId + id, x: transform[0] % scaledGap[0], y: transform[1] % scaledGap[1], width: scaledGap[0], height: scaledGap[1], patternUnits: \"userSpaceOnUse\", patternTransform: `translate(-${patternOffset[0]},-${patternOffset[1]})` }, isDots ? (React.createElement(DotPattern, { color: patternColor, radius: scaledSize / offset })) : (React.createElement(LinePattern, { dimensions: patternDimensions, color: patternColor, lineWidth: lineWidth }))),\n        React.createElement(\"rect\", { x: \"0\", y: \"0\", width: \"100%\", height: \"100%\", fill: `url(#${patternId + id})` })));\n}\nBackground.displayName = 'Background';\nvar Background$1 = memo(Background);\n\nexport { Background$1 as Background, BackgroundVariant };\n","import React, { memo, useState, useEffect } from 'react';\nimport cc from 'classcat';\nimport { shallow } from 'zustand/shallow';\nimport { useStoreApi, useStore, useReactFlow, Panel } from '@reactflow/core';\n\nfunction PlusIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 32\" },\n        React.createElement(\"path\", { d: \"M32 18.133H18.133V32h-4.266V18.133H0v-4.266h13.867V0h4.266v13.867H32z\" })));\n}\n\nfunction MinusIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 5\" },\n        React.createElement(\"path\", { d: \"M0 0h32v4.2H0z\" })));\n}\n\nfunction FitViewIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 32 30\" },\n        React.createElement(\"path\", { d: \"M3.692 4.63c0-.53.4-.938.939-.938h5.215V0H4.708C2.13 0 0 2.054 0 4.63v5.216h3.692V4.631zM27.354 0h-5.2v3.692h5.17c.53 0 .984.4.984.939v5.215H32V4.631A4.624 4.624 0 0027.354 0zm.954 24.83c0 .532-.4.94-.939.94h-5.215v3.768h5.215c2.577 0 4.631-2.13 4.631-4.707v-5.139h-3.692v5.139zm-23.677.94c-.531 0-.939-.4-.939-.94v-5.138H0v5.139c0 2.577 2.13 4.707 4.708 4.707h5.138V25.77H4.631z\" })));\n}\n\nfunction LockIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 25 32\" },\n        React.createElement(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0 8 0 4.571 3.429 4.571 7.619v3.048H3.048A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047zm4.724-13.866H7.467V7.619c0-2.59 2.133-4.724 4.723-4.724 2.591 0 4.724 2.133 4.724 4.724v3.048z\" })));\n}\n\nfunction UnlockIcon() {\n    return (React.createElement(\"svg\", { xmlns: \"http://www.w3.org/2000/svg\", viewBox: \"0 0 25 32\" },\n        React.createElement(\"path\", { d: \"M21.333 10.667H19.81V7.619C19.81 3.429 16.38 0 12.19 0c-4.114 1.828-1.37 2.133.305 2.438 1.676.305 4.42 2.59 4.42 5.181v3.048H3.047A3.056 3.056 0 000 13.714v15.238A3.056 3.056 0 003.048 32h18.285a3.056 3.056 0 003.048-3.048V13.714a3.056 3.056 0 00-3.048-3.047zM12.19 24.533a3.056 3.056 0 01-3.047-3.047 3.056 3.056 0 013.047-3.048 3.056 3.056 0 013.048 3.048 3.056 3.056 0 01-3.048 3.047z\" })));\n}\n\nconst ControlButton = ({ children, className, ...rest }) => (React.createElement(\"button\", { type: \"button\", className: cc(['react-flow__controls-button', className]), ...rest }, children));\nControlButton.displayName = 'ControlButton';\n\nconst selector = (s) => ({\n    isInteractive: s.nodesDraggable || s.nodesConnectable || s.elementsSelectable,\n    minZoomReached: s.transform[2] <= s.minZoom,\n    maxZoomReached: s.transform[2] >= s.maxZoom,\n});\nconst Controls = ({ style, showZoom = true, showFitView = true, showInteractive = true, fitViewOptions, onZoomIn, onZoomOut, onFitView, onInteractiveChange, className, children, position = 'bottom-left', }) => {\n    const store = useStoreApi();\n    const [isVisible, setIsVisible] = useState(false);\n    const { isInteractive, minZoomReached, maxZoomReached } = useStore(selector, shallow);\n    const { zoomIn, zoomOut, fitView } = useReactFlow();\n    useEffect(() => {\n        setIsVisible(true);\n    }, []);\n    if (!isVisible) {\n        return null;\n    }\n    const onZoomInHandler = () => {\n        zoomIn();\n        onZoomIn?.();\n    };\n    const onZoomOutHandler = () => {\n        zoomOut();\n        onZoomOut?.();\n    };\n    const onFitViewHandler = () => {\n        fitView(fitViewOptions);\n        onFitView?.();\n    };\n    const onToggleInteractivity = () => {\n        store.setState({\n            nodesDraggable: !isInteractive,\n            nodesConnectable: !isInteractive,\n            elementsSelectable: !isInteractive,\n        });\n        onInteractiveChange?.(!isInteractive);\n    };\n    return (React.createElement(Panel, { className: cc(['react-flow__controls', className]), position: position, style: style, \"data-testid\": \"rf__controls\" },\n        showZoom && (React.createElement(React.Fragment, null,\n            React.createElement(ControlButton, { onClick: onZoomInHandler, className: \"react-flow__controls-zoomin\", title: \"zoom in\", \"aria-label\": \"zoom in\", disabled: maxZoomReached },\n                React.createElement(PlusIcon, null)),\n            React.createElement(ControlButton, { onClick: onZoomOutHandler, className: \"react-flow__controls-zoomout\", title: \"zoom out\", \"aria-label\": \"zoom out\", disabled: minZoomReached },\n                React.createElement(MinusIcon, null)))),\n        showFitView && (React.createElement(ControlButton, { className: \"react-flow__controls-fitview\", onClick: onFitViewHandler, title: \"fit view\", \"aria-label\": \"fit view\" },\n            React.createElement(FitViewIcon, null))),\n        showInteractive && (React.createElement(ControlButton, { className: \"react-flow__controls-interactive\", onClick: onToggleInteractivity, title: \"toggle interactivity\", \"aria-label\": \"toggle interactivity\" }, isInteractive ? React.createElement(UnlockIcon, null) : React.createElement(LockIcon, null))),\n        children));\n};\nControls.displayName = 'Controls';\nvar Controls$1 = memo(Controls);\n\nexport { ControlButton, Controls$1 as Controls };\n","const createStoreImpl = (createState) => {\n  let state;\n  const listeners = /* @__PURE__ */ new Set();\n  const setState = (partial, replace) => {\n    const nextState = typeof partial === \"function\" ? partial(state) : partial;\n    if (!Object.is(nextState, state)) {\n      const previousState = state;\n      state = (replace != null ? replace : typeof nextState !== \"object\") ? nextState : Object.assign({}, state, nextState);\n      listeners.forEach((listener) => listener(state, previousState));\n    }\n  };\n  const getState = () => state;\n  const subscribe = (listener) => {\n    listeners.add(listener);\n    return () => listeners.delete(listener);\n  };\n  const destroy = () => {\n    if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n      console.warn(\n        \"[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected.\"\n      );\n    }\n    listeners.clear();\n  };\n  const api = { setState, getState, subscribe, destroy };\n  state = createState(setState, getState, api);\n  return api;\n};\nconst createStore = (createState) => createState ? createStoreImpl(createState) : createStoreImpl;\nvar vanilla = (createState) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use import { createStore } from 'zustand/vanilla'.\"\n    );\n  }\n  return createStore(createState);\n};\n\nexport { createStore, vanilla as default };\n","import ReactExports from 'react';\nimport useSyncExternalStoreExports from 'use-sync-external-store/shim/with-selector.js';\nimport { createStore } from 'zustand/vanilla';\n\nconst { useDebugValue } = ReactExports;\nconst { useSyncExternalStoreWithSelector } = useSyncExternalStoreExports;\nfunction useStoreWithEqualityFn(api, selector = api.getState, equalityFn) {\n  const slice = useSyncExternalStoreWithSelector(\n    api.subscribe,\n    api.getState,\n    api.getServerState || api.getState,\n    selector,\n    equalityFn\n  );\n  useDebugValue(slice);\n  return slice;\n}\nconst createWithEqualityFnImpl = (createState, defaultEqualityFn) => {\n  const api = createStore(createState);\n  const useBoundStoreWithEqualityFn = (selector, equalityFn = defaultEqualityFn) => useStoreWithEqualityFn(api, selector, equalityFn);\n  Object.assign(useBoundStoreWithEqualityFn, api);\n  return useBoundStoreWithEqualityFn;\n};\nconst createWithEqualityFn = (createState, defaultEqualityFn) => createState ? createWithEqualityFnImpl(createState, defaultEqualityFn) : createWithEqualityFnImpl;\n\nexport { createWithEqualityFn, useStoreWithEqualityFn };\n","var noop = {value: () => {}};\n\nfunction dispatch() {\n  for (var i = 0, n = arguments.length, _ = {}, t; i < n; ++i) {\n    if (!(t = arguments[i] + \"\") || (t in _) || /[\\s.]/.test(t)) throw new Error(\"illegal type: \" + t);\n    _[t] = [];\n  }\n  return new Dispatch(_);\n}\n\nfunction Dispatch(_) {\n  this._ = _;\n}\n\nfunction parseTypenames(typenames, types) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    if (t && !types.hasOwnProperty(t)) throw new Error(\"unknown type: \" + t);\n    return {type: t, name: name};\n  });\n}\n\nDispatch.prototype = dispatch.prototype = {\n  constructor: Dispatch,\n  on: function(typename, callback) {\n    var _ = this._,\n        T = parseTypenames(typename + \"\", _),\n        t,\n        i = -1,\n        n = T.length;\n\n    // If no callback was specified, return the callback of the given type and name.\n    if (arguments.length < 2) {\n      while (++i < n) if ((t = (typename = T[i]).type) && (t = get(_[t], typename.name))) return t;\n      return;\n    }\n\n    // If a type was specified, set the callback for the given type and name.\n    // Otherwise, if a null callback was specified, remove callbacks of the given name.\n    if (callback != null && typeof callback !== \"function\") throw new Error(\"invalid callback: \" + callback);\n    while (++i < n) {\n      if (t = (typename = T[i]).type) _[t] = set(_[t], typename.name, callback);\n      else if (callback == null) for (t in _) _[t] = set(_[t], typename.name, null);\n    }\n\n    return this;\n  },\n  copy: function() {\n    var copy = {}, _ = this._;\n    for (var t in _) copy[t] = _[t].slice();\n    return new Dispatch(copy);\n  },\n  call: function(type, that) {\n    if ((n = arguments.length - 2) > 0) for (var args = new Array(n), i = 0, n, t; i < n; ++i) args[i] = arguments[i + 2];\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  },\n  apply: function(type, that, args) {\n    if (!this._.hasOwnProperty(type)) throw new Error(\"unknown type: \" + type);\n    for (var t = this._[type], i = 0, n = t.length; i < n; ++i) t[i].value.apply(that, args);\n  }\n};\n\nfunction get(type, name) {\n  for (var i = 0, n = type.length, c; i < n; ++i) {\n    if ((c = type[i]).name === name) {\n      return c.value;\n    }\n  }\n}\n\nfunction set(type, name, callback) {\n  for (var i = 0, n = type.length; i < n; ++i) {\n    if (type[i].name === name) {\n      type[i] = noop, type = type.slice(0, i).concat(type.slice(i + 1));\n      break;\n    }\n  }\n  if (callback != null) type.push({name: name, value: callback});\n  return type;\n}\n\nexport default dispatch;\n","function none() {}\n\nexport default function(selector) {\n  return selector == null ? none : function() {\n    return this.querySelector(selector);\n  };\n}\n","function empty() {\n  return [];\n}\n\nexport default function(selector) {\n  return selector == null ? empty : function() {\n    return this.querySelectorAll(selector);\n  };\n}\n","import {Selection} from \"./index.js\";\nimport array from \"../array.js\";\nimport selectorAll from \"../selectorAll.js\";\n\nfunction arrayAll(select) {\n  return function() {\n    return array(select.apply(this, arguments));\n  };\n}\n\nexport default function(select) {\n  if (typeof select === \"function\") select = arrayAll(select);\n  else select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        subgroups.push(select.call(node, node.__data__, i, group));\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, parents);\n}\n","// Given something array like (or null), returns something that is strictly an\n// array. This is used to ensure that array-like objects passed to d3.selectAll\n// or selection.selectAll are converted into proper arrays when creating a\n// selection; we dont ever want to create a selection backed by a live\n// HTMLCollection or NodeList. However, note that selection.selectAll will use a\n// static NodeList as a group, since it safely derived from querySelectorAll.\nexport default function array(x) {\n  return x == null ? [] : Array.isArray(x) ? x : Array.from(x);\n}\n","export default function(selector) {\n  return function() {\n    return this.matches(selector);\n  };\n}\n\nexport function childMatcher(selector) {\n  return function(node) {\n    return node.matches(selector);\n  };\n}\n\n","import {childMatcher} from \"../matcher.js\";\n\nvar find = Array.prototype.find;\n\nfunction childFind(match) {\n  return function() {\n    return find.call(this.children, match);\n  };\n}\n\nfunction childFirst() {\n  return this.firstElementChild;\n}\n\nexport default function(match) {\n  return this.select(match == null ? childFirst\n      : childFind(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","import {childMatcher} from \"../matcher.js\";\n\nvar filter = Array.prototype.filter;\n\nfunction children() {\n  return Array.from(this.children);\n}\n\nfunction childrenFilter(match) {\n  return function() {\n    return filter.call(this.children, match);\n  };\n}\n\nexport default function(match) {\n  return this.selectAll(match == null ? children\n      : childrenFilter(typeof match === \"function\" ? match : childMatcher(match)));\n}\n","export default function(update) {\n  return new Array(update.length);\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._enter || this._groups.map(sparse), this._parents);\n}\n\nexport function EnterNode(parent, datum) {\n  this.ownerDocument = parent.ownerDocument;\n  this.namespaceURI = parent.namespaceURI;\n  this._next = null;\n  this._parent = parent;\n  this.__data__ = datum;\n}\n\nEnterNode.prototype = {\n  constructor: EnterNode,\n  appendChild: function(child) { return this._parent.insertBefore(child, this._next); },\n  insertBefore: function(child, next) { return this._parent.insertBefore(child, next); },\n  querySelector: function(selector) { return this._parent.querySelector(selector); },\n  querySelectorAll: function(selector) { return this._parent.querySelectorAll(selector); }\n};\n","import {Selection} from \"./index.js\";\nimport {EnterNode} from \"./enter.js\";\nimport constant from \"../constant.js\";\n\nfunction bindIndex(parent, group, enter, update, exit, data) {\n  var i = 0,\n      node,\n      groupLength = group.length,\n      dataLength = data.length;\n\n  // Put any non-null nodes that fit into update.\n  // Put any null nodes into enter.\n  // Put any remaining data into enter.\n  for (; i < dataLength; ++i) {\n    if (node = group[i]) {\n      node.__data__ = data[i];\n      update[i] = node;\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Put any non-null nodes that dont fit into exit.\n  for (; i < groupLength; ++i) {\n    if (node = group[i]) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction bindKey(parent, group, enter, update, exit, data, key) {\n  var i,\n      node,\n      nodeByKeyValue = new Map,\n      groupLength = group.length,\n      dataLength = data.length,\n      keyValues = new Array(groupLength),\n      keyValue;\n\n  // Compute the key for each node.\n  // If multiple nodes have the same key, the duplicates are added to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if (node = group[i]) {\n      keyValues[i] = keyValue = key.call(node, node.__data__, i, group) + \"\";\n      if (nodeByKeyValue.has(keyValue)) {\n        exit[i] = node;\n      } else {\n        nodeByKeyValue.set(keyValue, node);\n      }\n    }\n  }\n\n  // Compute the key for each datum.\n  // If there a node associated with this key, join and add it to update.\n  // If there is not (or the key is a duplicate), add it to enter.\n  for (i = 0; i < dataLength; ++i) {\n    keyValue = key.call(parent, data[i], i, data) + \"\";\n    if (node = nodeByKeyValue.get(keyValue)) {\n      update[i] = node;\n      node.__data__ = data[i];\n      nodeByKeyValue.delete(keyValue);\n    } else {\n      enter[i] = new EnterNode(parent, data[i]);\n    }\n  }\n\n  // Add any remaining nodes that were not bound to data to exit.\n  for (i = 0; i < groupLength; ++i) {\n    if ((node = group[i]) && (nodeByKeyValue.get(keyValues[i]) === node)) {\n      exit[i] = node;\n    }\n  }\n}\n\nfunction datum(node) {\n  return node.__data__;\n}\n\nexport default function(value, key) {\n  if (!arguments.length) return Array.from(this, datum);\n\n  var bind = key ? bindKey : bindIndex,\n      parents = this._parents,\n      groups = this._groups;\n\n  if (typeof value !== \"function\") value = constant(value);\n\n  for (var m = groups.length, update = new Array(m), enter = new Array(m), exit = new Array(m), j = 0; j < m; ++j) {\n    var parent = parents[j],\n        group = groups[j],\n        groupLength = group.length,\n        data = arraylike(value.call(parent, parent && parent.__data__, j, parents)),\n        dataLength = data.length,\n        enterGroup = enter[j] = new Array(dataLength),\n        updateGroup = update[j] = new Array(dataLength),\n        exitGroup = exit[j] = new Array(groupLength);\n\n    bind(parent, group, enterGroup, updateGroup, exitGroup, data, key);\n\n    // Now connect the enter nodes to their following update node, such that\n    // appendChild can insert the materialized enter node before this node,\n    // rather than at the end of the parent node.\n    for (var i0 = 0, i1 = 0, previous, next; i0 < dataLength; ++i0) {\n      if (previous = enterGroup[i0]) {\n        if (i0 >= i1) i1 = i0 + 1;\n        while (!(next = updateGroup[i1]) && ++i1 < dataLength);\n        previous._next = next || null;\n      }\n    }\n  }\n\n  update = new Selection(update, parents);\n  update._enter = enter;\n  update._exit = exit;\n  return update;\n}\n\n// Given some data, this returns an array-like view of it: an object that\n// exposes a length property and allows numeric indexing. Note that unlike\n// selectAll, this isnt worried about live collections because the resulting\n// array will only be used briefly while data is being bound. (It is possible to\n// cause the data to change while iterating by using a key function, but please\n// dont; wed rather avoid a gratuitous copy.)\nfunction arraylike(data) {\n  return typeof data === \"object\" && \"length\" in data\n    ? data // Array, TypedArray, NodeList, array-like\n    : Array.from(data); // Map, Set, iterable, string, or anything else\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(compare) {\n  if (!compare) compare = ascending;\n\n  function compareNode(a, b) {\n    return a && b ? compare(a.__data__, b.__data__) : !a - !b;\n  }\n\n  for (var groups = this._groups, m = groups.length, sortgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, sortgroup = sortgroups[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        sortgroup[i] = node;\n      }\n    }\n    sortgroup.sort(compareNode);\n  }\n\n  return new Selection(sortgroups, this._parents).order();\n}\n\nfunction ascending(a, b) {\n  return a < b ? -1 : a > b ? 1 : a >= b ? 0 : NaN;\n}\n","export var xhtml = \"http://www.w3.org/1999/xhtml\";\n\nexport default {\n  svg: \"http://www.w3.org/2000/svg\",\n  xhtml: xhtml,\n  xlink: \"http://www.w3.org/1999/xlink\",\n  xml: \"http://www.w3.org/XML/1998/namespace\",\n  xmlns: \"http://www.w3.org/2000/xmlns/\"\n};\n","import namespaces from \"./namespaces.js\";\n\nexport default function(name) {\n  var prefix = name += \"\", i = prefix.indexOf(\":\");\n  if (i >= 0 && (prefix = name.slice(0, i)) !== \"xmlns\") name = name.slice(i + 1);\n  return namespaces.hasOwnProperty(prefix) ? {space: namespaces[prefix], local: name} : name; // eslint-disable-line no-prototype-builtins\n}\n","import namespace from \"../namespace.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, value) {\n  return function() {\n    this.setAttribute(name, value);\n  };\n}\n\nfunction attrConstantNS(fullname, value) {\n  return function() {\n    this.setAttributeNS(fullname.space, fullname.local, value);\n  };\n}\n\nfunction attrFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttribute(name);\n    else this.setAttribute(name, v);\n  };\n}\n\nfunction attrFunctionNS(fullname, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.removeAttributeNS(fullname.space, fullname.local);\n    else this.setAttributeNS(fullname.space, fullname.local, v);\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name);\n\n  if (arguments.length < 2) {\n    var node = this.node();\n    return fullname.local\n        ? node.getAttributeNS(fullname.space, fullname.local)\n        : node.getAttribute(fullname);\n  }\n\n  return this.each((value == null\n      ? (fullname.local ? attrRemoveNS : attrRemove) : (typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)\n      : (fullname.local ? attrConstantNS : attrConstant)))(fullname, value));\n}\n","export default function(node) {\n  return (node.ownerDocument && node.ownerDocument.defaultView) // node is a Node\n      || (node.document && node) // node is a Window\n      || node.defaultView; // node is a Document\n}\n","import defaultView from \"../window.js\";\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, value, priority) {\n  return function() {\n    this.style.setProperty(name, value, priority);\n  };\n}\n\nfunction styleFunction(name, value, priority) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) this.style.removeProperty(name);\n    else this.style.setProperty(name, v, priority);\n  };\n}\n\nexport default function(name, value, priority) {\n  return arguments.length > 1\n      ? this.each((value == null\n            ? styleRemove : typeof value === \"function\"\n            ? styleFunction\n            : styleConstant)(name, value, priority == null ? \"\" : priority))\n      : styleValue(this.node(), name);\n}\n\nexport function styleValue(node, name) {\n  return node.style.getPropertyValue(name)\n      || defaultView(node).getComputedStyle(node, null).getPropertyValue(name);\n}\n","function propertyRemove(name) {\n  return function() {\n    delete this[name];\n  };\n}\n\nfunction propertyConstant(name, value) {\n  return function() {\n    this[name] = value;\n  };\n}\n\nfunction propertyFunction(name, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (v == null) delete this[name];\n    else this[name] = v;\n  };\n}\n\nexport default function(name, value) {\n  return arguments.length > 1\n      ? this.each((value == null\n          ? propertyRemove : typeof value === \"function\"\n          ? propertyFunction\n          : propertyConstant)(name, value))\n      : this.node()[name];\n}\n","function classArray(string) {\n  return string.trim().split(/^|\\s+/);\n}\n\nfunction classList(node) {\n  return node.classList || new ClassList(node);\n}\n\nfunction ClassList(node) {\n  this._node = node;\n  this._names = classArray(node.getAttribute(\"class\") || \"\");\n}\n\nClassList.prototype = {\n  add: function(name) {\n    var i = this._names.indexOf(name);\n    if (i < 0) {\n      this._names.push(name);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  remove: function(name) {\n    var i = this._names.indexOf(name);\n    if (i >= 0) {\n      this._names.splice(i, 1);\n      this._node.setAttribute(\"class\", this._names.join(\" \"));\n    }\n  },\n  contains: function(name) {\n    return this._names.indexOf(name) >= 0;\n  }\n};\n\nfunction classedAdd(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.add(names[i]);\n}\n\nfunction classedRemove(node, names) {\n  var list = classList(node), i = -1, n = names.length;\n  while (++i < n) list.remove(names[i]);\n}\n\nfunction classedTrue(names) {\n  return function() {\n    classedAdd(this, names);\n  };\n}\n\nfunction classedFalse(names) {\n  return function() {\n    classedRemove(this, names);\n  };\n}\n\nfunction classedFunction(names, value) {\n  return function() {\n    (value.apply(this, arguments) ? classedAdd : classedRemove)(this, names);\n  };\n}\n\nexport default function(name, value) {\n  var names = classArray(name + \"\");\n\n  if (arguments.length < 2) {\n    var list = classList(this.node()), i = -1, n = names.length;\n    while (++i < n) if (!list.contains(names[i])) return false;\n    return true;\n  }\n\n  return this.each((typeof value === \"function\"\n      ? classedFunction : value\n      ? classedTrue\n      : classedFalse)(names, value));\n}\n","function textRemove() {\n  this.textContent = \"\";\n}\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.textContent = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? textRemove : (typeof value === \"function\"\n          ? textFunction\n          : textConstant)(value))\n      : this.node().textContent;\n}\n","function htmlRemove() {\n  this.innerHTML = \"\";\n}\n\nfunction htmlConstant(value) {\n  return function() {\n    this.innerHTML = value;\n  };\n}\n\nfunction htmlFunction(value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    this.innerHTML = v == null ? \"\" : v;\n  };\n}\n\nexport default function(value) {\n  return arguments.length\n      ? this.each(value == null\n          ? htmlRemove : (typeof value === \"function\"\n          ? htmlFunction\n          : htmlConstant)(value))\n      : this.node().innerHTML;\n}\n","function raise() {\n  if (this.nextSibling) this.parentNode.appendChild(this);\n}\n\nexport default function() {\n  return this.each(raise);\n}\n","function lower() {\n  if (this.previousSibling) this.parentNode.insertBefore(this, this.parentNode.firstChild);\n}\n\nexport default function() {\n  return this.each(lower);\n}\n","import namespace from \"./namespace.js\";\nimport {xhtml} from \"./namespaces.js\";\n\nfunction creatorInherit(name) {\n  return function() {\n    var document = this.ownerDocument,\n        uri = this.namespaceURI;\n    return uri === xhtml && document.documentElement.namespaceURI === xhtml\n        ? document.createElement(name)\n        : document.createElementNS(uri, name);\n  };\n}\n\nfunction creatorFixed(fullname) {\n  return function() {\n    return this.ownerDocument.createElementNS(fullname.space, fullname.local);\n  };\n}\n\nexport default function(name) {\n  var fullname = namespace(name);\n  return (fullname.local\n      ? creatorFixed\n      : creatorInherit)(fullname);\n}\n","import creator from \"../creator.js\";\nimport selector from \"../selector.js\";\n\nfunction constantNull() {\n  return null;\n}\n\nexport default function(name, before) {\n  var create = typeof name === \"function\" ? name : creator(name),\n      select = before == null ? constantNull : typeof before === \"function\" ? before : selector(before);\n  return this.select(function() {\n    return this.insertBefore(create.apply(this, arguments), select.apply(this, arguments) || null);\n  });\n}\n","function remove() {\n  var parent = this.parentNode;\n  if (parent) parent.removeChild(this);\n}\n\nexport default function() {\n  return this.each(remove);\n}\n","function selection_cloneShallow() {\n  var clone = this.cloneNode(false), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nfunction selection_cloneDeep() {\n  var clone = this.cloneNode(true), parent = this.parentNode;\n  return parent ? parent.insertBefore(clone, this.nextSibling) : clone;\n}\n\nexport default function(deep) {\n  return this.select(deep ? selection_cloneDeep : selection_cloneShallow);\n}\n","function contextListener(listener) {\n  return function(event) {\n    listener.call(this, event, this.__data__);\n  };\n}\n\nfunction parseTypenames(typenames) {\n  return typenames.trim().split(/^|\\s+/).map(function(t) {\n    var name = \"\", i = t.indexOf(\".\");\n    if (i >= 0) name = t.slice(i + 1), t = t.slice(0, i);\n    return {type: t, name: name};\n  });\n}\n\nfunction onRemove(typename) {\n  return function() {\n    var on = this.__on;\n    if (!on) return;\n    for (var j = 0, i = -1, m = on.length, o; j < m; ++j) {\n      if (o = on[j], (!typename.type || o.type === typename.type) && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n      } else {\n        on[++i] = o;\n      }\n    }\n    if (++i) on.length = i;\n    else delete this.__on;\n  };\n}\n\nfunction onAdd(typename, value, options) {\n  return function() {\n    var on = this.__on, o, listener = contextListener(value);\n    if (on) for (var j = 0, m = on.length; j < m; ++j) {\n      if ((o = on[j]).type === typename.type && o.name === typename.name) {\n        this.removeEventListener(o.type, o.listener, o.options);\n        this.addEventListener(o.type, o.listener = listener, o.options = options);\n        o.value = value;\n        return;\n      }\n    }\n    this.addEventListener(typename.type, listener, options);\n    o = {type: typename.type, name: typename.name, value: value, listener: listener, options: options};\n    if (!on) this.__on = [o];\n    else on.push(o);\n  };\n}\n\nexport default function(typename, value, options) {\n  var typenames = parseTypenames(typename + \"\"), i, n = typenames.length, t;\n\n  if (arguments.length < 2) {\n    var on = this.node().__on;\n    if (on) for (var j = 0, m = on.length, o; j < m; ++j) {\n      for (i = 0, o = on[j]; i < n; ++i) {\n        if ((t = typenames[i]).type === o.type && t.name === o.name) {\n          return o.value;\n        }\n      }\n    }\n    return;\n  }\n\n  on = value ? onAdd : onRemove;\n  for (i = 0; i < n; ++i) this.each(on(typenames[i], value, options));\n  return this;\n}\n","import defaultView from \"../window.js\";\n\nfunction dispatchEvent(node, type, params) {\n  var window = defaultView(node),\n      event = window.CustomEvent;\n\n  if (typeof event === \"function\") {\n    event = new event(type, params);\n  } else {\n    event = window.document.createEvent(\"Event\");\n    if (params) event.initEvent(type, params.bubbles, params.cancelable), event.detail = params.detail;\n    else event.initEvent(type, false, false);\n  }\n\n  node.dispatchEvent(event);\n}\n\nfunction dispatchConstant(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params);\n  };\n}\n\nfunction dispatchFunction(type, params) {\n  return function() {\n    return dispatchEvent(this, type, params.apply(this, arguments));\n  };\n}\n\nexport default function(type, params) {\n  return this.each((typeof params === \"function\"\n      ? dispatchFunction\n      : dispatchConstant)(type, params));\n}\n","import selection_select from \"./select.js\";\nimport selection_selectAll from \"./selectAll.js\";\nimport selection_selectChild from \"./selectChild.js\";\nimport selection_selectChildren from \"./selectChildren.js\";\nimport selection_filter from \"./filter.js\";\nimport selection_data from \"./data.js\";\nimport selection_enter from \"./enter.js\";\nimport selection_exit from \"./exit.js\";\nimport selection_join from \"./join.js\";\nimport selection_merge from \"./merge.js\";\nimport selection_order from \"./order.js\";\nimport selection_sort from \"./sort.js\";\nimport selection_call from \"./call.js\";\nimport selection_nodes from \"./nodes.js\";\nimport selection_node from \"./node.js\";\nimport selection_size from \"./size.js\";\nimport selection_empty from \"./empty.js\";\nimport selection_each from \"./each.js\";\nimport selection_attr from \"./attr.js\";\nimport selection_style from \"./style.js\";\nimport selection_property from \"./property.js\";\nimport selection_classed from \"./classed.js\";\nimport selection_text from \"./text.js\";\nimport selection_html from \"./html.js\";\nimport selection_raise from \"./raise.js\";\nimport selection_lower from \"./lower.js\";\nimport selection_append from \"./append.js\";\nimport selection_insert from \"./insert.js\";\nimport selection_remove from \"./remove.js\";\nimport selection_clone from \"./clone.js\";\nimport selection_datum from \"./datum.js\";\nimport selection_on from \"./on.js\";\nimport selection_dispatch from \"./dispatch.js\";\nimport selection_iterator from \"./iterator.js\";\n\nexport var root = [null];\n\nexport function Selection(groups, parents) {\n  this._groups = groups;\n  this._parents = parents;\n}\n\nfunction selection() {\n  return new Selection([[document.documentElement]], root);\n}\n\nfunction selection_selection() {\n  return this;\n}\n\nSelection.prototype = selection.prototype = {\n  constructor: Selection,\n  select: selection_select,\n  selectAll: selection_selectAll,\n  selectChild: selection_selectChild,\n  selectChildren: selection_selectChildren,\n  filter: selection_filter,\n  data: selection_data,\n  enter: selection_enter,\n  exit: selection_exit,\n  join: selection_join,\n  merge: selection_merge,\n  selection: selection_selection,\n  order: selection_order,\n  sort: selection_sort,\n  call: selection_call,\n  nodes: selection_nodes,\n  node: selection_node,\n  size: selection_size,\n  empty: selection_empty,\n  each: selection_each,\n  attr: selection_attr,\n  style: selection_style,\n  property: selection_property,\n  classed: selection_classed,\n  text: selection_text,\n  html: selection_html,\n  raise: selection_raise,\n  lower: selection_lower,\n  append: selection_append,\n  insert: selection_insert,\n  remove: selection_remove,\n  clone: selection_clone,\n  datum: selection_datum,\n  on: selection_on,\n  dispatch: selection_dispatch,\n  [Symbol.iterator]: selection_iterator\n};\n\nexport default selection;\n","import {Selection} from \"./index.js\";\nimport selector from \"../selector.js\";\n\nexport default function(select) {\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","import {Selection} from \"./index.js\";\nimport matcher from \"../matcher.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Selection(subgroups, this._parents);\n}\n","export default function(x) {\n  return function() {\n    return x;\n  };\n}\n","import sparse from \"./sparse.js\";\nimport {Selection} from \"./index.js\";\n\nexport default function() {\n  return new Selection(this._exit || this._groups.map(sparse), this._parents);\n}\n","export default function(onenter, onupdate, onexit) {\n  var enter = this.enter(), update = this, exit = this.exit();\n  if (typeof onenter === \"function\") {\n    enter = onenter(enter);\n    if (enter) enter = enter.selection();\n  } else {\n    enter = enter.append(onenter + \"\");\n  }\n  if (onupdate != null) {\n    update = onupdate(update);\n    if (update) update = update.selection();\n  }\n  if (onexit == null) exit.remove(); else onexit(exit);\n  return enter && update ? enter.merge(update).order() : update;\n}\n","import {Selection} from \"./index.js\";\n\nexport default function(context) {\n  var selection = context.selection ? context.selection() : context;\n\n  for (var groups0 = this._groups, groups1 = selection._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Selection(merges, this._parents);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = -1, m = groups.length; ++j < m;) {\n    for (var group = groups[j], i = group.length - 1, next = group[i], node; --i >= 0;) {\n      if (node = group[i]) {\n        if (next && node.compareDocumentPosition(next) ^ 4) next.parentNode.insertBefore(node, next);\n        next = node;\n      }\n    }\n  }\n\n  return this;\n}\n","export default function() {\n  var callback = arguments[0];\n  arguments[0] = this;\n  callback.apply(null, arguments);\n  return this;\n}\n","export default function() {\n  return Array.from(this);\n}\n","export default function() {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length; i < n; ++i) {\n      var node = group[i];\n      if (node) return node;\n    }\n  }\n\n  return null;\n}\n","export default function() {\n  let size = 0;\n  for (const node of this) ++size; // eslint-disable-line no-unused-vars\n  return size;\n}\n","export default function() {\n  return !this.node();\n}\n","export default function(callback) {\n\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) callback.call(node, node.__data__, i, group);\n    }\n  }\n\n  return this;\n}\n","import creator from \"../creator.js\";\n\nexport default function(name) {\n  var create = typeof name === \"function\" ? name : creator(name);\n  return this.select(function() {\n    return this.appendChild(create.apply(this, arguments));\n  });\n}\n","export default function(value) {\n  return arguments.length\n      ? this.property(\"__data__\", value)\n      : this.node().__data__;\n}\n","export default function*() {\n  for (var groups = this._groups, j = 0, m = groups.length; j < m; ++j) {\n    for (var group = groups[j], i = 0, n = group.length, node; i < n; ++i) {\n      if (node = group[i]) yield node;\n    }\n  }\n}\n","import {Selection, root} from \"./selection/index.js\";\n\nexport default function(selector) {\n  return typeof selector === \"string\"\n      ? new Selection([[document.querySelector(selector)]], [document.documentElement])\n      : new Selection([[selector]], root);\n}\n","// These are typically used in conjunction with noevent to ensure that we can\n// preventDefault on the event.\nexport const nonpassive = {passive: false};\nexport const nonpassivecapture = {capture: true, passive: false};\n\nexport function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {select} from \"d3-selection\";\nimport noevent, {nonpassivecapture} from \"./noevent.js\";\n\nexport default function(view) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", noevent, nonpassivecapture);\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", noevent, nonpassivecapture);\n  } else {\n    root.__noselect = root.style.MozUserSelect;\n    root.style.MozUserSelect = \"none\";\n  }\n}\n\nexport function yesdrag(view, noclick) {\n  var root = view.document.documentElement,\n      selection = select(view).on(\"dragstart.drag\", null);\n  if (noclick) {\n    selection.on(\"click.drag\", noevent, nonpassivecapture);\n    setTimeout(function() { selection.on(\"click.drag\", null); }, 0);\n  }\n  if (\"onselectstart\" in root) {\n    selection.on(\"selectstart.drag\", null);\n  } else {\n    root.style.MozUserSelect = root.__noselect;\n    delete root.__noselect;\n  }\n}\n","var epsilon2 = 1e-12;\n\nfunction cosh(x) {\n  return ((x = Math.exp(x)) + 1 / x) / 2;\n}\n\nfunction sinh(x) {\n  return ((x = Math.exp(x)) - 1 / x) / 2;\n}\n\nfunction tanh(x) {\n  return ((x = Math.exp(2 * x)) - 1) / (x + 1);\n}\n\nexport default (function zoomRho(rho, rho2, rho4) {\n\n  // p0 = [ux0, uy0, w0]\n  // p1 = [ux1, uy1, w1]\n  function zoom(p0, p1) {\n    var ux0 = p0[0], uy0 = p0[1], w0 = p0[2],\n        ux1 = p1[0], uy1 = p1[1], w1 = p1[2],\n        dx = ux1 - ux0,\n        dy = uy1 - uy0,\n        d2 = dx * dx + dy * dy,\n        i,\n        S;\n\n    // Special case for u0  u1.\n    if (d2 < epsilon2) {\n      S = Math.log(w1 / w0) / rho;\n      i = function(t) {\n        return [\n          ux0 + t * dx,\n          uy0 + t * dy,\n          w0 * Math.exp(rho * t * S)\n        ];\n      }\n    }\n\n    // General case.\n    else {\n      var d1 = Math.sqrt(d2),\n          b0 = (w1 * w1 - w0 * w0 + rho4 * d2) / (2 * w0 * rho2 * d1),\n          b1 = (w1 * w1 - w0 * w0 - rho4 * d2) / (2 * w1 * rho2 * d1),\n          r0 = Math.log(Math.sqrt(b0 * b0 + 1) - b0),\n          r1 = Math.log(Math.sqrt(b1 * b1 + 1) - b1);\n      S = (r1 - r0) / rho;\n      i = function(t) {\n        var s = t * S,\n            coshr0 = cosh(r0),\n            u = w0 / (rho2 * d1) * (coshr0 * tanh(rho * s + r0) - sinh(r0));\n        return [\n          ux0 + u * dx,\n          uy0 + u * dy,\n          w0 * coshr0 / cosh(rho * s + r0)\n        ];\n      }\n    }\n\n    i.duration = S * 1000 * rho / Math.SQRT2;\n\n    return i;\n  }\n\n  zoom.rho = function(_) {\n    var _1 = Math.max(1e-3, +_), _2 = _1 * _1, _4 = _2 * _2;\n    return zoomRho(_1, _2, _4);\n  };\n\n  return zoom;\n})(Math.SQRT2, 2, 4);\n","import sourceEvent from \"./sourceEvent.js\";\n\nexport default function(event, node) {\n  event = sourceEvent(event);\n  if (node === undefined) node = event.currentTarget;\n  if (node) {\n    var svg = node.ownerSVGElement || node;\n    if (svg.createSVGPoint) {\n      var point = svg.createSVGPoint();\n      point.x = event.clientX, point.y = event.clientY;\n      point = point.matrixTransform(node.getScreenCTM().inverse());\n      return [point.x, point.y];\n    }\n    if (node.getBoundingClientRect) {\n      var rect = node.getBoundingClientRect();\n      return [event.clientX - rect.left - node.clientLeft, event.clientY - rect.top - node.clientTop];\n    }\n  }\n  return [event.pageX, event.pageY];\n}\n","export default function(event) {\n  let sourceEvent;\n  while (sourceEvent = event.sourceEvent) event = sourceEvent;\n  return event;\n}\n","var frame = 0, // is an animation frame pending?\n    timeout = 0, // is a timeout pending?\n    interval = 0, // are any timers active?\n    pokeDelay = 1000, // how frequently we check for clock skew\n    taskHead,\n    taskTail,\n    clockLast = 0,\n    clockNow = 0,\n    clockSkew = 0,\n    clock = typeof performance === \"object\" && performance.now ? performance : Date,\n    setFrame = typeof window === \"object\" && window.requestAnimationFrame ? window.requestAnimationFrame.bind(window) : function(f) { setTimeout(f, 17); };\n\nexport function now() {\n  return clockNow || (setFrame(clearNow), clockNow = clock.now() + clockSkew);\n}\n\nfunction clearNow() {\n  clockNow = 0;\n}\n\nexport function Timer() {\n  this._call =\n  this._time =\n  this._next = null;\n}\n\nTimer.prototype = timer.prototype = {\n  constructor: Timer,\n  restart: function(callback, delay, time) {\n    if (typeof callback !== \"function\") throw new TypeError(\"callback is not a function\");\n    time = (time == null ? now() : +time) + (delay == null ? 0 : +delay);\n    if (!this._next && taskTail !== this) {\n      if (taskTail) taskTail._next = this;\n      else taskHead = this;\n      taskTail = this;\n    }\n    this._call = callback;\n    this._time = time;\n    sleep();\n  },\n  stop: function() {\n    if (this._call) {\n      this._call = null;\n      this._time = Infinity;\n      sleep();\n    }\n  }\n};\n\nexport function timer(callback, delay, time) {\n  var t = new Timer;\n  t.restart(callback, delay, time);\n  return t;\n}\n\nexport function timerFlush() {\n  now(); // Get the current time, if not already set.\n  ++frame; // Pretend weve set an alarm, if we havent already.\n  var t = taskHead, e;\n  while (t) {\n    if ((e = clockNow - t._time) >= 0) t._call.call(undefined, e);\n    t = t._next;\n  }\n  --frame;\n}\n\nfunction wake() {\n  clockNow = (clockLast = clock.now()) + clockSkew;\n  frame = timeout = 0;\n  try {\n    timerFlush();\n  } finally {\n    frame = 0;\n    nap();\n    clockNow = 0;\n  }\n}\n\nfunction poke() {\n  var now = clock.now(), delay = now - clockLast;\n  if (delay > pokeDelay) clockSkew -= delay, clockLast = now;\n}\n\nfunction nap() {\n  var t0, t1 = taskHead, t2, time = Infinity;\n  while (t1) {\n    if (t1._call) {\n      if (time > t1._time) time = t1._time;\n      t0 = t1, t1 = t1._next;\n    } else {\n      t2 = t1._next, t1._next = null;\n      t1 = t0 ? t0._next = t2 : taskHead = t2;\n    }\n  }\n  taskTail = t0;\n  sleep(time);\n}\n\nfunction sleep(time) {\n  if (frame) return; // Soonest alarm already set, or will be.\n  if (timeout) timeout = clearTimeout(timeout);\n  var delay = time - clockNow; // Strictly less than if we recomputed clockNow.\n  if (delay > 24) {\n    if (time < Infinity) timeout = setTimeout(wake, time - clock.now() - clockSkew);\n    if (interval) interval = clearInterval(interval);\n  } else {\n    if (!interval) clockLast = clock.now(), interval = setInterval(poke, pokeDelay);\n    frame = 1, setFrame(wake);\n  }\n}\n","import {Timer} from \"./timer.js\";\n\nexport default function(callback, delay, time) {\n  var t = new Timer;\n  delay = delay == null ? 0 : +delay;\n  t.restart(elapsed => {\n    t.stop();\n    callback(elapsed + delay);\n  }, delay, time);\n  return t;\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {timer, timeout} from \"d3-timer\";\n\nvar emptyOn = dispatch(\"start\", \"end\", \"cancel\", \"interrupt\");\nvar emptyTween = [];\n\nexport var CREATED = 0;\nexport var SCHEDULED = 1;\nexport var STARTING = 2;\nexport var STARTED = 3;\nexport var RUNNING = 4;\nexport var ENDING = 5;\nexport var ENDED = 6;\n\nexport default function(node, name, id, index, group, timing) {\n  var schedules = node.__transition;\n  if (!schedules) node.__transition = {};\n  else if (id in schedules) return;\n  create(node, id, {\n    name: name,\n    index: index, // For context during callback.\n    group: group, // For context during callback.\n    on: emptyOn,\n    tween: emptyTween,\n    time: timing.time,\n    delay: timing.delay,\n    duration: timing.duration,\n    ease: timing.ease,\n    timer: null,\n    state: CREATED\n  });\n}\n\nexport function init(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > CREATED) throw new Error(\"too late; already scheduled\");\n  return schedule;\n}\n\nexport function set(node, id) {\n  var schedule = get(node, id);\n  if (schedule.state > STARTED) throw new Error(\"too late; already running\");\n  return schedule;\n}\n\nexport function get(node, id) {\n  var schedule = node.__transition;\n  if (!schedule || !(schedule = schedule[id])) throw new Error(\"transition not found\");\n  return schedule;\n}\n\nfunction create(node, id, self) {\n  var schedules = node.__transition,\n      tween;\n\n  // Initialize the self timer when the transition is created.\n  // Note the actual delay is not known until the first callback!\n  schedules[id] = self;\n  self.timer = timer(schedule, 0, self.time);\n\n  function schedule(elapsed) {\n    self.state = SCHEDULED;\n    self.timer.restart(start, self.delay, self.time);\n\n    // If the elapsed delay is less than our first sleep, start immediately.\n    if (self.delay <= elapsed) start(elapsed - self.delay);\n  }\n\n  function start(elapsed) {\n    var i, j, n, o;\n\n    // If the state is not SCHEDULED, then we previously errored on start.\n    if (self.state !== SCHEDULED) return stop();\n\n    for (i in schedules) {\n      o = schedules[i];\n      if (o.name !== self.name) continue;\n\n      // While this element already has a starting transition during this frame,\n      // defer starting an interrupting transition until that transition has a\n      // chance to tick (and possibly end); see d3/d3-transition#54!\n      if (o.state === STARTED) return timeout(start);\n\n      // Interrupt the active transition, if any.\n      if (o.state === RUNNING) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"interrupt\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n\n      // Cancel any pre-empted transitions.\n      else if (+i < id) {\n        o.state = ENDED;\n        o.timer.stop();\n        o.on.call(\"cancel\", node, node.__data__, o.index, o.group);\n        delete schedules[i];\n      }\n    }\n\n    // Defer the first tick to end of the current frame; see d3/d3#1576.\n    // Note the transition may be canceled after start and before the first tick!\n    // Note this must be scheduled before the start event; see d3/d3-transition#16!\n    // Assuming this is successful, subsequent callbacks go straight to tick.\n    timeout(function() {\n      if (self.state === STARTED) {\n        self.state = RUNNING;\n        self.timer.restart(tick, self.delay, self.time);\n        tick(elapsed);\n      }\n    });\n\n    // Dispatch the start event.\n    // Note this must be done before the tween are initialized.\n    self.state = STARTING;\n    self.on.call(\"start\", node, node.__data__, self.index, self.group);\n    if (self.state !== STARTING) return; // interrupted\n    self.state = STARTED;\n\n    // Initialize the tween, deleting null tween.\n    tween = new Array(n = self.tween.length);\n    for (i = 0, j = -1; i < n; ++i) {\n      if (o = self.tween[i].value.call(node, node.__data__, self.index, self.group)) {\n        tween[++j] = o;\n      }\n    }\n    tween.length = j + 1;\n  }\n\n  function tick(elapsed) {\n    var t = elapsed < self.duration ? self.ease.call(null, elapsed / self.duration) : (self.timer.restart(stop), self.state = ENDING, 1),\n        i = -1,\n        n = tween.length;\n\n    while (++i < n) {\n      tween[i].call(node, t);\n    }\n\n    // Dispatch the end event.\n    if (self.state === ENDING) {\n      self.on.call(\"end\", node, node.__data__, self.index, self.group);\n      stop();\n    }\n  }\n\n  function stop() {\n    self.state = ENDED;\n    self.timer.stop();\n    delete schedules[id];\n    for (var i in schedules) return; // eslint-disable-line no-unused-vars\n    delete node.__transition;\n  }\n}\n","import {STARTING, ENDING, ENDED} from \"./transition/schedule.js\";\n\nexport default function(node, name) {\n  var schedules = node.__transition,\n      schedule,\n      active,\n      empty = true,\n      i;\n\n  if (!schedules) return;\n\n  name = name == null ? null : name + \"\";\n\n  for (i in schedules) {\n    if ((schedule = schedules[i]).name !== name) { empty = false; continue; }\n    active = schedule.state > STARTING && schedule.state < ENDING;\n    schedule.state = ENDED;\n    schedule.timer.stop();\n    schedule.on.call(active ? \"interrupt\" : \"cancel\", node, node.__data__, schedule.index, schedule.group);\n    delete schedules[i];\n  }\n\n  if (empty) delete node.__transition;\n}\n","export default function(a, b) {\n  return a = +a, b = +b, function(t) {\n    return a * (1 - t) + b * t;\n  };\n}\n","var degrees = 180 / Math.PI;\n\nexport var identity = {\n  translateX: 0,\n  translateY: 0,\n  rotate: 0,\n  skewX: 0,\n  scaleX: 1,\n  scaleY: 1\n};\n\nexport default function(a, b, c, d, e, f) {\n  var scaleX, scaleY, skewX;\n  if (scaleX = Math.sqrt(a * a + b * b)) a /= scaleX, b /= scaleX;\n  if (skewX = a * c + b * d) c -= a * skewX, d -= b * skewX;\n  if (scaleY = Math.sqrt(c * c + d * d)) c /= scaleY, d /= scaleY, skewX /= scaleY;\n  if (a * d < b * c) a = -a, b = -b, skewX = -skewX, scaleX = -scaleX;\n  return {\n    translateX: e,\n    translateY: f,\n    rotate: Math.atan2(b, a) * degrees,\n    skewX: Math.atan(skewX) * degrees,\n    scaleX: scaleX,\n    scaleY: scaleY\n  };\n}\n","import decompose, {identity} from \"./decompose.js\";\n\nvar svgNode;\n\n/* eslint-disable no-undef */\nexport function parseCss(value) {\n  const m = new (typeof DOMMatrix === \"function\" ? DOMMatrix : WebKitCSSMatrix)(value + \"\");\n  return m.isIdentity ? identity : decompose(m.a, m.b, m.c, m.d, m.e, m.f);\n}\n\nexport function parseSvg(value) {\n  if (value == null) return identity;\n  if (!svgNode) svgNode = document.createElementNS(\"http://www.w3.org/2000/svg\", \"g\");\n  svgNode.setAttribute(\"transform\", value);\n  if (!(value = svgNode.transform.baseVal.consolidate())) return identity;\n  value = value.matrix;\n  return decompose(value.a, value.b, value.c, value.d, value.e, value.f);\n}\n","import number from \"../number.js\";\nimport {parseCss, parseSvg} from \"./parse.js\";\n\nfunction interpolateTransform(parse, pxComma, pxParen, degParen) {\n\n  function pop(s) {\n    return s.length ? s.pop() + \" \" : \"\";\n  }\n\n  function translate(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(\"translate(\", null, pxComma, null, pxParen);\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb || yb) {\n      s.push(\"translate(\" + xb + pxComma + yb + pxParen);\n    }\n  }\n\n  function rotate(a, b, s, q) {\n    if (a !== b) {\n      if (a - b > 180) b += 360; else if (b - a > 180) a += 360; // shortest path\n      q.push({i: s.push(pop(s) + \"rotate(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"rotate(\" + b + degParen);\n    }\n  }\n\n  function skewX(a, b, s, q) {\n    if (a !== b) {\n      q.push({i: s.push(pop(s) + \"skewX(\", null, degParen) - 2, x: number(a, b)});\n    } else if (b) {\n      s.push(pop(s) + \"skewX(\" + b + degParen);\n    }\n  }\n\n  function scale(xa, ya, xb, yb, s, q) {\n    if (xa !== xb || ya !== yb) {\n      var i = s.push(pop(s) + \"scale(\", null, \",\", null, \")\");\n      q.push({i: i - 4, x: number(xa, xb)}, {i: i - 2, x: number(ya, yb)});\n    } else if (xb !== 1 || yb !== 1) {\n      s.push(pop(s) + \"scale(\" + xb + \",\" + yb + \")\");\n    }\n  }\n\n  return function(a, b) {\n    var s = [], // string constants and placeholders\n        q = []; // number interpolators\n    a = parse(a), b = parse(b);\n    translate(a.translateX, a.translateY, b.translateX, b.translateY, s, q);\n    rotate(a.rotate, b.rotate, s, q);\n    skewX(a.skewX, b.skewX, s, q);\n    scale(a.scaleX, a.scaleY, b.scaleX, b.scaleY, s, q);\n    a = b = null; // gc\n    return function(t) {\n      var i = -1, n = q.length, o;\n      while (++i < n) s[(o = q[i]).i] = o.x(t);\n      return s.join(\"\");\n    };\n  };\n}\n\nexport var interpolateTransformCss = interpolateTransform(parseCss, \"px, \", \"px)\", \"deg)\");\nexport var interpolateTransformSvg = interpolateTransform(parseSvg, \", \", \")\", \")\");\n","import {get, set} from \"./schedule.js\";\n\nfunction tweenRemove(id, name) {\n  var tween0, tween1;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = tween0 = tween;\n      for (var i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1 = tween1.slice();\n          tween1.splice(i, 1);\n          break;\n        }\n      }\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nfunction tweenFunction(id, name, value) {\n  var tween0, tween1;\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    var schedule = set(this, id),\n        tween = schedule.tween;\n\n    // If this node shared tween with the previous node,\n    // just assign the updated shared tween and were done!\n    // Otherwise, copy-on-write.\n    if (tween !== tween0) {\n      tween1 = (tween0 = tween).slice();\n      for (var t = {name: name, value: value}, i = 0, n = tween1.length; i < n; ++i) {\n        if (tween1[i].name === name) {\n          tween1[i] = t;\n          break;\n        }\n      }\n      if (i === n) tween1.push(t);\n    }\n\n    schedule.tween = tween1;\n  };\n}\n\nexport default function(name, value) {\n  var id = this._id;\n\n  name += \"\";\n\n  if (arguments.length < 2) {\n    var tween = get(this.node(), id).tween;\n    for (var i = 0, n = tween.length, t; i < n; ++i) {\n      if ((t = tween[i]).name === name) {\n        return t.value;\n      }\n    }\n    return null;\n  }\n\n  return this.each((value == null ? tweenRemove : tweenFunction)(id, name, value));\n}\n\nexport function tweenValue(transition, name, value) {\n  var id = transition._id;\n\n  transition.each(function() {\n    var schedule = set(this, id);\n    (schedule.value || (schedule.value = {}))[name] = value.apply(this, arguments);\n  });\n\n  return function(node) {\n    return get(node, id).value[name];\n  };\n}\n","export default function(constructor, factory, prototype) {\n  constructor.prototype = factory.prototype = prototype;\n  prototype.constructor = constructor;\n}\n\nexport function extend(parent, definition) {\n  var prototype = Object.create(parent.prototype);\n  for (var key in definition) prototype[key] = definition[key];\n  return prototype;\n}\n","import define, {extend} from \"./define.js\";\n\nexport function Color() {}\n\nexport var darker = 0.7;\nexport var brighter = 1 / darker;\n\nvar reI = \"\\\\s*([+-]?\\\\d+)\\\\s*\",\n    reN = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\",\n    reP = \"\\\\s*([+-]?(?:\\\\d*\\\\.)?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\",\n    reHex = /^#([0-9a-f]{3,8})$/,\n    reRgbInteger = new RegExp(`^rgb\\\\(${reI},${reI},${reI}\\\\)$`),\n    reRgbPercent = new RegExp(`^rgb\\\\(${reP},${reP},${reP}\\\\)$`),\n    reRgbaInteger = new RegExp(`^rgba\\\\(${reI},${reI},${reI},${reN}\\\\)$`),\n    reRgbaPercent = new RegExp(`^rgba\\\\(${reP},${reP},${reP},${reN}\\\\)$`),\n    reHslPercent = new RegExp(`^hsl\\\\(${reN},${reP},${reP}\\\\)$`),\n    reHslaPercent = new RegExp(`^hsla\\\\(${reN},${reP},${reP},${reN}\\\\)$`);\n\nvar named = {\n  aliceblue: 0xf0f8ff,\n  antiquewhite: 0xfaebd7,\n  aqua: 0x00ffff,\n  aquamarine: 0x7fffd4,\n  azure: 0xf0ffff,\n  beige: 0xf5f5dc,\n  bisque: 0xffe4c4,\n  black: 0x000000,\n  blanchedalmond: 0xffebcd,\n  blue: 0x0000ff,\n  blueviolet: 0x8a2be2,\n  brown: 0xa52a2a,\n  burlywood: 0xdeb887,\n  cadetblue: 0x5f9ea0,\n  chartreuse: 0x7fff00,\n  chocolate: 0xd2691e,\n  coral: 0xff7f50,\n  cornflowerblue: 0x6495ed,\n  cornsilk: 0xfff8dc,\n  crimson: 0xdc143c,\n  cyan: 0x00ffff,\n  darkblue: 0x00008b,\n  darkcyan: 0x008b8b,\n  darkgoldenrod: 0xb8860b,\n  darkgray: 0xa9a9a9,\n  darkgreen: 0x006400,\n  darkgrey: 0xa9a9a9,\n  darkkhaki: 0xbdb76b,\n  darkmagenta: 0x8b008b,\n  darkolivegreen: 0x556b2f,\n  darkorange: 0xff8c00,\n  darkorchid: 0x9932cc,\n  darkred: 0x8b0000,\n  darksalmon: 0xe9967a,\n  darkseagreen: 0x8fbc8f,\n  darkslateblue: 0x483d8b,\n  darkslategray: 0x2f4f4f,\n  darkslategrey: 0x2f4f4f,\n  darkturquoise: 0x00ced1,\n  darkviolet: 0x9400d3,\n  deeppink: 0xff1493,\n  deepskyblue: 0x00bfff,\n  dimgray: 0x696969,\n  dimgrey: 0x696969,\n  dodgerblue: 0x1e90ff,\n  firebrick: 0xb22222,\n  floralwhite: 0xfffaf0,\n  forestgreen: 0x228b22,\n  fuchsia: 0xff00ff,\n  gainsboro: 0xdcdcdc,\n  ghostwhite: 0xf8f8ff,\n  gold: 0xffd700,\n  goldenrod: 0xdaa520,\n  gray: 0x808080,\n  green: 0x008000,\n  greenyellow: 0xadff2f,\n  grey: 0x808080,\n  honeydew: 0xf0fff0,\n  hotpink: 0xff69b4,\n  indianred: 0xcd5c5c,\n  indigo: 0x4b0082,\n  ivory: 0xfffff0,\n  khaki: 0xf0e68c,\n  lavender: 0xe6e6fa,\n  lavenderblush: 0xfff0f5,\n  lawngreen: 0x7cfc00,\n  lemonchiffon: 0xfffacd,\n  lightblue: 0xadd8e6,\n  lightcoral: 0xf08080,\n  lightcyan: 0xe0ffff,\n  lightgoldenrodyellow: 0xfafad2,\n  lightgray: 0xd3d3d3,\n  lightgreen: 0x90ee90,\n  lightgrey: 0xd3d3d3,\n  lightpink: 0xffb6c1,\n  lightsalmon: 0xffa07a,\n  lightseagreen: 0x20b2aa,\n  lightskyblue: 0x87cefa,\n  lightslategray: 0x778899,\n  lightslategrey: 0x778899,\n  lightsteelblue: 0xb0c4de,\n  lightyellow: 0xffffe0,\n  lime: 0x00ff00,\n  limegreen: 0x32cd32,\n  linen: 0xfaf0e6,\n  magenta: 0xff00ff,\n  maroon: 0x800000,\n  mediumaquamarine: 0x66cdaa,\n  mediumblue: 0x0000cd,\n  mediumorchid: 0xba55d3,\n  mediumpurple: 0x9370db,\n  mediumseagreen: 0x3cb371,\n  mediumslateblue: 0x7b68ee,\n  mediumspringgreen: 0x00fa9a,\n  mediumturquoise: 0x48d1cc,\n  mediumvioletred: 0xc71585,\n  midnightblue: 0x191970,\n  mintcream: 0xf5fffa,\n  mistyrose: 0xffe4e1,\n  moccasin: 0xffe4b5,\n  navajowhite: 0xffdead,\n  navy: 0x000080,\n  oldlace: 0xfdf5e6,\n  olive: 0x808000,\n  olivedrab: 0x6b8e23,\n  orange: 0xffa500,\n  orangered: 0xff4500,\n  orchid: 0xda70d6,\n  palegoldenrod: 0xeee8aa,\n  palegreen: 0x98fb98,\n  paleturquoise: 0xafeeee,\n  palevioletred: 0xdb7093,\n  papayawhip: 0xffefd5,\n  peachpuff: 0xffdab9,\n  peru: 0xcd853f,\n  pink: 0xffc0cb,\n  plum: 0xdda0dd,\n  powderblue: 0xb0e0e6,\n  purple: 0x800080,\n  rebeccapurple: 0x663399,\n  red: 0xff0000,\n  rosybrown: 0xbc8f8f,\n  royalblue: 0x4169e1,\n  saddlebrown: 0x8b4513,\n  salmon: 0xfa8072,\n  sandybrown: 0xf4a460,\n  seagreen: 0x2e8b57,\n  seashell: 0xfff5ee,\n  sienna: 0xa0522d,\n  silver: 0xc0c0c0,\n  skyblue: 0x87ceeb,\n  slateblue: 0x6a5acd,\n  slategray: 0x708090,\n  slategrey: 0x708090,\n  snow: 0xfffafa,\n  springgreen: 0x00ff7f,\n  steelblue: 0x4682b4,\n  tan: 0xd2b48c,\n  teal: 0x008080,\n  thistle: 0xd8bfd8,\n  tomato: 0xff6347,\n  turquoise: 0x40e0d0,\n  violet: 0xee82ee,\n  wheat: 0xf5deb3,\n  white: 0xffffff,\n  whitesmoke: 0xf5f5f5,\n  yellow: 0xffff00,\n  yellowgreen: 0x9acd32\n};\n\ndefine(Color, color, {\n  copy(channels) {\n    return Object.assign(new this.constructor, this, channels);\n  },\n  displayable() {\n    return this.rgb().displayable();\n  },\n  hex: color_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: color_formatHex,\n  formatHex8: color_formatHex8,\n  formatHsl: color_formatHsl,\n  formatRgb: color_formatRgb,\n  toString: color_formatRgb\n});\n\nfunction color_formatHex() {\n  return this.rgb().formatHex();\n}\n\nfunction color_formatHex8() {\n  return this.rgb().formatHex8();\n}\n\nfunction color_formatHsl() {\n  return hslConvert(this).formatHsl();\n}\n\nfunction color_formatRgb() {\n  return this.rgb().formatRgb();\n}\n\nexport default function color(format) {\n  var m, l;\n  format = (format + \"\").trim().toLowerCase();\n  return (m = reHex.exec(format)) ? (l = m[1].length, m = parseInt(m[1], 16), l === 6 ? rgbn(m) // #ff0000\n      : l === 3 ? new Rgb((m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), ((m & 0xf) << 4) | (m & 0xf), 1) // #f00\n      : l === 8 ? rgba(m >> 24 & 0xff, m >> 16 & 0xff, m >> 8 & 0xff, (m & 0xff) / 0xff) // #ff000000\n      : l === 4 ? rgba((m >> 12 & 0xf) | (m >> 8 & 0xf0), (m >> 8 & 0xf) | (m >> 4 & 0xf0), (m >> 4 & 0xf) | (m & 0xf0), (((m & 0xf) << 4) | (m & 0xf)) / 0xff) // #f000\n      : null) // invalid hex\n      : (m = reRgbInteger.exec(format)) ? new Rgb(m[1], m[2], m[3], 1) // rgb(255, 0, 0)\n      : (m = reRgbPercent.exec(format)) ? new Rgb(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, 1) // rgb(100%, 0%, 0%)\n      : (m = reRgbaInteger.exec(format)) ? rgba(m[1], m[2], m[3], m[4]) // rgba(255, 0, 0, 1)\n      : (m = reRgbaPercent.exec(format)) ? rgba(m[1] * 255 / 100, m[2] * 255 / 100, m[3] * 255 / 100, m[4]) // rgb(100%, 0%, 0%, 1)\n      : (m = reHslPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, 1) // hsl(120, 50%, 50%)\n      : (m = reHslaPercent.exec(format)) ? hsla(m[1], m[2] / 100, m[3] / 100, m[4]) // hsla(120, 50%, 50%, 1)\n      : named.hasOwnProperty(format) ? rgbn(named[format]) // eslint-disable-line no-prototype-builtins\n      : format === \"transparent\" ? new Rgb(NaN, NaN, NaN, 0)\n      : null;\n}\n\nfunction rgbn(n) {\n  return new Rgb(n >> 16 & 0xff, n >> 8 & 0xff, n & 0xff, 1);\n}\n\nfunction rgba(r, g, b, a) {\n  if (a <= 0) r = g = b = NaN;\n  return new Rgb(r, g, b, a);\n}\n\nexport function rgbConvert(o) {\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Rgb;\n  o = o.rgb();\n  return new Rgb(o.r, o.g, o.b, o.opacity);\n}\n\nexport function rgb(r, g, b, opacity) {\n  return arguments.length === 1 ? rgbConvert(r) : new Rgb(r, g, b, opacity == null ? 1 : opacity);\n}\n\nexport function Rgb(r, g, b, opacity) {\n  this.r = +r;\n  this.g = +g;\n  this.b = +b;\n  this.opacity = +opacity;\n}\n\ndefine(Rgb, rgb, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Rgb(this.r * k, this.g * k, this.b * k, this.opacity);\n  },\n  rgb() {\n    return this;\n  },\n  clamp() {\n    return new Rgb(clampi(this.r), clampi(this.g), clampi(this.b), clampa(this.opacity));\n  },\n  displayable() {\n    return (-0.5 <= this.r && this.r < 255.5)\n        && (-0.5 <= this.g && this.g < 255.5)\n        && (-0.5 <= this.b && this.b < 255.5)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  hex: rgb_formatHex, // Deprecated! Use color.formatHex.\n  formatHex: rgb_formatHex,\n  formatHex8: rgb_formatHex8,\n  formatRgb: rgb_formatRgb,\n  toString: rgb_formatRgb\n}));\n\nfunction rgb_formatHex() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}`;\n}\n\nfunction rgb_formatHex8() {\n  return `#${hex(this.r)}${hex(this.g)}${hex(this.b)}${hex((isNaN(this.opacity) ? 1 : this.opacity) * 255)}`;\n}\n\nfunction rgb_formatRgb() {\n  const a = clampa(this.opacity);\n  return `${a === 1 ? \"rgb(\" : \"rgba(\"}${clampi(this.r)}, ${clampi(this.g)}, ${clampi(this.b)}${a === 1 ? \")\" : `, ${a})`}`;\n}\n\nfunction clampa(opacity) {\n  return isNaN(opacity) ? 1 : Math.max(0, Math.min(1, opacity));\n}\n\nfunction clampi(value) {\n  return Math.max(0, Math.min(255, Math.round(value) || 0));\n}\n\nfunction hex(value) {\n  value = clampi(value);\n  return (value < 16 ? \"0\" : \"\") + value.toString(16);\n}\n\nfunction hsla(h, s, l, a) {\n  if (a <= 0) h = s = l = NaN;\n  else if (l <= 0 || l >= 1) h = s = NaN;\n  else if (s <= 0) h = NaN;\n  return new Hsl(h, s, l, a);\n}\n\nexport function hslConvert(o) {\n  if (o instanceof Hsl) return new Hsl(o.h, o.s, o.l, o.opacity);\n  if (!(o instanceof Color)) o = color(o);\n  if (!o) return new Hsl;\n  if (o instanceof Hsl) return o;\n  o = o.rgb();\n  var r = o.r / 255,\n      g = o.g / 255,\n      b = o.b / 255,\n      min = Math.min(r, g, b),\n      max = Math.max(r, g, b),\n      h = NaN,\n      s = max - min,\n      l = (max + min) / 2;\n  if (s) {\n    if (r === max) h = (g - b) / s + (g < b) * 6;\n    else if (g === max) h = (b - r) / s + 2;\n    else h = (r - g) / s + 4;\n    s /= l < 0.5 ? max + min : 2 - max - min;\n    h *= 60;\n  } else {\n    s = l > 0 && l < 1 ? 0 : h;\n  }\n  return new Hsl(h, s, l, o.opacity);\n}\n\nexport function hsl(h, s, l, opacity) {\n  return arguments.length === 1 ? hslConvert(h) : new Hsl(h, s, l, opacity == null ? 1 : opacity);\n}\n\nfunction Hsl(h, s, l, opacity) {\n  this.h = +h;\n  this.s = +s;\n  this.l = +l;\n  this.opacity = +opacity;\n}\n\ndefine(Hsl, hsl, extend(Color, {\n  brighter(k) {\n    k = k == null ? brighter : Math.pow(brighter, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  darker(k) {\n    k = k == null ? darker : Math.pow(darker, k);\n    return new Hsl(this.h, this.s, this.l * k, this.opacity);\n  },\n  rgb() {\n    var h = this.h % 360 + (this.h < 0) * 360,\n        s = isNaN(h) || isNaN(this.s) ? 0 : this.s,\n        l = this.l,\n        m2 = l + (l < 0.5 ? l : 1 - l) * s,\n        m1 = 2 * l - m2;\n    return new Rgb(\n      hsl2rgb(h >= 240 ? h - 240 : h + 120, m1, m2),\n      hsl2rgb(h, m1, m2),\n      hsl2rgb(h < 120 ? h + 240 : h - 120, m1, m2),\n      this.opacity\n    );\n  },\n  clamp() {\n    return new Hsl(clamph(this.h), clampt(this.s), clampt(this.l), clampa(this.opacity));\n  },\n  displayable() {\n    return (0 <= this.s && this.s <= 1 || isNaN(this.s))\n        && (0 <= this.l && this.l <= 1)\n        && (0 <= this.opacity && this.opacity <= 1);\n  },\n  formatHsl() {\n    const a = clampa(this.opacity);\n    return `${a === 1 ? \"hsl(\" : \"hsla(\"}${clamph(this.h)}, ${clampt(this.s) * 100}%, ${clampt(this.l) * 100}%${a === 1 ? \")\" : `, ${a})`}`;\n  }\n}));\n\nfunction clamph(value) {\n  value = (value || 0) % 360;\n  return value < 0 ? value + 360 : value;\n}\n\nfunction clampt(value) {\n  return Math.max(0, Math.min(1, value || 0));\n}\n\n/* From FvD 13.37, CSS Color Module Level 3 */\nfunction hsl2rgb(h, m1, m2) {\n  return (h < 60 ? m1 + (m2 - m1) * h / 60\n      : h < 180 ? m2\n      : h < 240 ? m1 + (m2 - m1) * (240 - h) / 60\n      : m1) * 255;\n}\n","export function basis(t1, v0, v1, v2, v3) {\n  var t2 = t1 * t1, t3 = t2 * t1;\n  return ((1 - 3 * t1 + 3 * t2 - t3) * v0\n      + (4 - 6 * t2 + 3 * t3) * v1\n      + (1 + 3 * t1 + 3 * t2 - 3 * t3) * v2\n      + t3 * v3) / 6;\n}\n\nexport default function(values) {\n  var n = values.length - 1;\n  return function(t) {\n    var i = t <= 0 ? (t = 0) : t >= 1 ? (t = 1, n - 1) : Math.floor(t * n),\n        v1 = values[i],\n        v2 = values[i + 1],\n        v0 = i > 0 ? values[i - 1] : 2 * v1 - v2,\n        v3 = i < n - 1 ? values[i + 2] : 2 * v2 - v1;\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","export default x => () => x;\n","import constant from \"./constant.js\";\n\nfunction linear(a, d) {\n  return function(t) {\n    return a + t * d;\n  };\n}\n\nfunction exponential(a, b, y) {\n  return a = Math.pow(a, y), b = Math.pow(b, y) - a, y = 1 / y, function(t) {\n    return Math.pow(a + t * b, y);\n  };\n}\n\nexport function hue(a, b) {\n  var d = b - a;\n  return d ? linear(a, d > 180 || d < -180 ? d - 360 * Math.round(d / 360) : d) : constant(isNaN(a) ? b : a);\n}\n\nexport function gamma(y) {\n  return (y = +y) === 1 ? nogamma : function(a, b) {\n    return b - a ? exponential(a, b, y) : constant(isNaN(a) ? b : a);\n  };\n}\n\nexport default function nogamma(a, b) {\n  var d = b - a;\n  return d ? linear(a, d) : constant(isNaN(a) ? b : a);\n}\n","import {rgb as colorRgb} from \"d3-color\";\nimport basis from \"./basis.js\";\nimport basisClosed from \"./basisClosed.js\";\nimport nogamma, {gamma} from \"./color.js\";\n\nexport default (function rgbGamma(y) {\n  var color = gamma(y);\n\n  function rgb(start, end) {\n    var r = color((start = colorRgb(start)).r, (end = colorRgb(end)).r),\n        g = color(start.g, end.g),\n        b = color(start.b, end.b),\n        opacity = nogamma(start.opacity, end.opacity);\n    return function(t) {\n      start.r = r(t);\n      start.g = g(t);\n      start.b = b(t);\n      start.opacity = opacity(t);\n      return start + \"\";\n    };\n  }\n\n  rgb.gamma = rgbGamma;\n\n  return rgb;\n})(1);\n\nfunction rgbSpline(spline) {\n  return function(colors) {\n    var n = colors.length,\n        r = new Array(n),\n        g = new Array(n),\n        b = new Array(n),\n        i, color;\n    for (i = 0; i < n; ++i) {\n      color = colorRgb(colors[i]);\n      r[i] = color.r || 0;\n      g[i] = color.g || 0;\n      b[i] = color.b || 0;\n    }\n    r = spline(r);\n    g = spline(g);\n    b = spline(b);\n    color.opacity = 1;\n    return function(t) {\n      color.r = r(t);\n      color.g = g(t);\n      color.b = b(t);\n      return color + \"\";\n    };\n  };\n}\n\nexport var rgbBasis = rgbSpline(basis);\nexport var rgbBasisClosed = rgbSpline(basisClosed);\n","import {basis} from \"./basis.js\";\n\nexport default function(values) {\n  var n = values.length;\n  return function(t) {\n    var i = Math.floor(((t %= 1) < 0 ? ++t : t) * n),\n        v0 = values[(i + n - 1) % n],\n        v1 = values[i % n],\n        v2 = values[(i + 1) % n],\n        v3 = values[(i + 2) % n];\n    return basis((t - i / n) * n, v0, v1, v2, v3);\n  };\n}\n","import number from \"./number.js\";\n\nvar reA = /[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,\n    reB = new RegExp(reA.source, \"g\");\n\nfunction zero(b) {\n  return function() {\n    return b;\n  };\n}\n\nfunction one(b) {\n  return function(t) {\n    return b(t) + \"\";\n  };\n}\n\nexport default function(a, b) {\n  var bi = reA.lastIndex = reB.lastIndex = 0, // scan index for next number in b\n      am, // current match in a\n      bm, // current match in b\n      bs, // string preceding current number in b, if any\n      i = -1, // index in s\n      s = [], // string constants and placeholders\n      q = []; // number interpolators\n\n  // Coerce inputs to strings.\n  a = a + \"\", b = b + \"\";\n\n  // Interpolate pairs of numbers in a & b.\n  while ((am = reA.exec(a))\n      && (bm = reB.exec(b))) {\n    if ((bs = bm.index) > bi) { // a string precedes the next number in b\n      bs = b.slice(bi, bs);\n      if (s[i]) s[i] += bs; // coalesce with previous string\n      else s[++i] = bs;\n    }\n    if ((am = am[0]) === (bm = bm[0])) { // numbers in a & b match\n      if (s[i]) s[i] += bm; // coalesce with previous string\n      else s[++i] = bm;\n    } else { // interpolate non-matching numbers\n      s[++i] = null;\n      q.push({i: i, x: number(am, bm)});\n    }\n    bi = reB.lastIndex;\n  }\n\n  // Add remains of b.\n  if (bi < b.length) {\n    bs = b.slice(bi);\n    if (s[i]) s[i] += bs; // coalesce with previous string\n    else s[++i] = bs;\n  }\n\n  // Special optimization for only a single match.\n  // Otherwise, interpolate each of the numbers and rejoin the string.\n  return s.length < 2 ? (q[0]\n      ? one(q[0].x)\n      : zero(b))\n      : (b = q.length, function(t) {\n          for (var i = 0, o; i < b; ++i) s[(o = q[i]).i] = o.x(t);\n          return s.join(\"\");\n        });\n}\n","import {color} from \"d3-color\";\nimport {interpolateNumber, interpolateRgb, interpolateString} from \"d3-interpolate\";\n\nexport default function(a, b) {\n  var c;\n  return (typeof b === \"number\" ? interpolateNumber\n      : b instanceof color ? interpolateRgb\n      : (c = color(b)) ? (b = c, interpolateRgb)\n      : interpolateString)(a, b);\n}\n","import {interpolateTransformSvg as interpolateTransform} from \"d3-interpolate\";\nimport {namespace} from \"d3-selection\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction attrRemove(name) {\n  return function() {\n    this.removeAttribute(name);\n  };\n}\n\nfunction attrRemoveNS(fullname) {\n  return function() {\n    this.removeAttributeNS(fullname.space, fullname.local);\n  };\n}\n\nfunction attrConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttribute(name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrConstantNS(fullname, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = this.getAttributeNS(fullname.space, fullname.local);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction attrFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttribute(name);\n    string0 = this.getAttribute(name);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction attrFunctionNS(fullname, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0, value1 = value(this), string1;\n    if (value1 == null) return void this.removeAttributeNS(fullname.space, fullname.local);\n    string0 = this.getAttributeNS(fullname.space, fullname.local);\n    string1 = value1 + \"\";\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nexport default function(name, value) {\n  var fullname = namespace(name), i = fullname === \"transform\" ? interpolateTransform : interpolate;\n  return this.attrTween(name, typeof value === \"function\"\n      ? (fullname.local ? attrFunctionNS : attrFunction)(fullname, i, tweenValue(this, \"attr.\" + name, value))\n      : value == null ? (fullname.local ? attrRemoveNS : attrRemove)(fullname)\n      : (fullname.local ? attrConstantNS : attrConstant)(fullname, i, value));\n}\n","import {namespace} from \"d3-selection\";\n\nfunction attrInterpolate(name, i) {\n  return function(t) {\n    this.setAttribute(name, i.call(this, t));\n  };\n}\n\nfunction attrInterpolateNS(fullname, i) {\n  return function(t) {\n    this.setAttributeNS(fullname.space, fullname.local, i.call(this, t));\n  };\n}\n\nfunction attrTweenNS(fullname, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolateNS(fullname, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nfunction attrTween(name, value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && attrInterpolate(name, i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value) {\n  var key = \"attr.\" + name;\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  var fullname = namespace(name);\n  return this.tween(key, (fullname.local ? attrTweenNS : attrTween)(fullname, value));\n}\n","import {get, init} from \"./schedule.js\";\n\nfunction delayFunction(id, value) {\n  return function() {\n    init(this, id).delay = +value.apply(this, arguments);\n  };\n}\n\nfunction delayConstant(id, value) {\n  return value = +value, function() {\n    init(this, id).delay = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? delayFunction\n          : delayConstant)(id, value))\n      : get(this.node(), id).delay;\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction durationFunction(id, value) {\n  return function() {\n    set(this, id).duration = +value.apply(this, arguments);\n  };\n}\n\nfunction durationConstant(id, value) {\n  return value = +value, function() {\n    set(this, id).duration = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each((typeof value === \"function\"\n          ? durationFunction\n          : durationConstant)(id, value))\n      : get(this.node(), id).duration;\n}\n","import {selection} from \"d3-selection\";\n\nvar Selection = selection.prototype.constructor;\n\nexport default function() {\n  return new Selection(this._groups, this._parents);\n}\n","import {interpolateTransformCss as interpolateTransform} from \"d3-interpolate\";\nimport {style} from \"d3-selection\";\nimport {set} from \"./schedule.js\";\nimport {tweenValue} from \"./tween.js\";\nimport interpolate from \"./interpolate.js\";\n\nfunction styleNull(name, interpolate) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        string1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, string10 = string1);\n  };\n}\n\nfunction styleRemove(name) {\n  return function() {\n    this.style.removeProperty(name);\n  };\n}\n\nfunction styleConstant(name, interpolate, value1) {\n  var string00,\n      string1 = value1 + \"\",\n      interpolate0;\n  return function() {\n    var string0 = style(this, name);\n    return string0 === string1 ? null\n        : string0 === string00 ? interpolate0\n        : interpolate0 = interpolate(string00 = string0, value1);\n  };\n}\n\nfunction styleFunction(name, interpolate, value) {\n  var string00,\n      string10,\n      interpolate0;\n  return function() {\n    var string0 = style(this, name),\n        value1 = value(this),\n        string1 = value1 + \"\";\n    if (value1 == null) string1 = value1 = (this.style.removeProperty(name), style(this, name));\n    return string0 === string1 ? null\n        : string0 === string00 && string1 === string10 ? interpolate0\n        : (string10 = string1, interpolate0 = interpolate(string00 = string0, value1));\n  };\n}\n\nfunction styleMaybeRemove(id, name) {\n  var on0, on1, listener0, key = \"style.\" + name, event = \"end.\" + key, remove;\n  return function() {\n    var schedule = set(this, id),\n        on = schedule.on,\n        listener = schedule.value[key] == null ? remove || (remove = styleRemove(name)) : undefined;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0 || listener0 !== listener) (on1 = (on0 = on).copy()).on(event, listener0 = listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, value, priority) {\n  var i = (name += \"\") === \"transform\" ? interpolateTransform : interpolate;\n  return value == null ? this\n      .styleTween(name, styleNull(name, i))\n      .on(\"end.style.\" + name, styleRemove(name))\n    : typeof value === \"function\" ? this\n      .styleTween(name, styleFunction(name, i, tweenValue(this, \"style.\" + name, value)))\n      .each(styleMaybeRemove(this._id, name))\n    : this\n      .styleTween(name, styleConstant(name, i, value), priority)\n      .on(\"end.style.\" + name, null);\n}\n","import {selection} from \"d3-selection\";\nimport transition_attr from \"./attr.js\";\nimport transition_attrTween from \"./attrTween.js\";\nimport transition_delay from \"./delay.js\";\nimport transition_duration from \"./duration.js\";\nimport transition_ease from \"./ease.js\";\nimport transition_easeVarying from \"./easeVarying.js\";\nimport transition_filter from \"./filter.js\";\nimport transition_merge from \"./merge.js\";\nimport transition_on from \"./on.js\";\nimport transition_remove from \"./remove.js\";\nimport transition_select from \"./select.js\";\nimport transition_selectAll from \"./selectAll.js\";\nimport transition_selection from \"./selection.js\";\nimport transition_style from \"./style.js\";\nimport transition_styleTween from \"./styleTween.js\";\nimport transition_text from \"./text.js\";\nimport transition_textTween from \"./textTween.js\";\nimport transition_transition from \"./transition.js\";\nimport transition_tween from \"./tween.js\";\nimport transition_end from \"./end.js\";\n\nvar id = 0;\n\nexport function Transition(groups, parents, name, id) {\n  this._groups = groups;\n  this._parents = parents;\n  this._name = name;\n  this._id = id;\n}\n\nexport default function transition(name) {\n  return selection().transition(name);\n}\n\nexport function newId() {\n  return ++id;\n}\n\nvar selection_prototype = selection.prototype;\n\nTransition.prototype = transition.prototype = {\n  constructor: Transition,\n  select: transition_select,\n  selectAll: transition_selectAll,\n  selectChild: selection_prototype.selectChild,\n  selectChildren: selection_prototype.selectChildren,\n  filter: transition_filter,\n  merge: transition_merge,\n  selection: transition_selection,\n  transition: transition_transition,\n  call: selection_prototype.call,\n  nodes: selection_prototype.nodes,\n  node: selection_prototype.node,\n  size: selection_prototype.size,\n  empty: selection_prototype.empty,\n  each: selection_prototype.each,\n  on: transition_on,\n  attr: transition_attr,\n  attrTween: transition_attrTween,\n  style: transition_style,\n  styleTween: transition_styleTween,\n  text: transition_text,\n  textTween: transition_textTween,\n  remove: transition_remove,\n  tween: transition_tween,\n  delay: transition_delay,\n  duration: transition_duration,\n  ease: transition_ease,\n  easeVarying: transition_easeVarying,\n  end: transition_end,\n  [Symbol.iterator]: selection_prototype[Symbol.iterator]\n};\n","import {selector} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selector(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = new Array(n), node, subnode, i = 0; i < n; ++i) {\n      if ((node = group[i]) && (subnode = select.call(node, node.__data__, i, group))) {\n        if (\"__data__\" in node) subnode.__data__ = node.__data__;\n        subgroup[i] = subnode;\n        schedule(subgroup[i], name, id, i, subgroup, get(node, id));\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, name, id);\n}\n","import {selectorAll} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function(select) {\n  var name = this._name,\n      id = this._id;\n\n  if (typeof select !== \"function\") select = selectorAll(select);\n\n  for (var groups = this._groups, m = groups.length, subgroups = [], parents = [], j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        for (var children = select.call(node, node.__data__, i, group), child, inherit = get(node, id), k = 0, l = children.length; k < l; ++k) {\n          if (child = children[k]) {\n            schedule(child, name, id, k, children, inherit);\n          }\n        }\n        subgroups.push(children);\n        parents.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, parents, name, id);\n}\n","import {matcher} from \"d3-selection\";\nimport {Transition} from \"./index.js\";\n\nexport default function(match) {\n  if (typeof match !== \"function\") match = matcher(match);\n\n  for (var groups = this._groups, m = groups.length, subgroups = new Array(m), j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, subgroup = subgroups[j] = [], node, i = 0; i < n; ++i) {\n      if ((node = group[i]) && match.call(node, node.__data__, i, group)) {\n        subgroup.push(node);\n      }\n    }\n  }\n\n  return new Transition(subgroups, this._parents, this._name, this._id);\n}\n","import {Transition} from \"./index.js\";\n\nexport default function(transition) {\n  if (transition._id !== this._id) throw new Error;\n\n  for (var groups0 = this._groups, groups1 = transition._groups, m0 = groups0.length, m1 = groups1.length, m = Math.min(m0, m1), merges = new Array(m0), j = 0; j < m; ++j) {\n    for (var group0 = groups0[j], group1 = groups1[j], n = group0.length, merge = merges[j] = new Array(n), node, i = 0; i < n; ++i) {\n      if (node = group0[i] || group1[i]) {\n        merge[i] = node;\n      }\n    }\n  }\n\n  for (; j < m0; ++j) {\n    merges[j] = groups0[j];\n  }\n\n  return new Transition(merges, this._parents, this._name, this._id);\n}\n","import {Transition, newId} from \"./index.js\";\nimport schedule, {get} from \"./schedule.js\";\n\nexport default function() {\n  var name = this._name,\n      id0 = this._id,\n      id1 = newId();\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        var inherit = get(node, id0);\n        schedule(node, name, id1, i, group, {\n          time: inherit.time + inherit.delay + inherit.duration,\n          delay: 0,\n          duration: inherit.duration,\n          ease: inherit.ease\n        });\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id1);\n}\n","import {get, set, init} from \"./schedule.js\";\n\nfunction start(name) {\n  return (name + \"\").trim().split(/^|\\s+/).every(function(t) {\n    var i = t.indexOf(\".\");\n    if (i >= 0) t = t.slice(0, i);\n    return !t || t === \"start\";\n  });\n}\n\nfunction onFunction(id, name, listener) {\n  var on0, on1, sit = start(name) ? init : set;\n  return function() {\n    var schedule = sit(this, id),\n        on = schedule.on;\n\n    // If this node shared a dispatch with the previous node,\n    // just assign the updated shared dispatch and were done!\n    // Otherwise, copy-on-write.\n    if (on !== on0) (on1 = (on0 = on).copy()).on(name, listener);\n\n    schedule.on = on1;\n  };\n}\n\nexport default function(name, listener) {\n  var id = this._id;\n\n  return arguments.length < 2\n      ? get(this.node(), id).on.on(name)\n      : this.each(onFunction(id, name, listener));\n}\n","function styleInterpolate(name, i, priority) {\n  return function(t) {\n    this.style.setProperty(name, i.call(this, t), priority);\n  };\n}\n\nfunction styleTween(name, value, priority) {\n  var t, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t = (i0 = i) && styleInterpolate(name, i, priority);\n    return t;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(name, value, priority) {\n  var key = \"style.\" + (name += \"\");\n  if (arguments.length < 2) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, styleTween(name, value, priority == null ? \"\" : priority));\n}\n","import {tweenValue} from \"./tween.js\";\n\nfunction textConstant(value) {\n  return function() {\n    this.textContent = value;\n  };\n}\n\nfunction textFunction(value) {\n  return function() {\n    var value1 = value(this);\n    this.textContent = value1 == null ? \"\" : value1;\n  };\n}\n\nexport default function(value) {\n  return this.tween(\"text\", typeof value === \"function\"\n      ? textFunction(tweenValue(this, \"text\", value))\n      : textConstant(value == null ? \"\" : value + \"\"));\n}\n","function textInterpolate(i) {\n  return function(t) {\n    this.textContent = i.call(this, t);\n  };\n}\n\nfunction textTween(value) {\n  var t0, i0;\n  function tween() {\n    var i = value.apply(this, arguments);\n    if (i !== i0) t0 = (i0 = i) && textInterpolate(i);\n    return t0;\n  }\n  tween._value = value;\n  return tween;\n}\n\nexport default function(value) {\n  var key = \"text\";\n  if (arguments.length < 1) return (key = this.tween(key)) && key._value;\n  if (value == null) return this.tween(key, null);\n  if (typeof value !== \"function\") throw new Error;\n  return this.tween(key, textTween(value));\n}\n","function removeFunction(id) {\n  return function() {\n    var parent = this.parentNode;\n    for (var i in this.__transition) if (+i !== id) return;\n    if (parent) parent.removeChild(this);\n  };\n}\n\nexport default function() {\n  return this.on(\"end.remove\", removeFunction(this._id));\n}\n","import {get, set} from \"./schedule.js\";\n\nfunction easeConstant(id, value) {\n  if (typeof value !== \"function\") throw new Error;\n  return function() {\n    set(this, id).ease = value;\n  };\n}\n\nexport default function(value) {\n  var id = this._id;\n\n  return arguments.length\n      ? this.each(easeConstant(id, value))\n      : get(this.node(), id).ease;\n}\n","import {set} from \"./schedule.js\";\n\nfunction easeVarying(id, value) {\n  return function() {\n    var v = value.apply(this, arguments);\n    if (typeof v !== \"function\") throw new Error;\n    set(this, id).ease = v;\n  };\n}\n\nexport default function(value) {\n  if (typeof value !== \"function\") throw new Error;\n  return this.each(easeVarying(this._id, value));\n}\n","import {set} from \"./schedule.js\";\n\nexport default function() {\n  var on0, on1, that = this, id = that._id, size = that.size();\n  return new Promise(function(resolve, reject) {\n    var cancel = {value: reject},\n        end = {value: function() { if (--size === 0) resolve(); }};\n\n    that.each(function() {\n      var schedule = set(this, id),\n          on = schedule.on;\n\n      // If this node shared a dispatch with the previous node,\n      // just assign the updated shared dispatch and were done!\n      // Otherwise, copy-on-write.\n      if (on !== on0) {\n        on1 = (on0 = on).copy();\n        on1._.cancel.push(cancel);\n        on1._.interrupt.push(cancel);\n        on1._.end.push(end);\n      }\n\n      schedule.on = on1;\n    });\n\n    // The selection was empty, resolve end immediately\n    if (size === 0) resolve();\n  });\n}\n","import {Transition, newId} from \"../transition/index.js\";\nimport schedule from \"../transition/schedule.js\";\nimport {easeCubicInOut} from \"d3-ease\";\nimport {now} from \"d3-timer\";\n\nvar defaultTiming = {\n  time: null, // Set on use.\n  delay: 0,\n  duration: 250,\n  ease: easeCubicInOut\n};\n\nfunction inherit(node, id) {\n  var timing;\n  while (!(timing = node.__transition) || !(timing = timing[id])) {\n    if (!(node = node.parentNode)) {\n      throw new Error(`transition ${id} not found`);\n    }\n  }\n  return timing;\n}\n\nexport default function(name) {\n  var id,\n      timing;\n\n  if (name instanceof Transition) {\n    id = name._id, name = name._name;\n  } else {\n    id = newId(), (timing = defaultTiming).time = now(), name = name == null ? null : name + \"\";\n  }\n\n  for (var groups = this._groups, m = groups.length, j = 0; j < m; ++j) {\n    for (var group = groups[j], n = group.length, node, i = 0; i < n; ++i) {\n      if (node = group[i]) {\n        schedule(node, name, id, i, group, timing || inherit(node, id));\n      }\n    }\n  }\n\n  return new Transition(groups, this._parents, name, id);\n}\n","export function cubicIn(t) {\n  return t * t * t;\n}\n\nexport function cubicOut(t) {\n  return --t * t * t + 1;\n}\n\nexport function cubicInOut(t) {\n  return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;\n}\n","import {selection} from \"d3-selection\";\nimport selection_interrupt from \"./interrupt.js\";\nimport selection_transition from \"./transition.js\";\n\nselection.prototype.interrupt = selection_interrupt;\nselection.prototype.transition = selection_transition;\n","import interrupt from \"../interrupt.js\";\n\nexport default function(name) {\n  return this.each(function() {\n    interrupt(this, name);\n  });\n}\n","export default x => () => x;\n","export default function ZoomEvent(type, {\n  sourceEvent,\n  target,\n  transform,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    transform: {value: transform, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n","export function Transform(k, x, y) {\n  this.k = k;\n  this.x = x;\n  this.y = y;\n}\n\nTransform.prototype = {\n  constructor: Transform,\n  scale: function(k) {\n    return k === 1 ? this : new Transform(this.k * k, this.x, this.y);\n  },\n  translate: function(x, y) {\n    return x === 0 & y === 0 ? this : new Transform(this.k, this.x + this.k * x, this.y + this.k * y);\n  },\n  apply: function(point) {\n    return [point[0] * this.k + this.x, point[1] * this.k + this.y];\n  },\n  applyX: function(x) {\n    return x * this.k + this.x;\n  },\n  applyY: function(y) {\n    return y * this.k + this.y;\n  },\n  invert: function(location) {\n    return [(location[0] - this.x) / this.k, (location[1] - this.y) / this.k];\n  },\n  invertX: function(x) {\n    return (x - this.x) / this.k;\n  },\n  invertY: function(y) {\n    return (y - this.y) / this.k;\n  },\n  rescaleX: function(x) {\n    return x.copy().domain(x.range().map(this.invertX, this).map(x.invert, x));\n  },\n  rescaleY: function(y) {\n    return y.copy().domain(y.range().map(this.invertY, this).map(y.invert, y));\n  },\n  toString: function() {\n    return \"translate(\" + this.x + \",\" + this.y + \") scale(\" + this.k + \")\";\n  }\n};\n\nexport var identity = new Transform(1, 0, 0);\n\ntransform.prototype = Transform.prototype;\n\nexport default function transform(node) {\n  while (!node.__zoom) if (!(node = node.parentNode)) return identity;\n  return node.__zoom;\n}\n","export function nopropagation(event) {\n  event.stopImmediatePropagation();\n}\n\nexport default function(event) {\n  event.preventDefault();\n  event.stopImmediatePropagation();\n}\n","import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolateZoom} from \"d3-interpolate\";\nimport {select, pointer} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant.js\";\nimport ZoomEvent from \"./event.js\";\nimport {Transform, identity} from \"./transform.js\";\nimport noevent, {nopropagation} from \"./noevent.js\";\n\n// Ignore right-click, since that should open the context menu.\n// except for pinch-to-zoom, which is sent as a wheel+ctrlKey event\nfunction defaultFilter(event) {\n  return (!event.ctrlKey || event.type === 'wheel') && !event.button;\n}\n\nfunction defaultExtent() {\n  var e = this;\n  if (e instanceof SVGElement) {\n    e = e.ownerSVGElement || e;\n    if (e.hasAttribute(\"viewBox\")) {\n      e = e.viewBox.baseVal;\n      return [[e.x, e.y], [e.x + e.width, e.y + e.height]];\n    }\n    return [[0, 0], [e.width.baseVal.value, e.height.baseVal.value]];\n  }\n  return [[0, 0], [e.clientWidth, e.clientHeight]];\n}\n\nfunction defaultTransform() {\n  return this.__zoom || identity;\n}\n\nfunction defaultWheelDelta(event) {\n  return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * (event.ctrlKey ? 10 : 1);\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nfunction defaultConstrain(transform, extent, translateExtent) {\n  var dx0 = transform.invertX(extent[0][0]) - translateExtent[0][0],\n      dx1 = transform.invertX(extent[1][0]) - translateExtent[1][0],\n      dy0 = transform.invertY(extent[0][1]) - translateExtent[0][1],\n      dy1 = transform.invertY(extent[1][1]) - translateExtent[1][1];\n  return transform.translate(\n    dx1 > dx0 ? (dx0 + dx1) / 2 : Math.min(0, dx0) || Math.max(0, dx1),\n    dy1 > dy0 ? (dy0 + dy1) / 2 : Math.min(0, dy0) || Math.max(0, dy1)\n  );\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      extent = defaultExtent,\n      constrain = defaultConstrain,\n      wheelDelta = defaultWheelDelta,\n      touchable = defaultTouchable,\n      scaleExtent = [0, Infinity],\n      translateExtent = [[-Infinity, -Infinity], [Infinity, Infinity]],\n      duration = 250,\n      interpolate = interpolateZoom,\n      listeners = dispatch(\"start\", \"zoom\", \"end\"),\n      touchstarting,\n      touchfirst,\n      touchending,\n      touchDelay = 500,\n      wheelDelay = 150,\n      clickDistance2 = 0,\n      tapDistance = 10;\n\n  function zoom(selection) {\n    selection\n        .property(\"__zoom\", defaultTransform)\n        .on(\"wheel.zoom\", wheeled, {passive: false})\n        .on(\"mousedown.zoom\", mousedowned)\n        .on(\"dblclick.zoom\", dblclicked)\n      .filter(touchable)\n        .on(\"touchstart.zoom\", touchstarted)\n        .on(\"touchmove.zoom\", touchmoved)\n        .on(\"touchend.zoom touchcancel.zoom\", touchended)\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  zoom.transform = function(collection, transform, point, event) {\n    var selection = collection.selection ? collection.selection() : collection;\n    selection.property(\"__zoom\", defaultTransform);\n    if (collection !== selection) {\n      schedule(collection, transform, point, event);\n    } else {\n      selection.interrupt().each(function() {\n        gesture(this, arguments)\n          .event(event)\n          .start()\n          .zoom(null, typeof transform === \"function\" ? transform.apply(this, arguments) : transform)\n          .end();\n      });\n    }\n  };\n\n  zoom.scaleBy = function(selection, k, p, event) {\n    zoom.scaleTo(selection, function() {\n      var k0 = this.__zoom.k,\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return k0 * k1;\n    }, p, event);\n  };\n\n  zoom.scaleTo = function(selection, k, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t0 = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p,\n          p1 = t0.invert(p0),\n          k1 = typeof k === \"function\" ? k.apply(this, arguments) : k;\n      return constrain(translate(scale(t0, k1), p0, p1), e, translateExtent);\n    }, p, event);\n  };\n\n  zoom.translateBy = function(selection, x, y, event) {\n    zoom.transform(selection, function() {\n      return constrain(this.__zoom.translate(\n        typeof x === \"function\" ? x.apply(this, arguments) : x,\n        typeof y === \"function\" ? y.apply(this, arguments) : y\n      ), extent.apply(this, arguments), translateExtent);\n    }, null, event);\n  };\n\n  zoom.translateTo = function(selection, x, y, p, event) {\n    zoom.transform(selection, function() {\n      var e = extent.apply(this, arguments),\n          t = this.__zoom,\n          p0 = p == null ? centroid(e) : typeof p === \"function\" ? p.apply(this, arguments) : p;\n      return constrain(identity.translate(p0[0], p0[1]).scale(t.k).translate(\n        typeof x === \"function\" ? -x.apply(this, arguments) : -x,\n        typeof y === \"function\" ? -y.apply(this, arguments) : -y\n      ), e, translateExtent);\n    }, p, event);\n  };\n\n  function scale(transform, k) {\n    k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], k));\n    return k === transform.k ? transform : new Transform(k, transform.x, transform.y);\n  }\n\n  function translate(transform, p0, p1) {\n    var x = p0[0] - p1[0] * transform.k, y = p0[1] - p1[1] * transform.k;\n    return x === transform.x && y === transform.y ? transform : new Transform(transform.k, x, y);\n  }\n\n  function centroid(extent) {\n    return [(+extent[0][0] + +extent[1][0]) / 2, (+extent[0][1] + +extent[1][1]) / 2];\n  }\n\n  function schedule(transition, transform, point, event) {\n    transition\n        .on(\"start.zoom\", function() { gesture(this, arguments).event(event).start(); })\n        .on(\"interrupt.zoom end.zoom\", function() { gesture(this, arguments).event(event).end(); })\n        .tween(\"zoom\", function() {\n          var that = this,\n              args = arguments,\n              g = gesture(that, args).event(event),\n              e = extent.apply(that, args),\n              p = point == null ? centroid(e) : typeof point === \"function\" ? point.apply(that, args) : point,\n              w = Math.max(e[1][0] - e[0][0], e[1][1] - e[0][1]),\n              a = that.__zoom,\n              b = typeof transform === \"function\" ? transform.apply(that, args) : transform,\n              i = interpolate(a.invert(p).concat(w / a.k), b.invert(p).concat(w / b.k));\n          return function(t) {\n            if (t === 1) t = b; // Avoid rounding error on end.\n            else { var l = i(t), k = w / l[2]; t = new Transform(k, p[0] - l[0] * k, p[1] - l[1] * k); }\n            g.zoom(null, t);\n          };\n        });\n  }\n\n  function gesture(that, args, clean) {\n    return (!clean && that.__zooming) || new Gesture(that, args);\n  }\n\n  function Gesture(that, args) {\n    this.that = that;\n    this.args = args;\n    this.active = 0;\n    this.sourceEvent = null;\n    this.extent = extent.apply(that, args);\n    this.taps = 0;\n  }\n\n  Gesture.prototype = {\n    event: function(event) {\n      if (event) this.sourceEvent = event;\n      return this;\n    },\n    start: function() {\n      if (++this.active === 1) {\n        this.that.__zooming = this;\n        this.emit(\"start\");\n      }\n      return this;\n    },\n    zoom: function(key, transform) {\n      if (this.mouse && key !== \"mouse\") this.mouse[1] = transform.invert(this.mouse[0]);\n      if (this.touch0 && key !== \"touch\") this.touch0[1] = transform.invert(this.touch0[0]);\n      if (this.touch1 && key !== \"touch\") this.touch1[1] = transform.invert(this.touch1[0]);\n      this.that.__zoom = transform;\n      this.emit(\"zoom\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) {\n        delete this.that.__zooming;\n        this.emit(\"end\");\n      }\n      return this;\n    },\n    emit: function(type) {\n      var d = select(this.that).datum();\n      listeners.call(\n        type,\n        this.that,\n        new ZoomEvent(type, {\n          sourceEvent: this.sourceEvent,\n          target: zoom,\n          type,\n          transform: this.that.__zoom,\n          dispatch: listeners\n        }),\n        d\n      );\n    }\n  };\n\n  function wheeled(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var g = gesture(this, args).event(event),\n        t = this.__zoom,\n        k = Math.max(scaleExtent[0], Math.min(scaleExtent[1], t.k * Math.pow(2, wheelDelta.apply(this, arguments)))),\n        p = pointer(event);\n\n    // If the mouse is in the same location as before, reuse it.\n    // If there were recent wheel events, reset the wheel idle timeout.\n    if (g.wheel) {\n      if (g.mouse[0][0] !== p[0] || g.mouse[0][1] !== p[1]) {\n        g.mouse[1] = t.invert(g.mouse[0] = p);\n      }\n      clearTimeout(g.wheel);\n    }\n\n    // If this wheel event wont trigger a transform change, ignore it.\n    else if (t.k === k) return;\n\n    // Otherwise, capture the mouse point and location at the start.\n    else {\n      g.mouse = [p, t.invert(p)];\n      interrupt(this);\n      g.start();\n    }\n\n    noevent(event);\n    g.wheel = setTimeout(wheelidled, wheelDelay);\n    g.zoom(\"mouse\", constrain(translate(scale(t, k), g.mouse[0], g.mouse[1]), g.extent, translateExtent));\n\n    function wheelidled() {\n      g.wheel = null;\n      g.end();\n    }\n  }\n\n  function mousedowned(event, ...args) {\n    if (touchending || !filter.apply(this, arguments)) return;\n    var currentTarget = event.currentTarget,\n        g = gesture(this, args, true).event(event),\n        v = select(event.view).on(\"mousemove.zoom\", mousemoved, true).on(\"mouseup.zoom\", mouseupped, true),\n        p = pointer(event, currentTarget),\n        x0 = event.clientX,\n        y0 = event.clientY;\n\n    dragDisable(event.view);\n    nopropagation(event);\n    g.mouse = [p, this.__zoom.invert(p)];\n    interrupt(this);\n    g.start();\n\n    function mousemoved(event) {\n      noevent(event);\n      if (!g.moved) {\n        var dx = event.clientX - x0, dy = event.clientY - y0;\n        g.moved = dx * dx + dy * dy > clickDistance2;\n      }\n      g.event(event)\n       .zoom(\"mouse\", constrain(translate(g.that.__zoom, g.mouse[0] = pointer(event, currentTarget), g.mouse[1]), g.extent, translateExtent));\n    }\n\n    function mouseupped(event) {\n      v.on(\"mousemove.zoom mouseup.zoom\", null);\n      dragEnable(event.view, g.moved);\n      noevent(event);\n      g.event(event).end();\n    }\n  }\n\n  function dblclicked(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var t0 = this.__zoom,\n        p0 = pointer(event.changedTouches ? event.changedTouches[0] : event, this),\n        p1 = t0.invert(p0),\n        k1 = t0.k * (event.shiftKey ? 0.5 : 2),\n        t1 = constrain(translate(scale(t0, k1), p0, p1), extent.apply(this, args), translateExtent);\n\n    noevent(event);\n    if (duration > 0) select(this).transition().duration(duration).call(schedule, t1, p0, event);\n    else select(this).call(zoom.transform, t1, p0, event);\n  }\n\n  function touchstarted(event, ...args) {\n    if (!filter.apply(this, arguments)) return;\n    var touches = event.touches,\n        n = touches.length,\n        g = gesture(this, args, event.changedTouches.length === n).event(event),\n        started, i, t, p;\n\n    nopropagation(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      p = [p, this.__zoom.invert(p), t.identifier];\n      if (!g.touch0) g.touch0 = p, started = true, g.taps = 1 + !!touchstarting;\n      else if (!g.touch1 && g.touch0[2] !== p[2]) g.touch1 = p, g.taps = 0;\n    }\n\n    if (touchstarting) touchstarting = clearTimeout(touchstarting);\n\n    if (started) {\n      if (g.taps < 2) touchfirst = p[0], touchstarting = setTimeout(function() { touchstarting = null; }, touchDelay);\n      interrupt(this);\n      g.start();\n    }\n  }\n\n  function touchmoved(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t, p, l;\n\n    noevent(event);\n    for (i = 0; i < n; ++i) {\n      t = touches[i], p = pointer(t, this);\n      if (g.touch0 && g.touch0[2] === t.identifier) g.touch0[0] = p;\n      else if (g.touch1 && g.touch1[2] === t.identifier) g.touch1[0] = p;\n    }\n    t = g.that.__zoom;\n    if (g.touch1) {\n      var p0 = g.touch0[0], l0 = g.touch0[1],\n          p1 = g.touch1[0], l1 = g.touch1[1],\n          dp = (dp = p1[0] - p0[0]) * dp + (dp = p1[1] - p0[1]) * dp,\n          dl = (dl = l1[0] - l0[0]) * dl + (dl = l1[1] - l0[1]) * dl;\n      t = scale(t, Math.sqrt(dp / dl));\n      p = [(p0[0] + p1[0]) / 2, (p0[1] + p1[1]) / 2];\n      l = [(l0[0] + l1[0]) / 2, (l0[1] + l1[1]) / 2];\n    }\n    else if (g.touch0) p = g.touch0[0], l = g.touch0[1];\n    else return;\n\n    g.zoom(\"touch\", constrain(translate(t, p, l), g.extent, translateExtent));\n  }\n\n  function touchended(event, ...args) {\n    if (!this.__zooming) return;\n    var g = gesture(this, args).event(event),\n        touches = event.changedTouches,\n        n = touches.length, i, t;\n\n    nopropagation(event);\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, touchDelay);\n    for (i = 0; i < n; ++i) {\n      t = touches[i];\n      if (g.touch0 && g.touch0[2] === t.identifier) delete g.touch0;\n      else if (g.touch1 && g.touch1[2] === t.identifier) delete g.touch1;\n    }\n    if (g.touch1 && !g.touch0) g.touch0 = g.touch1, delete g.touch1;\n    if (g.touch0) g.touch0[1] = this.__zoom.invert(g.touch0[0]);\n    else {\n      g.end();\n      // If this was a dbltap, reroute to the (optional) dblclick.zoom handler.\n      if (g.taps === 2) {\n        t = pointer(t, this);\n        if (Math.hypot(touchfirst[0] - t[0], touchfirst[1] - t[1]) < tapDistance) {\n          var p = select(this).on(\"dblclick.zoom\");\n          if (p) p.apply(this, arguments);\n        }\n      }\n    }\n  }\n\n  zoom.wheelDelta = function(_) {\n    return arguments.length ? (wheelDelta = typeof _ === \"function\" ? _ : constant(+_), zoom) : wheelDelta;\n  };\n\n  zoom.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), zoom) : filter;\n  };\n\n  zoom.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), zoom) : touchable;\n  };\n\n  zoom.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), zoom) : extent;\n  };\n\n  zoom.scaleExtent = function(_) {\n    return arguments.length ? (scaleExtent[0] = +_[0], scaleExtent[1] = +_[1], zoom) : [scaleExtent[0], scaleExtent[1]];\n  };\n\n  zoom.translateExtent = function(_) {\n    return arguments.length ? (translateExtent[0][0] = +_[0][0], translateExtent[1][0] = +_[1][0], translateExtent[0][1] = +_[0][1], translateExtent[1][1] = +_[1][1], zoom) : [[translateExtent[0][0], translateExtent[0][1]], [translateExtent[1][0], translateExtent[1][1]]];\n  };\n\n  zoom.constrain = function(_) {\n    return arguments.length ? (constrain = _, zoom) : constrain;\n  };\n\n  zoom.duration = function(_) {\n    return arguments.length ? (duration = +_, zoom) : duration;\n  };\n\n  zoom.interpolate = function(_) {\n    return arguments.length ? (interpolate = _, zoom) : interpolate;\n  };\n\n  zoom.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? zoom : value;\n  };\n\n  zoom.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, zoom) : Math.sqrt(clickDistance2);\n  };\n\n  zoom.tapDistance = function(_) {\n    return arguments.length ? (tapDistance = +_, zoom) : tapDistance;\n  };\n\n  return zoom;\n}\n","export default x => () => x;\n","export default function DragEvent(type, {\n  sourceEvent,\n  subject,\n  target,\n  identifier,\n  active,\n  x, y, dx, dy,\n  dispatch\n}) {\n  Object.defineProperties(this, {\n    type: {value: type, enumerable: true, configurable: true},\n    sourceEvent: {value: sourceEvent, enumerable: true, configurable: true},\n    subject: {value: subject, enumerable: true, configurable: true},\n    target: {value: target, enumerable: true, configurable: true},\n    identifier: {value: identifier, enumerable: true, configurable: true},\n    active: {value: active, enumerable: true, configurable: true},\n    x: {value: x, enumerable: true, configurable: true},\n    y: {value: y, enumerable: true, configurable: true},\n    dx: {value: dx, enumerable: true, configurable: true},\n    dy: {value: dy, enumerable: true, configurable: true},\n    _: {value: dispatch}\n  });\n}\n\nDragEvent.prototype.on = function() {\n  var value = this._.on.apply(this._, arguments);\n  return value === this._ ? this : value;\n};\n","import {dispatch} from \"d3-dispatch\";\nimport {select, pointer} from \"d3-selection\";\nimport nodrag, {yesdrag} from \"./nodrag.js\";\nimport noevent, {nonpassive, nonpassivecapture, nopropagation} from \"./noevent.js\";\nimport constant from \"./constant.js\";\nimport DragEvent from \"./event.js\";\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter(event) {\n  return !event.ctrlKey && !event.button;\n}\n\nfunction defaultContainer() {\n  return this.parentNode;\n}\n\nfunction defaultSubject(event, d) {\n  return d == null ? {x: event.x, y: event.y} : d;\n}\n\nfunction defaultTouchable() {\n  return navigator.maxTouchPoints || (\"ontouchstart\" in this);\n}\n\nexport default function() {\n  var filter = defaultFilter,\n      container = defaultContainer,\n      subject = defaultSubject,\n      touchable = defaultTouchable,\n      gestures = {},\n      listeners = dispatch(\"start\", \"drag\", \"end\"),\n      active = 0,\n      mousedownx,\n      mousedowny,\n      mousemoving,\n      touchending,\n      clickDistance2 = 0;\n\n  function drag(selection) {\n    selection\n        .on(\"mousedown.drag\", mousedowned)\n      .filter(touchable)\n        .on(\"touchstart.drag\", touchstarted)\n        .on(\"touchmove.drag\", touchmoved, nonpassive)\n        .on(\"touchend.drag touchcancel.drag\", touchended)\n        .style(\"touch-action\", \"none\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\");\n  }\n\n  function mousedowned(event, d) {\n    if (touchending || !filter.call(this, event, d)) return;\n    var gesture = beforestart(this, container.call(this, event, d), event, d, \"mouse\");\n    if (!gesture) return;\n    select(event.view)\n      .on(\"mousemove.drag\", mousemoved, nonpassivecapture)\n      .on(\"mouseup.drag\", mouseupped, nonpassivecapture);\n    nodrag(event.view);\n    nopropagation(event);\n    mousemoving = false;\n    mousedownx = event.clientX;\n    mousedowny = event.clientY;\n    gesture(\"start\", event);\n  }\n\n  function mousemoved(event) {\n    noevent(event);\n    if (!mousemoving) {\n      var dx = event.clientX - mousedownx, dy = event.clientY - mousedowny;\n      mousemoving = dx * dx + dy * dy > clickDistance2;\n    }\n    gestures.mouse(\"drag\", event);\n  }\n\n  function mouseupped(event) {\n    select(event.view).on(\"mousemove.drag mouseup.drag\", null);\n    yesdrag(event.view, mousemoving);\n    noevent(event);\n    gestures.mouse(\"end\", event);\n  }\n\n  function touchstarted(event, d) {\n    if (!filter.call(this, event, d)) return;\n    var touches = event.changedTouches,\n        c = container.call(this, event, d),\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = beforestart(this, c, event, d, touches[i].identifier, touches[i])) {\n        nopropagation(event);\n        gesture(\"start\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchmoved(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        noevent(event);\n        gesture(\"drag\", event, touches[i]);\n      }\n    }\n  }\n\n  function touchended(event) {\n    var touches = event.changedTouches,\n        n = touches.length, i, gesture;\n\n    if (touchending) clearTimeout(touchending);\n    touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n    for (i = 0; i < n; ++i) {\n      if (gesture = gestures[touches[i].identifier]) {\n        nopropagation(event);\n        gesture(\"end\", event, touches[i]);\n      }\n    }\n  }\n\n  function beforestart(that, container, event, d, identifier, touch) {\n    var dispatch = listeners.copy(),\n        p = pointer(touch || event, container), dx, dy,\n        s;\n\n    if ((s = subject.call(that, new DragEvent(\"beforestart\", {\n        sourceEvent: event,\n        target: drag,\n        identifier,\n        active,\n        x: p[0],\n        y: p[1],\n        dx: 0,\n        dy: 0,\n        dispatch\n      }), d)) == null) return;\n\n    dx = s.x - p[0] || 0;\n    dy = s.y - p[1] || 0;\n\n    return function gesture(type, event, touch) {\n      var p0 = p, n;\n      switch (type) {\n        case \"start\": gestures[identifier] = gesture, n = active++; break;\n        case \"end\": delete gestures[identifier], --active; // falls through\n        case \"drag\": p = pointer(touch || event, container), n = active; break;\n      }\n      dispatch.call(\n        type,\n        that,\n        new DragEvent(type, {\n          sourceEvent: event,\n          subject: s,\n          target: drag,\n          identifier,\n          active: n,\n          x: p[0] + dx,\n          y: p[1] + dy,\n          dx: p[0] - p0[0],\n          dy: p[1] - p0[1],\n          dispatch\n        }),\n        d\n      );\n    };\n  }\n\n  drag.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), drag) : filter;\n  };\n\n  drag.container = function(_) {\n    return arguments.length ? (container = typeof _ === \"function\" ? _ : constant(_), drag) : container;\n  };\n\n  drag.subject = function(_) {\n    return arguments.length ? (subject = typeof _ === \"function\" ? _ : constant(_), drag) : subject;\n  };\n\n  drag.touchable = function(_) {\n    return arguments.length ? (touchable = typeof _ === \"function\" ? _ : constant(!!_), drag) : touchable;\n  };\n\n  drag.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? drag : value;\n  };\n\n  drag.clickDistance = function(_) {\n    return arguments.length ? (clickDistance2 = (_ = +_) * _, drag) : Math.sqrt(clickDistance2);\n  };\n\n  return drag;\n}\n","import React, { createContext, useContext, useMemo, memo, useRef, useState, useEffect, forwardRef, useCallback } from 'react';\nimport cc from 'classcat';\nimport { useStoreWithEqualityFn, createWithEqualityFn } from 'zustand/traditional';\nimport { shallow } from 'zustand/shallow';\nimport { zoomIdentity, zoom } from 'd3-zoom';\nimport { select, pointer } from 'd3-selection';\nimport { drag } from 'd3-drag';\nimport { createPortal } from 'react-dom';\n\nconst StoreContext = createContext(null);\nconst Provider$1 = StoreContext.Provider;\n\nconst errorMessages = {\n    error001: () => '[React Flow]: Seems like you have not used zustand provider as an ancestor. Help: https://reactflow.dev/error#001',\n    error002: () => \"It looks like you've created a new nodeTypes or edgeTypes object. If this wasn't on purpose please define the nodeTypes/edgeTypes outside of the component or memoize them.\",\n    error003: (nodeType) => `Node type \"${nodeType}\" not found. Using fallback type \"default\".`,\n    error004: () => 'The React Flow parent container needs a width and a height to render the graph.',\n    error005: () => 'Only child nodes can use a parent extent.',\n    error006: () => \"Can't create edge. An edge needs a source and a target.\",\n    error007: (id) => `The old edge with id=${id} does not exist.`,\n    error009: (type) => `Marker type \"${type}\" doesn't exist.`,\n    error008: (sourceHandle, edge) => `Couldn't create edge for ${!sourceHandle ? 'source' : 'target'} handle id: \"${!sourceHandle ? edge.sourceHandle : edge.targetHandle}\", edge id: ${edge.id}.`,\n    error010: () => 'Handle: No node id found. Make sure to only use a Handle inside a custom Node.',\n    error011: (edgeType) => `Edge type \"${edgeType}\" not found. Using fallback type \"default\".`,\n    error012: (id) => `Node with id \"${id}\" does not exist, it may have been removed. This can happen when a node is deleted before the \"onNodeClick\" handler is called.`,\n};\n\nconst zustandErrorMessage = errorMessages['error001']();\nfunction useStore(selector, equalityFn) {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useStoreWithEqualityFn(store, selector, equalityFn);\n}\nconst useStoreApi = () => {\n    const store = useContext(StoreContext);\n    if (store === null) {\n        throw new Error(zustandErrorMessage);\n    }\n    return useMemo(() => ({\n        getState: store.getState,\n        setState: store.setState,\n        subscribe: store.subscribe,\n        destroy: store.destroy,\n    }), [store]);\n};\n\nconst selector$g = (s) => (s.userSelectionActive ? 'none' : 'all');\nfunction Panel({ position, children, className, style, ...rest }) {\n    const pointerEvents = useStore(selector$g);\n    const positionClasses = `${position}`.split('-');\n    return (React.createElement(\"div\", { className: cc(['react-flow__panel', className, ...positionClasses]), style: { ...style, pointerEvents }, ...rest }, children));\n}\n\nfunction Attribution({ proOptions, position = 'bottom-right' }) {\n    if (proOptions?.hideAttribution) {\n        return null;\n    }\n    return (React.createElement(Panel, { position: position, className: \"react-flow__attribution\", \"data-message\": \"Please only hide this attribution when you are subscribed to React Flow Pro: https://reactflow.dev/pro\" },\n        React.createElement(\"a\", { href: \"https://reactflow.dev\", target: \"_blank\", rel: \"noopener noreferrer\", \"aria-label\": \"React Flow attribution\" }, \"React Flow\")));\n}\n\nconst EdgeText = ({ x, y, label, labelStyle = {}, labelShowBg = true, labelBgStyle = {}, labelBgPadding = [2, 4], labelBgBorderRadius = 2, children, className, ...rest }) => {\n    const edgeRef = useRef(null);\n    const [edgeTextBbox, setEdgeTextBbox] = useState({ x: 0, y: 0, width: 0, height: 0 });\n    const edgeTextClasses = cc(['react-flow__edge-textwrapper', className]);\n    useEffect(() => {\n        if (edgeRef.current) {\n            const textBbox = edgeRef.current.getBBox();\n            setEdgeTextBbox({\n                x: textBbox.x,\n                y: textBbox.y,\n                width: textBbox.width,\n                height: textBbox.height,\n            });\n        }\n    }, [label]);\n    if (typeof label === 'undefined' || !label) {\n        return null;\n    }\n    return (React.createElement(\"g\", { transform: `translate(${x - edgeTextBbox.width / 2} ${y - edgeTextBbox.height / 2})`, className: edgeTextClasses, visibility: edgeTextBbox.width ? 'visible' : 'hidden', ...rest },\n        labelShowBg && (React.createElement(\"rect\", { width: edgeTextBbox.width + 2 * labelBgPadding[0], x: -labelBgPadding[0], y: -labelBgPadding[1], height: edgeTextBbox.height + 2 * labelBgPadding[1], className: \"react-flow__edge-textbg\", style: labelBgStyle, rx: labelBgBorderRadius, ry: labelBgBorderRadius })),\n        React.createElement(\"text\", { className: \"react-flow__edge-text\", y: edgeTextBbox.height / 2, dy: \"0.3em\", ref: edgeRef, style: labelStyle }, label),\n        children));\n};\nvar EdgeText$1 = memo(EdgeText);\n\nconst getDimensions = (node) => ({\n    width: node.offsetWidth,\n    height: node.offsetHeight,\n});\nconst clamp = (val, min = 0, max = 1) => Math.min(Math.max(val, min), max);\nconst clampPosition = (position = { x: 0, y: 0 }, extent) => ({\n    x: clamp(position.x, extent[0][0], extent[1][0]),\n    y: clamp(position.y, extent[0][1], extent[1][1]),\n});\n// returns a number between 0 and 1 that represents the velocity of the movement\n// when the mouse is close to the edge of the canvas\nconst calcAutoPanVelocity = (value, min, max) => {\n    if (value < min) {\n        return clamp(Math.abs(value - min), 1, 50) / 50;\n    }\n    else if (value > max) {\n        return -clamp(Math.abs(value - max), 1, 50) / 50;\n    }\n    return 0;\n};\nconst calcAutoPan = (pos, bounds) => {\n    const xMovement = calcAutoPanVelocity(pos.x, 35, bounds.width - 35) * 20;\n    const yMovement = calcAutoPanVelocity(pos.y, 35, bounds.height - 35) * 20;\n    return [xMovement, yMovement];\n};\nconst getHostForElement = (element) => element.getRootNode?.() || window?.document;\nconst getBoundsOfBoxes = (box1, box2) => ({\n    x: Math.min(box1.x, box2.x),\n    y: Math.min(box1.y, box2.y),\n    x2: Math.max(box1.x2, box2.x2),\n    y2: Math.max(box1.y2, box2.y2),\n});\nconst rectToBox = ({ x, y, width, height }) => ({\n    x,\n    y,\n    x2: x + width,\n    y2: y + height,\n});\nconst boxToRect = ({ x, y, x2, y2 }) => ({\n    x,\n    y,\n    width: x2 - x,\n    height: y2 - y,\n});\nconst nodeToRect = (node) => ({\n    ...(node.positionAbsolute || { x: 0, y: 0 }),\n    width: node.width || 0,\n    height: node.height || 0,\n});\nconst getBoundsOfRects = (rect1, rect2) => boxToRect(getBoundsOfBoxes(rectToBox(rect1), rectToBox(rect2)));\nconst getOverlappingArea = (rectA, rectB) => {\n    const xOverlap = Math.max(0, Math.min(rectA.x + rectA.width, rectB.x + rectB.width) - Math.max(rectA.x, rectB.x));\n    const yOverlap = Math.max(0, Math.min(rectA.y + rectA.height, rectB.y + rectB.height) - Math.max(rectA.y, rectB.y));\n    return Math.ceil(xOverlap * yOverlap);\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst isRectObject = (obj) => isNumeric(obj.width) && isNumeric(obj.height) && isNumeric(obj.x) && isNumeric(obj.y);\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nconst isNumeric = (n) => !isNaN(n) && isFinite(n);\nconst internalsSymbol = Symbol.for('internals');\n// used for a11y key board controls for nodes and edges\nconst elementSelectionKeys = ['Enter', ' ', 'Escape'];\nconst devWarn = (id, message) => {\n    if (process.env.NODE_ENV === 'development') {\n        console.warn(`[React Flow]: ${message} Help: https://reactflow.dev/error#${id}`);\n    }\n};\nconst isReactKeyboardEvent = (event) => 'nativeEvent' in event;\nfunction isInputDOMNode(event) {\n    const kbEvent = isReactKeyboardEvent(event) ? event.nativeEvent : event;\n    // using composed path for handling shadow dom\n    const target = (kbEvent.composedPath?.()?.[0] || event.target);\n    const isInput = ['INPUT', 'SELECT', 'TEXTAREA'].includes(target?.nodeName) || target?.hasAttribute('contenteditable');\n    // when an input field is focused we don't want to trigger deletion or movement of nodes\n    return isInput || !!target?.closest('.nokey');\n}\nconst isMouseEvent = (event) => 'clientX' in event;\nconst getEventPosition = (event, bounds) => {\n    const isMouseTriggered = isMouseEvent(event);\n    const evtX = isMouseTriggered ? event.clientX : event.touches?.[0].clientX;\n    const evtY = isMouseTriggered ? event.clientY : event.touches?.[0].clientY;\n    return {\n        x: evtX - (bounds?.left ?? 0),\n        y: evtY - (bounds?.top ?? 0),\n    };\n};\nconst isMacOs = () => typeof navigator !== 'undefined' && navigator?.userAgent?.indexOf('Mac') >= 0;\n\nconst BaseEdge = ({ id, path, labelX, labelY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth = 20, }) => {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"path\", { id: id, style: style, d: path, fill: \"none\", className: \"react-flow__edge-path\", markerEnd: markerEnd, markerStart: markerStart }),\n        interactionWidth && (React.createElement(\"path\", { d: path, fill: \"none\", strokeOpacity: 0, strokeWidth: interactionWidth, className: \"react-flow__edge-interaction\" })),\n        label && isNumeric(labelX) && isNumeric(labelY) ? (React.createElement(EdgeText$1, { x: labelX, y: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius })) : null));\n};\nBaseEdge.displayName = 'BaseEdge';\n\nconst getMarkerEnd = (markerType, markerEndId) => {\n    if (typeof markerEndId !== 'undefined' && markerEndId) {\n        return `url(#${markerEndId})`;\n    }\n    return typeof markerType !== 'undefined' ? `url(#react-flow__${markerType})` : 'none';\n};\nfunction getMouseHandler$1(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const edge = getState().edges.find((e) => e.id === id);\n            if (edge) {\n                handler(event, { ...edge });\n            }\n        };\n}\n// this is used for straight edges and simple smoothstep edges (LTR, RTL, BTT, TTB)\nfunction getEdgeCenter({ sourceX, sourceY, targetX, targetY, }) {\n    const xOffset = Math.abs(targetX - sourceX) / 2;\n    const centerX = targetX < sourceX ? targetX + xOffset : targetX - xOffset;\n    const yOffset = Math.abs(targetY - sourceY) / 2;\n    const centerY = targetY < sourceY ? targetY + yOffset : targetY - yOffset;\n    return [centerX, centerY, xOffset, yOffset];\n}\nfunction getBezierEdgeCenter({ sourceX, sourceY, targetX, targetY, sourceControlX, sourceControlY, targetControlX, targetControlY, }) {\n    // cubic bezier t=0.5 mid point, not the actual mid point, but easy to calculate\n    // https://stackoverflow.com/questions/67516101/how-to-find-distance-mid-point-of-bezier-curve\n    const centerX = sourceX * 0.125 + sourceControlX * 0.375 + targetControlX * 0.375 + targetX * 0.125;\n    const centerY = sourceY * 0.125 + sourceControlY * 0.375 + targetControlY * 0.375 + targetY * 0.125;\n    const offsetX = Math.abs(centerX - sourceX);\n    const offsetY = Math.abs(centerY - sourceY);\n    return [centerX, centerY, offsetX, offsetY];\n}\n\nvar ConnectionMode;\n(function (ConnectionMode) {\n    ConnectionMode[\"Strict\"] = \"strict\";\n    ConnectionMode[\"Loose\"] = \"loose\";\n})(ConnectionMode || (ConnectionMode = {}));\nvar PanOnScrollMode;\n(function (PanOnScrollMode) {\n    PanOnScrollMode[\"Free\"] = \"free\";\n    PanOnScrollMode[\"Vertical\"] = \"vertical\";\n    PanOnScrollMode[\"Horizontal\"] = \"horizontal\";\n})(PanOnScrollMode || (PanOnScrollMode = {}));\nvar SelectionMode;\n(function (SelectionMode) {\n    SelectionMode[\"Partial\"] = \"partial\";\n    SelectionMode[\"Full\"] = \"full\";\n})(SelectionMode || (SelectionMode = {}));\n\nvar ConnectionLineType;\n(function (ConnectionLineType) {\n    ConnectionLineType[\"Bezier\"] = \"default\";\n    ConnectionLineType[\"Straight\"] = \"straight\";\n    ConnectionLineType[\"Step\"] = \"step\";\n    ConnectionLineType[\"SmoothStep\"] = \"smoothstep\";\n    ConnectionLineType[\"SimpleBezier\"] = \"simplebezier\";\n})(ConnectionLineType || (ConnectionLineType = {}));\nvar MarkerType;\n(function (MarkerType) {\n    MarkerType[\"Arrow\"] = \"arrow\";\n    MarkerType[\"ArrowClosed\"] = \"arrowclosed\";\n})(MarkerType || (MarkerType = {}));\n\nvar Position;\n(function (Position) {\n    Position[\"Left\"] = \"left\";\n    Position[\"Top\"] = \"top\";\n    Position[\"Right\"] = \"right\";\n    Position[\"Bottom\"] = \"bottom\";\n})(Position || (Position = {}));\n\nfunction getControl({ pos, x1, y1, x2, y2 }) {\n    if (pos === Position.Left || pos === Position.Right) {\n        return [0.5 * (x1 + x2), y1];\n    }\n    return [x1, 0.5 * (y1 + y2)];\n}\nfunction getSimpleBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, }) {\n    const [sourceControlX, sourceControlY] = getControl({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n    });\n    const [targetControlX, targetControlY] = getControl({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst SimpleBezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSimpleBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSimpleBezierEdge.displayName = 'SimpleBezierEdge';\n\nconst handleDirections = {\n    [Position.Left]: { x: -1, y: 0 },\n    [Position.Right]: { x: 1, y: 0 },\n    [Position.Top]: { x: 0, y: -1 },\n    [Position.Bottom]: { x: 0, y: 1 },\n};\nconst getDirection = ({ source, sourcePosition = Position.Bottom, target, }) => {\n    if (sourcePosition === Position.Left || sourcePosition === Position.Right) {\n        return source.x < target.x ? { x: 1, y: 0 } : { x: -1, y: 0 };\n    }\n    return source.y < target.y ? { x: 0, y: 1 } : { x: 0, y: -1 };\n};\nconst distance = (a, b) => Math.sqrt(Math.pow(b.x - a.x, 2) + Math.pow(b.y - a.y, 2));\n// ith this function we try to mimic a orthogonal edge routing behaviour\n// It's not as good as a real orthogonal edge routing but it's faster and good enough as a default for step and smooth step edges\nfunction getPoints({ source, sourcePosition = Position.Bottom, target, targetPosition = Position.Top, center, offset, }) {\n    const sourceDir = handleDirections[sourcePosition];\n    const targetDir = handleDirections[targetPosition];\n    const sourceGapped = { x: source.x + sourceDir.x * offset, y: source.y + sourceDir.y * offset };\n    const targetGapped = { x: target.x + targetDir.x * offset, y: target.y + targetDir.y * offset };\n    const dir = getDirection({\n        source: sourceGapped,\n        sourcePosition,\n        target: targetGapped,\n    });\n    const dirAccessor = dir.x !== 0 ? 'x' : 'y';\n    const currDir = dir[dirAccessor];\n    let points = [];\n    let centerX, centerY;\n    const sourceGapOffset = { x: 0, y: 0 };\n    const targetGapOffset = { x: 0, y: 0 };\n    const [defaultCenterX, defaultCenterY, defaultOffsetX, defaultOffsetY] = getEdgeCenter({\n        sourceX: source.x,\n        sourceY: source.y,\n        targetX: target.x,\n        targetY: target.y,\n    });\n    // opposite handle positions, default case\n    if (sourceDir[dirAccessor] * targetDir[dirAccessor] === -1) {\n        centerX = center.x || defaultCenterX;\n        centerY = center.y || defaultCenterY;\n        //    --->\n        //    |\n        // >---\n        const verticalSplit = [\n            { x: centerX, y: sourceGapped.y },\n            { x: centerX, y: targetGapped.y },\n        ];\n        //    |\n        //  ---\n        //  |\n        const horizontalSplit = [\n            { x: sourceGapped.x, y: centerY },\n            { x: targetGapped.x, y: centerY },\n        ];\n        if (sourceDir[dirAccessor] === currDir) {\n            points = dirAccessor === 'x' ? verticalSplit : horizontalSplit;\n        }\n        else {\n            points = dirAccessor === 'x' ? horizontalSplit : verticalSplit;\n        }\n    }\n    else {\n        // sourceTarget means we take x from source and y from target, targetSource is the opposite\n        const sourceTarget = [{ x: sourceGapped.x, y: targetGapped.y }];\n        const targetSource = [{ x: targetGapped.x, y: sourceGapped.y }];\n        // this handles edges with same handle positions\n        if (dirAccessor === 'x') {\n            points = sourceDir.x === currDir ? targetSource : sourceTarget;\n        }\n        else {\n            points = sourceDir.y === currDir ? sourceTarget : targetSource;\n        }\n        if (sourcePosition === targetPosition) {\n            const diff = Math.abs(source[dirAccessor] - target[dirAccessor]);\n            // if an edge goes from right to right for example (sourcePosition === targetPosition) and the distance between source.x and target.x is less than the offset, the added point and the gapped source/target will overlap. This leads to a weird edge path. To avoid this we add a gapOffset to the source/target\n            if (diff <= offset) {\n                const gapOffset = Math.min(offset - 1, offset - diff);\n                if (sourceDir[dirAccessor] === currDir) {\n                    sourceGapOffset[dirAccessor] = (sourceGapped[dirAccessor] > source[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n                else {\n                    targetGapOffset[dirAccessor] = (targetGapped[dirAccessor] > target[dirAccessor] ? -1 : 1) * gapOffset;\n                }\n            }\n        }\n        // these are conditions for handling mixed handle positions like Right -> Bottom for example\n        if (sourcePosition !== targetPosition) {\n            const dirAccessorOpposite = dirAccessor === 'x' ? 'y' : 'x';\n            const isSameDir = sourceDir[dirAccessor] === targetDir[dirAccessorOpposite];\n            const sourceGtTargetOppo = sourceGapped[dirAccessorOpposite] > targetGapped[dirAccessorOpposite];\n            const sourceLtTargetOppo = sourceGapped[dirAccessorOpposite] < targetGapped[dirAccessorOpposite];\n            const flipSourceTarget = (sourceDir[dirAccessor] === 1 && ((!isSameDir && sourceGtTargetOppo) || (isSameDir && sourceLtTargetOppo))) ||\n                (sourceDir[dirAccessor] !== 1 && ((!isSameDir && sourceLtTargetOppo) || (isSameDir && sourceGtTargetOppo)));\n            if (flipSourceTarget) {\n                points = dirAccessor === 'x' ? sourceTarget : targetSource;\n            }\n        }\n        const sourceGapPoint = { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y };\n        const targetGapPoint = { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y };\n        const maxXDistance = Math.max(Math.abs(sourceGapPoint.x - points[0].x), Math.abs(targetGapPoint.x - points[0].x));\n        const maxYDistance = Math.max(Math.abs(sourceGapPoint.y - points[0].y), Math.abs(targetGapPoint.y - points[0].y));\n        // we want to place the label on the longest segment of the edge\n        if (maxXDistance >= maxYDistance) {\n            centerX = (sourceGapPoint.x + targetGapPoint.x) / 2;\n            centerY = points[0].y;\n        }\n        else {\n            centerX = points[0].x;\n            centerY = (sourceGapPoint.y + targetGapPoint.y) / 2;\n        }\n    }\n    const pathPoints = [\n        source,\n        { x: sourceGapped.x + sourceGapOffset.x, y: sourceGapped.y + sourceGapOffset.y },\n        ...points,\n        { x: targetGapped.x + targetGapOffset.x, y: targetGapped.y + targetGapOffset.y },\n        target,\n    ];\n    return [pathPoints, centerX, centerY, defaultOffsetX, defaultOffsetY];\n}\nfunction getBend(a, b, c, size) {\n    const bendSize = Math.min(distance(a, b) / 2, distance(b, c) / 2, size);\n    const { x, y } = b;\n    // no bend\n    if ((a.x === x && x === c.x) || (a.y === y && y === c.y)) {\n        return `L${x} ${y}`;\n    }\n    // first segment is horizontal\n    if (a.y === y) {\n        const xDir = a.x < c.x ? -1 : 1;\n        const yDir = a.y < c.y ? 1 : -1;\n        return `L ${x + bendSize * xDir},${y}Q ${x},${y} ${x},${y + bendSize * yDir}`;\n    }\n    const xDir = a.x < c.x ? 1 : -1;\n    const yDir = a.y < c.y ? -1 : 1;\n    return `L ${x},${y + bendSize * yDir}Q ${x},${y} ${x + bendSize * xDir},${y}`;\n}\nfunction getSmoothStepPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, borderRadius = 5, centerX, centerY, offset = 20, }) {\n    const [points, labelX, labelY, offsetX, offsetY] = getPoints({\n        source: { x: sourceX, y: sourceY },\n        sourcePosition,\n        target: { x: targetX, y: targetY },\n        targetPosition,\n        center: { x: centerX, y: centerY },\n        offset,\n    });\n    const path = points.reduce((res, p, i) => {\n        let segment = '';\n        if (i > 0 && i < points.length - 1) {\n            segment = getBend(points[i - 1], p, points[i + 1], borderRadius);\n        }\n        else {\n            segment = `${i === 0 ? 'M' : 'L'}${p.x} ${p.y}`;\n        }\n        res += segment;\n        return res;\n    }, '');\n    return [path, labelX, labelY, offsetX, offsetY];\n}\nconst SmoothStepEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, sourcePosition = Position.Bottom, targetPosition = Position.Top, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getSmoothStepPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        borderRadius: pathOptions?.borderRadius,\n        offset: pathOptions?.offset,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nSmoothStepEdge.displayName = 'SmoothStepEdge';\n\nconst StepEdge = memo((props) => (React.createElement(SmoothStepEdge, { ...props, pathOptions: useMemo(() => ({ borderRadius: 0, offset: props.pathOptions?.offset }), [props.pathOptions?.offset]) })));\nStepEdge.displayName = 'StepEdge';\n\nfunction getStraightPath({ sourceX, sourceY, targetX, targetY, }) {\n    const [labelX, labelY, offsetX, offsetY] = getEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n    });\n    return [`M ${sourceX},${sourceY}L ${targetX},${targetY}`, labelX, labelY, offsetX, offsetY];\n}\nconst StraightEdge = memo(({ sourceX, sourceY, targetX, targetY, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, interactionWidth, }) => {\n    const [path, labelX, labelY] = getStraightPath({ sourceX, sourceY, targetX, targetY });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nStraightEdge.displayName = 'StraightEdge';\n\nfunction calculateControlOffset(distance, curvature) {\n    if (distance >= 0) {\n        return 0.5 * distance;\n    }\n    return curvature * 25 * Math.sqrt(-distance);\n}\nfunction getControlWithCurvature({ pos, x1, y1, x2, y2, c }) {\n    switch (pos) {\n        case Position.Left:\n            return [x1 - calculateControlOffset(x1 - x2, c), y1];\n        case Position.Right:\n            return [x1 + calculateControlOffset(x2 - x1, c), y1];\n        case Position.Top:\n            return [x1, y1 - calculateControlOffset(y1 - y2, c)];\n        case Position.Bottom:\n            return [x1, y1 + calculateControlOffset(y2 - y1, c)];\n    }\n}\nfunction getBezierPath({ sourceX, sourceY, sourcePosition = Position.Bottom, targetX, targetY, targetPosition = Position.Top, curvature = 0.25, }) {\n    const [sourceControlX, sourceControlY] = getControlWithCurvature({\n        pos: sourcePosition,\n        x1: sourceX,\n        y1: sourceY,\n        x2: targetX,\n        y2: targetY,\n        c: curvature,\n    });\n    const [targetControlX, targetControlY] = getControlWithCurvature({\n        pos: targetPosition,\n        x1: targetX,\n        y1: targetY,\n        x2: sourceX,\n        y2: sourceY,\n        c: curvature,\n    });\n    const [labelX, labelY, offsetX, offsetY] = getBezierEdgeCenter({\n        sourceX,\n        sourceY,\n        targetX,\n        targetY,\n        sourceControlX,\n        sourceControlY,\n        targetControlX,\n        targetControlY,\n    });\n    return [\n        `M${sourceX},${sourceY} C${sourceControlX},${sourceControlY} ${targetControlX},${targetControlY} ${targetX},${targetY}`,\n        labelX,\n        labelY,\n        offsetX,\n        offsetY,\n    ];\n}\nconst BezierEdge = memo(({ sourceX, sourceY, targetX, targetY, sourcePosition = Position.Bottom, targetPosition = Position.Top, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, markerEnd, markerStart, pathOptions, interactionWidth, }) => {\n    const [path, labelX, labelY] = getBezierPath({\n        sourceX,\n        sourceY,\n        sourcePosition,\n        targetX,\n        targetY,\n        targetPosition,\n        curvature: pathOptions?.curvature,\n    });\n    return (React.createElement(BaseEdge, { path: path, labelX: labelX, labelY: labelY, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, style: style, markerEnd: markerEnd, markerStart: markerStart, interactionWidth: interactionWidth }));\n});\nBezierEdge.displayName = 'BezierEdge';\n\nconst NodeIdContext = createContext(null);\nconst Provider = NodeIdContext.Provider;\nNodeIdContext.Consumer;\nconst useNodeId = () => {\n    const nodeId = useContext(NodeIdContext);\n    return nodeId;\n};\n\nconst isEdge = (element) => 'id' in element && 'source' in element && 'target' in element;\nconst isNode = (element) => 'id' in element && !('source' in element) && !('target' in element);\nconst getOutgoers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const outgoerIds = edges.filter((e) => e.source === node.id).map((e) => e.target);\n    return nodes.filter((n) => outgoerIds.includes(n.id));\n};\nconst getIncomers = (node, nodes, edges) => {\n    if (!isNode(node)) {\n        return [];\n    }\n    const incomersIds = edges.filter((e) => e.target === node.id).map((e) => e.source);\n    return nodes.filter((n) => incomersIds.includes(n.id));\n};\nconst getEdgeId = ({ source, sourceHandle, target, targetHandle }) => `reactflow__edge-${source}${sourceHandle || ''}-${target}${targetHandle || ''}`;\nconst getMarkerId = (marker, rfId) => {\n    if (typeof marker === 'undefined') {\n        return '';\n    }\n    if (typeof marker === 'string') {\n        return marker;\n    }\n    const idPrefix = rfId ? `${rfId}__` : '';\n    return `${idPrefix}${Object.keys(marker)\n        .sort()\n        .map((key) => `${key}=${marker[key]}`)\n        .join('&')}`;\n};\nconst connectionExists = (edge, edges) => {\n    return edges.some((el) => el.source === edge.source &&\n        el.target === edge.target &&\n        (el.sourceHandle === edge.sourceHandle || (!el.sourceHandle && !edge.sourceHandle)) &&\n        (el.targetHandle === edge.targetHandle || (!el.targetHandle && !edge.targetHandle)));\n};\nconst addEdge = (edgeParams, edges) => {\n    if (!edgeParams.source || !edgeParams.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    let edge;\n    if (isEdge(edgeParams)) {\n        edge = { ...edgeParams };\n    }\n    else {\n        edge = {\n            ...edgeParams,\n            id: getEdgeId(edgeParams),\n        };\n    }\n    if (connectionExists(edge, edges)) {\n        return edges;\n    }\n    return edges.concat(edge);\n};\nconst updateEdge = (oldEdge, newConnection, edges, options = { shouldReplaceId: true }) => {\n    const { id: oldEdgeId, ...rest } = oldEdge;\n    if (!newConnection.source || !newConnection.target) {\n        devWarn('006', errorMessages['error006']());\n        return edges;\n    }\n    const foundEdge = edges.find((e) => e.id === oldEdgeId);\n    if (!foundEdge) {\n        devWarn('007', errorMessages['error007'](oldEdgeId));\n        return edges;\n    }\n    // Remove old edge and create the new edge with parameters of old edge.\n    const edge = {\n        ...rest,\n        id: options.shouldReplaceId ? getEdgeId(newConnection) : oldEdgeId,\n        source: newConnection.source,\n        target: newConnection.target,\n        sourceHandle: newConnection.sourceHandle,\n        targetHandle: newConnection.targetHandle,\n    };\n    return edges.filter((e) => e.id !== oldEdgeId).concat(edge);\n};\nconst pointToRendererPoint = ({ x, y }, [tx, ty, tScale], snapToGrid, [snapX, snapY]) => {\n    const position = {\n        x: (x - tx) / tScale,\n        y: (y - ty) / tScale,\n    };\n    if (snapToGrid) {\n        return {\n            x: snapX * Math.round(position.x / snapX),\n            y: snapY * Math.round(position.y / snapY),\n        };\n    }\n    return position;\n};\nconst rendererPointToPoint = ({ x, y }, [tx, ty, tScale]) => {\n    return {\n        x: x * tScale + tx,\n        y: y * tScale + ty,\n    };\n};\nconst getNodePositionWithOrigin = (node, nodeOrigin = [0, 0]) => {\n    if (!node) {\n        return {\n            x: 0,\n            y: 0,\n            positionAbsolute: {\n                x: 0,\n                y: 0,\n            },\n        };\n    }\n    const offsetX = (node.width ?? 0) * nodeOrigin[0];\n    const offsetY = (node.height ?? 0) * nodeOrigin[1];\n    const position = {\n        x: node.position.x - offsetX,\n        y: node.position.y - offsetY,\n    };\n    return {\n        ...position,\n        positionAbsolute: node.positionAbsolute\n            ? {\n                x: node.positionAbsolute.x - offsetX,\n                y: node.positionAbsolute.y - offsetY,\n            }\n            : position,\n    };\n};\nconst getNodesBounds = (nodes, nodeOrigin = [0, 0]) => {\n    if (nodes.length === 0) {\n        return { x: 0, y: 0, width: 0, height: 0 };\n    }\n    const box = nodes.reduce((currBox, node) => {\n        const { x, y } = getNodePositionWithOrigin(node, nodeOrigin).positionAbsolute;\n        return getBoundsOfBoxes(currBox, rectToBox({\n            x,\n            y,\n            width: node.width || 0,\n            height: node.height || 0,\n        }));\n    }, { x: Infinity, y: Infinity, x2: -Infinity, y2: -Infinity });\n    return boxToRect(box);\n};\n// @deprecated Use `getNodesBounds`.\nconst getRectOfNodes = (nodes, nodeOrigin = [0, 0]) => {\n    console.warn('[DEPRECATED] `getRectOfNodes` is deprecated. Instead use `getNodesBounds` https://reactflow.dev/api-reference/utils/get-nodes-bounds.');\n    return getNodesBounds(nodes, nodeOrigin);\n};\nconst getNodesInside = (nodeInternals, rect, [tx, ty, tScale] = [0, 0, 1], partially = false, \n// set excludeNonSelectableNodes if you want to pay attention to the nodes \"selectable\" attribute\nexcludeNonSelectableNodes = false, nodeOrigin = [0, 0]) => {\n    const paneRect = {\n        x: (rect.x - tx) / tScale,\n        y: (rect.y - ty) / tScale,\n        width: rect.width / tScale,\n        height: rect.height / tScale,\n    };\n    const visibleNodes = [];\n    nodeInternals.forEach((node) => {\n        const { width, height, selectable = true, hidden = false } = node;\n        if ((excludeNonSelectableNodes && !selectable) || hidden) {\n            return false;\n        }\n        const { positionAbsolute } = getNodePositionWithOrigin(node, nodeOrigin);\n        const nodeRect = {\n            x: positionAbsolute.x,\n            y: positionAbsolute.y,\n            width: width || 0,\n            height: height || 0,\n        };\n        const overlappingArea = getOverlappingArea(paneRect, nodeRect);\n        const notInitialized = typeof width === 'undefined' || typeof height === 'undefined' || width === null || height === null;\n        const partiallyVisible = partially && overlappingArea > 0;\n        const area = (width || 0) * (height || 0);\n        const isVisible = notInitialized || partiallyVisible || overlappingArea >= area;\n        if (isVisible || node.dragging) {\n            visibleNodes.push(node);\n        }\n    });\n    return visibleNodes;\n};\nconst getConnectedEdges = (nodes, edges) => {\n    const nodeIds = nodes.map((node) => node.id);\n    return edges.filter((edge) => nodeIds.includes(edge.source) || nodeIds.includes(edge.target));\n};\n// @deprecated Use `getViewportForBounds`.\nconst getTransformForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const { x, y, zoom } = getViewportForBounds(bounds, width, height, minZoom, maxZoom, padding);\n    console.warn('[DEPRECATED] `getTransformForBounds` is deprecated. Instead use `getViewportForBounds`. Beware that the return value is type Viewport (`{ x: number, y: number, zoom: number }`) instead of Transform (`[number, number, number]`). https://reactflow.dev/api-reference/utils/get-viewport-for-bounds');\n    return [x, y, zoom];\n};\nconst getViewportForBounds = (bounds, width, height, minZoom, maxZoom, padding = 0.1) => {\n    const xZoom = width / (bounds.width * (1 + padding));\n    const yZoom = height / (bounds.height * (1 + padding));\n    const zoom = Math.min(xZoom, yZoom);\n    const clampedZoom = clamp(zoom, minZoom, maxZoom);\n    const boundsCenterX = bounds.x + bounds.width / 2;\n    const boundsCenterY = bounds.y + bounds.height / 2;\n    const x = width / 2 - boundsCenterX * clampedZoom;\n    const y = height / 2 - boundsCenterY * clampedZoom;\n    return { x, y, zoom: clampedZoom };\n};\nconst getD3Transition = (selection, duration = 0) => {\n    return selection.transition().duration(duration);\n};\n\n// this functions collects all handles and adds an absolute position\n// so that we can later find the closest handle to the mouse position\nfunction getHandles(node, handleBounds, type, currentHandle) {\n    return (handleBounds[type] || []).reduce((res, h) => {\n        if (`${node.id}-${h.id}-${type}` !== currentHandle) {\n            res.push({\n                id: h.id || null,\n                type,\n                nodeId: node.id,\n                x: (node.positionAbsolute?.x ?? 0) + h.x + h.width / 2,\n                y: (node.positionAbsolute?.y ?? 0) + h.y + h.height / 2,\n            });\n        }\n        return res;\n    }, []);\n}\nfunction getClosestHandle(event, doc, pos, connectionRadius, handles, validator) {\n    // we always want to prioritize the handle below the mouse cursor over the closest distance handle,\n    // because it could be that the center of another handle is closer to the mouse pointer than the handle below the cursor\n    const { x, y } = getEventPosition(event);\n    const domNodes = doc.elementsFromPoint(x, y);\n    const handleBelow = domNodes.find((el) => el.classList.contains('react-flow__handle'));\n    if (handleBelow) {\n        const handleNodeId = handleBelow.getAttribute('data-nodeid');\n        if (handleNodeId) {\n            const handleType = getHandleType(undefined, handleBelow);\n            const handleId = handleBelow.getAttribute('data-handleid');\n            const validHandleResult = validator({ nodeId: handleNodeId, id: handleId, type: handleType });\n            if (validHandleResult) {\n                const handle = handles.find((h) => h.nodeId === handleNodeId && h.type === handleType && h.id === handleId);\n                return {\n                    handle: {\n                        id: handleId,\n                        type: handleType,\n                        nodeId: handleNodeId,\n                        x: handle?.x || pos.x,\n                        y: handle?.y || pos.y,\n                    },\n                    validHandleResult,\n                };\n            }\n        }\n    }\n    // if we couldn't find a handle below the mouse cursor we look for the closest distance based on the connectionRadius\n    let closestHandles = [];\n    let minDistance = Infinity;\n    handles.forEach((handle) => {\n        const distance = Math.sqrt((handle.x - pos.x) ** 2 + (handle.y - pos.y) ** 2);\n        if (distance <= connectionRadius) {\n            const validHandleResult = validator(handle);\n            if (distance <= minDistance) {\n                if (distance < minDistance) {\n                    closestHandles = [{ handle, validHandleResult }];\n                }\n                else if (distance === minDistance) {\n                    // when multiple handles are on the same distance we collect all of them\n                    closestHandles.push({\n                        handle,\n                        validHandleResult,\n                    });\n                }\n                minDistance = distance;\n            }\n        }\n    });\n    if (!closestHandles.length) {\n        return { handle: null, validHandleResult: defaultResult() };\n    }\n    if (closestHandles.length === 1) {\n        return closestHandles[0];\n    }\n    const hasValidHandle = closestHandles.some(({ validHandleResult }) => validHandleResult.isValid);\n    const hasTargetHandle = closestHandles.some(({ handle }) => handle.type === 'target');\n    // if multiple handles are layouted on top of each other we prefer the one with type = target and the one that is valid\n    return (closestHandles.find(({ handle, validHandleResult }) => hasTargetHandle ? handle.type === 'target' : (hasValidHandle ? validHandleResult.isValid : true)) || closestHandles[0]);\n}\nconst nullConnection = { source: null, target: null, sourceHandle: null, targetHandle: null };\nconst defaultResult = () => ({\n    handleDomNode: null,\n    isValid: false,\n    connection: nullConnection,\n    endHandle: null,\n});\n// checks if  and returns connection in fom of an object { source: 123, target: 312 }\nfunction isValidHandle(handle, connectionMode, fromNodeId, fromHandleId, fromType, isValidConnection, doc) {\n    const isTarget = fromType === 'target';\n    const handleToCheck = doc.querySelector(`.react-flow__handle[data-id=\"${handle?.nodeId}-${handle?.id}-${handle?.type}\"]`);\n    const result = {\n        ...defaultResult(),\n        handleDomNode: handleToCheck,\n    };\n    if (handleToCheck) {\n        const handleType = getHandleType(undefined, handleToCheck);\n        const handleNodeId = handleToCheck.getAttribute('data-nodeid');\n        const handleId = handleToCheck.getAttribute('data-handleid');\n        const connectable = handleToCheck.classList.contains('connectable');\n        const connectableEnd = handleToCheck.classList.contains('connectableend');\n        const connection = {\n            source: isTarget ? handleNodeId : fromNodeId,\n            sourceHandle: isTarget ? handleId : fromHandleId,\n            target: isTarget ? fromNodeId : handleNodeId,\n            targetHandle: isTarget ? fromHandleId : handleId,\n        };\n        result.connection = connection;\n        const isConnectable = connectable && connectableEnd;\n        // in strict mode we don't allow target to target or source to source connections\n        const isValid = isConnectable &&\n            (connectionMode === ConnectionMode.Strict\n                ? (isTarget && handleType === 'source') || (!isTarget && handleType === 'target')\n                : handleNodeId !== fromNodeId || handleId !== fromHandleId);\n        if (isValid) {\n            result.endHandle = {\n                nodeId: handleNodeId,\n                handleId,\n                type: handleType,\n            };\n            result.isValid = isValidConnection(connection);\n        }\n    }\n    return result;\n}\nfunction getHandleLookup({ nodes, nodeId, handleId, handleType }) {\n    return nodes.reduce((res, node) => {\n        if (node[internalsSymbol]) {\n            const { handleBounds } = node[internalsSymbol];\n            let sourceHandles = [];\n            let targetHandles = [];\n            if (handleBounds) {\n                sourceHandles = getHandles(node, handleBounds, 'source', `${nodeId}-${handleId}-${handleType}`);\n                targetHandles = getHandles(node, handleBounds, 'target', `${nodeId}-${handleId}-${handleType}`);\n            }\n            res.push(...sourceHandles, ...targetHandles);\n        }\n        return res;\n    }, []);\n}\nfunction getHandleType(edgeUpdaterType, handleDomNode) {\n    if (edgeUpdaterType) {\n        return edgeUpdaterType;\n    }\n    else if (handleDomNode?.classList.contains('target')) {\n        return 'target';\n    }\n    else if (handleDomNode?.classList.contains('source')) {\n        return 'source';\n    }\n    return null;\n}\nfunction resetRecentHandle(handleDomNode) {\n    handleDomNode?.classList.remove('valid', 'connecting', 'react-flow__handle-valid', 'react-flow__handle-connecting');\n}\nfunction getConnectionStatus(isInsideConnectionRadius, isHandleValid) {\n    let connectionStatus = null;\n    if (isHandleValid) {\n        connectionStatus = 'valid';\n    }\n    else if (isInsideConnectionRadius && !isHandleValid) {\n        connectionStatus = 'invalid';\n    }\n    return connectionStatus;\n}\n\nfunction handlePointerDown({ event, handleId, nodeId, onConnect, isTarget, getState, setState, isValidConnection, edgeUpdaterType, onEdgeUpdateEnd, }) {\n    // when react-flow is used inside a shadow root we can't use document\n    const doc = getHostForElement(event.target);\n    const { connectionMode, domNode, autoPanOnConnect, connectionRadius, onConnectStart, panBy, getNodes, cancelConnection, } = getState();\n    let autoPanId = 0;\n    let closestHandle;\n    const { x, y } = getEventPosition(event);\n    const clickedHandle = doc?.elementFromPoint(x, y);\n    const handleType = getHandleType(edgeUpdaterType, clickedHandle);\n    const containerBounds = domNode?.getBoundingClientRect();\n    if (!containerBounds || !handleType) {\n        return;\n    }\n    let prevActiveHandle;\n    let connectionPosition = getEventPosition(event, containerBounds);\n    let autoPanStarted = false;\n    let connection = null;\n    let isValid = false;\n    let handleDomNode = null;\n    const handleLookup = getHandleLookup({\n        nodes: getNodes(),\n        nodeId,\n        handleId,\n        handleType,\n    });\n    // when the user is moving the mouse close to the edge of the canvas while connecting we move the canvas\n    const autoPan = () => {\n        if (!autoPanOnConnect) {\n            return;\n        }\n        const [xMovement, yMovement] = calcAutoPan(connectionPosition, containerBounds);\n        panBy({ x: xMovement, y: yMovement });\n        autoPanId = requestAnimationFrame(autoPan);\n    };\n    setState({\n        connectionPosition,\n        connectionStatus: null,\n        // connectionNodeId etc will be removed in the next major in favor of connectionStartHandle\n        connectionNodeId: nodeId,\n        connectionHandleId: handleId,\n        connectionHandleType: handleType,\n        connectionStartHandle: {\n            nodeId,\n            handleId,\n            type: handleType,\n        },\n        connectionEndHandle: null,\n    });\n    onConnectStart?.(event, { nodeId, handleId, handleType });\n    function onPointerMove(event) {\n        const { transform } = getState();\n        connectionPosition = getEventPosition(event, containerBounds);\n        const { handle, validHandleResult } = getClosestHandle(event, doc, pointToRendererPoint(connectionPosition, transform, false, [1, 1]), connectionRadius, handleLookup, (handle) => isValidHandle(handle, connectionMode, nodeId, handleId, isTarget ? 'target' : 'source', isValidConnection, doc));\n        closestHandle = handle;\n        if (!autoPanStarted) {\n            autoPan();\n            autoPanStarted = true;\n        }\n        handleDomNode = validHandleResult.handleDomNode;\n        connection = validHandleResult.connection;\n        isValid = validHandleResult.isValid;\n        setState({\n            connectionPosition: closestHandle && isValid\n                ? rendererPointToPoint({\n                    x: closestHandle.x,\n                    y: closestHandle.y,\n                }, transform)\n                : connectionPosition,\n            connectionStatus: getConnectionStatus(!!closestHandle, isValid),\n            connectionEndHandle: validHandleResult.endHandle,\n        });\n        if (!closestHandle && !isValid && !handleDomNode) {\n            return resetRecentHandle(prevActiveHandle);\n        }\n        if (connection.source !== connection.target && handleDomNode) {\n            resetRecentHandle(prevActiveHandle);\n            prevActiveHandle = handleDomNode;\n            // @todo: remove the old class names \"react-flow__handle-\" in the next major version\n            handleDomNode.classList.add('connecting', 'react-flow__handle-connecting');\n            handleDomNode.classList.toggle('valid', isValid);\n            handleDomNode.classList.toggle('react-flow__handle-valid', isValid);\n        }\n    }\n    function onPointerUp(event) {\n        if ((closestHandle || handleDomNode) && connection && isValid) {\n            onConnect?.(connection);\n        }\n        // it's important to get a fresh reference from the store here\n        // in order to get the latest state of onConnectEnd\n        getState().onConnectEnd?.(event);\n        if (edgeUpdaterType) {\n            onEdgeUpdateEnd?.(event);\n        }\n        resetRecentHandle(prevActiveHandle);\n        cancelConnection();\n        cancelAnimationFrame(autoPanId);\n        autoPanStarted = false;\n        isValid = false;\n        connection = null;\n        handleDomNode = null;\n        doc.removeEventListener('mousemove', onPointerMove);\n        doc.removeEventListener('mouseup', onPointerUp);\n        doc.removeEventListener('touchmove', onPointerMove);\n        doc.removeEventListener('touchend', onPointerUp);\n    }\n    doc.addEventListener('mousemove', onPointerMove);\n    doc.addEventListener('mouseup', onPointerUp);\n    doc.addEventListener('touchmove', onPointerMove);\n    doc.addEventListener('touchend', onPointerUp);\n}\n\nconst alwaysValid = () => true;\nconst selector$f = (s) => ({\n    connectionStartHandle: s.connectionStartHandle,\n    connectOnClick: s.connectOnClick,\n    noPanClassName: s.noPanClassName,\n});\nconst connectingSelector = (nodeId, handleId, type) => (state) => {\n    const { connectionStartHandle: startHandle, connectionEndHandle: endHandle, connectionClickStartHandle: clickHandle, } = state;\n    return {\n        connecting: (startHandle?.nodeId === nodeId && startHandle?.handleId === handleId && startHandle?.type === type) ||\n            (endHandle?.nodeId === nodeId && endHandle?.handleId === handleId && endHandle?.type === type),\n        clickConnecting: clickHandle?.nodeId === nodeId && clickHandle?.handleId === handleId && clickHandle?.type === type,\n    };\n};\nconst Handle = forwardRef(({ type = 'source', position = Position.Top, isValidConnection, isConnectable = true, isConnectableStart = true, isConnectableEnd = true, id, onConnect, children, className, onMouseDown, onTouchStart, ...rest }, ref) => {\n    const handleId = id || null;\n    const isTarget = type === 'target';\n    const store = useStoreApi();\n    const nodeId = useNodeId();\n    const { connectOnClick, noPanClassName } = useStore(selector$f, shallow);\n    const { connecting, clickConnecting } = useStore(connectingSelector(nodeId, handleId, type), shallow);\n    if (!nodeId) {\n        store.getState().onError?.('010', errorMessages['error010']());\n    }\n    const onConnectExtended = (params) => {\n        const { defaultEdgeOptions, onConnect: onConnectAction, hasDefaultEdges } = store.getState();\n        const edgeParams = {\n            ...defaultEdgeOptions,\n            ...params,\n        };\n        if (hasDefaultEdges) {\n            const { edges, setEdges } = store.getState();\n            setEdges(addEdge(edgeParams, edges));\n        }\n        onConnectAction?.(edgeParams);\n        onConnect?.(edgeParams);\n    };\n    const onPointerDown = (event) => {\n        if (!nodeId) {\n            return;\n        }\n        const isMouseTriggered = isMouseEvent(event);\n        if (isConnectableStart && ((isMouseTriggered && event.button === 0) || !isMouseTriggered)) {\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectExtended,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection: isValidConnection || store.getState().isValidConnection || alwaysValid,\n            });\n        }\n        if (isMouseTriggered) {\n            onMouseDown?.(event);\n        }\n        else {\n            onTouchStart?.(event);\n        }\n    };\n    const onClick = (event) => {\n        const { onClickConnectStart, onClickConnectEnd, connectionClickStartHandle, connectionMode, isValidConnection: isValidConnectionStore, } = store.getState();\n        if (!nodeId || (!connectionClickStartHandle && !isConnectableStart)) {\n            return;\n        }\n        if (!connectionClickStartHandle) {\n            onClickConnectStart?.(event, { nodeId, handleId, handleType: type });\n            store.setState({ connectionClickStartHandle: { nodeId, type, handleId } });\n            return;\n        }\n        const doc = getHostForElement(event.target);\n        const isValidConnectionHandler = isValidConnection || isValidConnectionStore || alwaysValid;\n        const { connection, isValid } = isValidHandle({\n            nodeId,\n            id: handleId,\n            type,\n        }, connectionMode, connectionClickStartHandle.nodeId, connectionClickStartHandle.handleId || null, connectionClickStartHandle.type, isValidConnectionHandler, doc);\n        if (isValid) {\n            onConnectExtended(connection);\n        }\n        onClickConnectEnd?.(event);\n        store.setState({ connectionClickStartHandle: null });\n    };\n    return (React.createElement(\"div\", { \"data-handleid\": handleId, \"data-nodeid\": nodeId, \"data-handlepos\": position, \"data-id\": `${nodeId}-${handleId}-${type}`, className: cc([\n            'react-flow__handle',\n            `react-flow__handle-${position}`,\n            'nodrag',\n            noPanClassName,\n            className,\n            {\n                source: !isTarget,\n                target: isTarget,\n                connectable: isConnectable,\n                connectablestart: isConnectableStart,\n                connectableend: isConnectableEnd,\n                connecting: clickConnecting,\n                // this class is used to style the handle when the user is connecting\n                connectionindicator: isConnectable && ((isConnectableStart && !connecting) || (isConnectableEnd && connecting)),\n            },\n        ]), onMouseDown: onPointerDown, onTouchStart: onPointerDown, onClick: connectOnClick ? onClick : undefined, ref: ref, ...rest }, children));\n});\nHandle.displayName = 'Handle';\nvar Handle$1 = memo(Handle);\n\nconst DefaultNode = ({ data, isConnectable, targetPosition = Position.Top, sourcePosition = Position.Bottom, }) => {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }),\n        data?.label,\n        React.createElement(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })));\n};\nDefaultNode.displayName = 'DefaultNode';\nvar DefaultNode$1 = memo(DefaultNode);\n\nconst InputNode = ({ data, isConnectable, sourcePosition = Position.Bottom }) => (React.createElement(React.Fragment, null,\n    data?.label,\n    React.createElement(Handle$1, { type: \"source\", position: sourcePosition, isConnectable: isConnectable })));\nInputNode.displayName = 'InputNode';\nvar InputNode$1 = memo(InputNode);\n\nconst OutputNode = ({ data, isConnectable, targetPosition = Position.Top }) => (React.createElement(React.Fragment, null,\n    React.createElement(Handle$1, { type: \"target\", position: targetPosition, isConnectable: isConnectable }),\n    data?.label));\nOutputNode.displayName = 'OutputNode';\nvar OutputNode$1 = memo(OutputNode);\n\nconst GroupNode = () => null;\nGroupNode.displayName = 'GroupNode';\n\nconst selector$e = (s) => ({\n    selectedNodes: s.getNodes().filter((n) => n.selected),\n    selectedEdges: s.edges.filter((e) => e.selected),\n});\nconst selectId = (obj) => obj.id;\nfunction areEqual(a, b) {\n    return (shallow(a.selectedNodes.map(selectId), b.selectedNodes.map(selectId)) &&\n        shallow(a.selectedEdges.map(selectId), b.selectedEdges.map(selectId)));\n}\n// This is just a helper component for calling the onSelectionChange listener.\n// @TODO: Now that we have the onNodesChange and on EdgesChange listeners, do we still need this component?\nconst SelectionListener = memo(({ onSelectionChange }) => {\n    const store = useStoreApi();\n    const { selectedNodes, selectedEdges } = useStore(selector$e, areEqual);\n    useEffect(() => {\n        const params = { nodes: selectedNodes, edges: selectedEdges };\n        onSelectionChange?.(params);\n        store.getState().onSelectionChange.forEach((fn) => fn(params));\n    }, [selectedNodes, selectedEdges, onSelectionChange]);\n    return null;\n});\nSelectionListener.displayName = 'SelectionListener';\nconst changeSelector = (s) => !!s.onSelectionChange;\nfunction Wrapper$1({ onSelectionChange }) {\n    const storeHasSelectionChange = useStore(changeSelector);\n    if (onSelectionChange || storeHasSelectionChange) {\n        return React.createElement(SelectionListener, { onSelectionChange: onSelectionChange });\n    }\n    return null;\n}\n\nconst selector$d = (s) => ({\n    setNodes: s.setNodes,\n    setEdges: s.setEdges,\n    setDefaultNodesAndEdges: s.setDefaultNodesAndEdges,\n    setMinZoom: s.setMinZoom,\n    setMaxZoom: s.setMaxZoom,\n    setTranslateExtent: s.setTranslateExtent,\n    setNodeExtent: s.setNodeExtent,\n    reset: s.reset,\n});\nfunction useStoreUpdater(value, setStoreState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setStoreState(value);\n        }\n    }, [value]);\n}\n// updates with values in store that don't have a dedicated setter function\nfunction useDirectStoreUpdater(key, value, setState) {\n    useEffect(() => {\n        if (typeof value !== 'undefined') {\n            setState({ [key]: value });\n        }\n    }, [value]);\n}\nconst StoreUpdater = ({ nodes, edges, defaultNodes, defaultEdges, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, nodesDraggable, nodesConnectable, nodesFocusable, edgesFocusable, edgesUpdatable, elevateNodesOnSelect, minZoom, maxZoom, nodeExtent, onNodesChange, onEdgesChange, elementsSelectable, connectionMode, snapGrid, snapToGrid, translateExtent, connectOnClick, defaultEdgeOptions, fitView, fitViewOptions, onNodesDelete, onEdgesDelete, onNodeDrag, onNodeDragStart, onNodeDragStop, onSelectionDrag, onSelectionDragStart, onSelectionDragStop, noPanClassName, nodeOrigin, rfId, autoPanOnConnect, autoPanOnNodeDrag, onError, connectionRadius, isValidConnection, nodeDragThreshold, }) => {\n    const { setNodes, setEdges, setDefaultNodesAndEdges, setMinZoom, setMaxZoom, setTranslateExtent, setNodeExtent, reset, } = useStore(selector$d, shallow);\n    const store = useStoreApi();\n    useEffect(() => {\n        const edgesWithDefaults = defaultEdges?.map((e) => ({ ...e, ...defaultEdgeOptions }));\n        setDefaultNodesAndEdges(defaultNodes, edgesWithDefaults);\n        return () => {\n            reset();\n        };\n    }, []);\n    useDirectStoreUpdater('defaultEdgeOptions', defaultEdgeOptions, store.setState);\n    useDirectStoreUpdater('connectionMode', connectionMode, store.setState);\n    useDirectStoreUpdater('onConnect', onConnect, store.setState);\n    useDirectStoreUpdater('onConnectStart', onConnectStart, store.setState);\n    useDirectStoreUpdater('onConnectEnd', onConnectEnd, store.setState);\n    useDirectStoreUpdater('onClickConnectStart', onClickConnectStart, store.setState);\n    useDirectStoreUpdater('onClickConnectEnd', onClickConnectEnd, store.setState);\n    useDirectStoreUpdater('nodesDraggable', nodesDraggable, store.setState);\n    useDirectStoreUpdater('nodesConnectable', nodesConnectable, store.setState);\n    useDirectStoreUpdater('nodesFocusable', nodesFocusable, store.setState);\n    useDirectStoreUpdater('edgesFocusable', edgesFocusable, store.setState);\n    useDirectStoreUpdater('edgesUpdatable', edgesUpdatable, store.setState);\n    useDirectStoreUpdater('elementsSelectable', elementsSelectable, store.setState);\n    useDirectStoreUpdater('elevateNodesOnSelect', elevateNodesOnSelect, store.setState);\n    useDirectStoreUpdater('snapToGrid', snapToGrid, store.setState);\n    useDirectStoreUpdater('snapGrid', snapGrid, store.setState);\n    useDirectStoreUpdater('onNodesChange', onNodesChange, store.setState);\n    useDirectStoreUpdater('onEdgesChange', onEdgesChange, store.setState);\n    useDirectStoreUpdater('connectOnClick', connectOnClick, store.setState);\n    useDirectStoreUpdater('fitViewOnInit', fitView, store.setState);\n    useDirectStoreUpdater('fitViewOnInitOptions', fitViewOptions, store.setState);\n    useDirectStoreUpdater('onNodesDelete', onNodesDelete, store.setState);\n    useDirectStoreUpdater('onEdgesDelete', onEdgesDelete, store.setState);\n    useDirectStoreUpdater('onNodeDrag', onNodeDrag, store.setState);\n    useDirectStoreUpdater('onNodeDragStart', onNodeDragStart, store.setState);\n    useDirectStoreUpdater('onNodeDragStop', onNodeDragStop, store.setState);\n    useDirectStoreUpdater('onSelectionDrag', onSelectionDrag, store.setState);\n    useDirectStoreUpdater('onSelectionDragStart', onSelectionDragStart, store.setState);\n    useDirectStoreUpdater('onSelectionDragStop', onSelectionDragStop, store.setState);\n    useDirectStoreUpdater('noPanClassName', noPanClassName, store.setState);\n    useDirectStoreUpdater('nodeOrigin', nodeOrigin, store.setState);\n    useDirectStoreUpdater('rfId', rfId, store.setState);\n    useDirectStoreUpdater('autoPanOnConnect', autoPanOnConnect, store.setState);\n    useDirectStoreUpdater('autoPanOnNodeDrag', autoPanOnNodeDrag, store.setState);\n    useDirectStoreUpdater('onError', onError, store.setState);\n    useDirectStoreUpdater('connectionRadius', connectionRadius, store.setState);\n    useDirectStoreUpdater('isValidConnection', isValidConnection, store.setState);\n    useDirectStoreUpdater('nodeDragThreshold', nodeDragThreshold, store.setState);\n    useStoreUpdater(nodes, setNodes);\n    useStoreUpdater(edges, setEdges);\n    useStoreUpdater(minZoom, setMinZoom);\n    useStoreUpdater(maxZoom, setMaxZoom);\n    useStoreUpdater(translateExtent, setTranslateExtent);\n    useStoreUpdater(nodeExtent, setNodeExtent);\n    return null;\n};\n\nconst style = { display: 'none' };\nconst ariaLiveStyle = {\n    position: 'absolute',\n    width: 1,\n    height: 1,\n    margin: -1,\n    border: 0,\n    padding: 0,\n    overflow: 'hidden',\n    clip: 'rect(0px, 0px, 0px, 0px)',\n    clipPath: 'inset(100%)',\n};\nconst ARIA_NODE_DESC_KEY = 'react-flow__node-desc';\nconst ARIA_EDGE_DESC_KEY = 'react-flow__edge-desc';\nconst ARIA_LIVE_MESSAGE = 'react-flow__aria-live';\nconst selector$c = (s) => s.ariaLiveMessage;\nfunction AriaLiveMessage({ rfId }) {\n    const ariaLiveMessage = useStore(selector$c);\n    return (React.createElement(\"div\", { id: `${ARIA_LIVE_MESSAGE}-${rfId}`, \"aria-live\": \"assertive\", \"aria-atomic\": \"true\", style: ariaLiveStyle }, ariaLiveMessage));\n}\nfunction A11yDescriptions({ rfId, disableKeyboardA11y }) {\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { id: `${ARIA_NODE_DESC_KEY}-${rfId}`, style: style },\n            \"Press enter or space to select a node.\",\n            !disableKeyboardA11y && 'You can then use the arrow keys to move the node around.',\n            \" Press delete to remove it and escape to cancel.\",\n            ' '),\n        React.createElement(\"div\", { id: `${ARIA_EDGE_DESC_KEY}-${rfId}`, style: style }, \"Press enter or space to select an edge. You can then press delete to remove it or escape to cancel.\"),\n        !disableKeyboardA11y && React.createElement(AriaLiveMessage, { rfId: rfId })));\n}\n\n// the keycode can be a string 'a' or an array of strings ['a', 'a+d']\n// a string means a single key 'a' or a combination when '+' is used 'a+d'\n// an array means different possibilities. Explainer: ['a', 'd+s'] here the\n// user can use the single key 'a' or the combination 'd' + 's'\nvar useKeyPress = (keyCode = null, options = { actInsideInputWithModifier: true }) => {\n    const [keyPressed, setKeyPressed] = useState(false);\n    // we need to remember if a modifier key is pressed in order to track it\n    const modifierPressed = useRef(false);\n    // we need to remember the pressed keys in order to support combinations\n    const pressedKeys = useRef(new Set([]));\n    // keyCodes = array with single keys [['a']] or key combinations [['a', 's']]\n    // keysToWatch = array with all keys flattened ['a', 'd', 'ShiftLeft']\n    // used to check if we store event.code or event.key. When the code is in the list of keysToWatch\n    // we use the code otherwise the key. Explainer: When you press the left \"command\" key, the code is \"MetaLeft\"\n    // and the key is \"Meta\". We want users to be able to pass keys and codes so we assume that the key is meant when\n    // we can't find it in the list of keysToWatch.\n    const [keyCodes, keysToWatch] = useMemo(() => {\n        if (keyCode !== null) {\n            const keyCodeArr = Array.isArray(keyCode) ? keyCode : [keyCode];\n            const keys = keyCodeArr.filter((kc) => typeof kc === 'string').map((kc) => kc.split('+'));\n            const keysFlat = keys.reduce((res, item) => res.concat(...item), []);\n            return [keys, keysFlat];\n        }\n        return [[], []];\n    }, [keyCode]);\n    useEffect(() => {\n        const doc = typeof document !== 'undefined' ? document : null;\n        const target = options?.target || doc;\n        if (keyCode !== null) {\n            const downHandler = (event) => {\n                modifierPressed.current = event.ctrlKey || event.metaKey || event.shiftKey;\n                const preventAction = (!modifierPressed.current || (modifierPressed.current && !options.actInsideInputWithModifier)) &&\n                    isInputDOMNode(event);\n                if (preventAction) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                pressedKeys.current.add(event[keyOrCode]);\n                if (isMatchingKey(keyCodes, pressedKeys.current, false)) {\n                    event.preventDefault();\n                    setKeyPressed(true);\n                }\n            };\n            const upHandler = (event) => {\n                const preventAction = (!modifierPressed.current || (modifierPressed.current && !options.actInsideInputWithModifier)) &&\n                    isInputDOMNode(event);\n                if (preventAction) {\n                    return false;\n                }\n                const keyOrCode = useKeyOrCode(event.code, keysToWatch);\n                if (isMatchingKey(keyCodes, pressedKeys.current, true)) {\n                    setKeyPressed(false);\n                    pressedKeys.current.clear();\n                }\n                else {\n                    pressedKeys.current.delete(event[keyOrCode]);\n                }\n                // fix for Mac: when cmd key is pressed, keyup is not triggered for any other key, see: https://stackoverflow.com/questions/27380018/when-cmd-key-is-kept-pressed-keyup-is-not-triggered-for-any-other-key\n                if (event.key === 'Meta') {\n                    pressedKeys.current.clear();\n                }\n                modifierPressed.current = false;\n            };\n            const resetHandler = () => {\n                pressedKeys.current.clear();\n                setKeyPressed(false);\n            };\n            target?.addEventListener('keydown', downHandler);\n            target?.addEventListener('keyup', upHandler);\n            window.addEventListener('blur', resetHandler);\n            return () => {\n                target?.removeEventListener('keydown', downHandler);\n                target?.removeEventListener('keyup', upHandler);\n                window.removeEventListener('blur', resetHandler);\n            };\n        }\n    }, [keyCode, setKeyPressed]);\n    return keyPressed;\n};\n// utils\nfunction isMatchingKey(keyCodes, pressedKeys, isUp) {\n    return (keyCodes\n        // we only want to compare same sizes of keyCode definitions\n        // and pressed keys. When the user specified 'Meta' as a key somewhere\n        // this would also be truthy without this filter when user presses 'Meta' + 'r'\n        .filter((keys) => isUp || keys.length === pressedKeys.size)\n        // since we want to support multiple possibilities only one of the\n        // combinations need to be part of the pressed keys\n        .some((keys) => keys.every((k) => pressedKeys.has(k))));\n}\nfunction useKeyOrCode(eventCode, keysToWatch) {\n    return keysToWatch.includes(eventCode) ? 'code' : 'key';\n}\n\nfunction calculateXYZPosition(node, nodeInternals, result, nodeOrigin) {\n    if (!node.parentNode) {\n        return result;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    const parentNodePosition = getNodePositionWithOrigin(parentNode, nodeOrigin);\n    return calculateXYZPosition(parentNode, nodeInternals, {\n        x: (result.x ?? 0) + parentNodePosition.x,\n        y: (result.y ?? 0) + parentNodePosition.y,\n        z: (parentNode[internalsSymbol]?.z ?? 0) > (result.z ?? 0) ? parentNode[internalsSymbol]?.z ?? 0 : result.z ?? 0,\n    }, nodeOrigin);\n}\nfunction updateAbsoluteNodePositions(nodeInternals, nodeOrigin, parentNodes) {\n    nodeInternals.forEach((node) => {\n        if (node.parentNode && !nodeInternals.has(node.parentNode)) {\n            throw new Error(`Parent node ${node.parentNode} not found`);\n        }\n        if (node.parentNode || parentNodes?.[node.id]) {\n            const { x, y, z } = calculateXYZPosition(node, nodeInternals, {\n                ...node.position,\n                z: node[internalsSymbol]?.z ?? 0,\n            }, nodeOrigin);\n            node.positionAbsolute = {\n                x,\n                y,\n            };\n            node[internalsSymbol].z = z;\n            if (parentNodes?.[node.id]) {\n                node[internalsSymbol].isParent = true;\n            }\n        }\n    });\n}\nfunction createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) {\n    const nextNodeInternals = new Map();\n    const parentNodes = {};\n    const selectedNodeZ = elevateNodesOnSelect ? 1000 : 0;\n    nodes.forEach((node) => {\n        const z = (isNumeric(node.zIndex) ? node.zIndex : 0) + (node.selected ? selectedNodeZ : 0);\n        const currInternals = nodeInternals.get(node.id);\n        const internals = {\n            width: currInternals?.width,\n            height: currInternals?.height,\n            ...node,\n            positionAbsolute: {\n                x: node.position.x,\n                y: node.position.y,\n            },\n        };\n        if (node.parentNode) {\n            internals.parentNode = node.parentNode;\n            parentNodes[node.parentNode] = true;\n        }\n        Object.defineProperty(internals, internalsSymbol, {\n            enumerable: false,\n            value: {\n                handleBounds: currInternals?.[internalsSymbol]?.handleBounds,\n                z,\n            },\n        });\n        nextNodeInternals.set(node.id, internals);\n    });\n    updateAbsoluteNodePositions(nextNodeInternals, nodeOrigin, parentNodes);\n    return nextNodeInternals;\n}\nfunction fitView(get, options = {}) {\n    const { getNodes, width, height, minZoom, maxZoom, d3Zoom, d3Selection, fitViewOnInitDone, fitViewOnInit, nodeOrigin, } = get();\n    const isInitialFitView = options.initial && !fitViewOnInitDone && fitViewOnInit;\n    const d3initialized = d3Zoom && d3Selection;\n    if (d3initialized && (isInitialFitView || !options.initial)) {\n        const nodes = getNodes().filter((n) => {\n            const isVisible = options.includeHiddenNodes ? n.width && n.height : !n.hidden;\n            if (options.nodes?.length) {\n                return isVisible && options.nodes.some((optionNode) => optionNode.id === n.id);\n            }\n            return isVisible;\n        });\n        const nodesInitialized = nodes.every((n) => n.width && n.height);\n        if (nodes.length > 0 && nodesInitialized) {\n            const bounds = getNodesBounds(nodes, nodeOrigin);\n            const { x, y, zoom } = getViewportForBounds(bounds, width, height, options.minZoom ?? minZoom, options.maxZoom ?? maxZoom, options.padding ?? 0.1);\n            const nextTransform = zoomIdentity.translate(x, y).scale(zoom);\n            if (typeof options.duration === 'number' && options.duration > 0) {\n                d3Zoom.transform(getD3Transition(d3Selection, options.duration), nextTransform);\n            }\n            else {\n                d3Zoom.transform(d3Selection, nextTransform);\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction handleControlledNodeSelectionChange(nodeChanges, nodeInternals) {\n    nodeChanges.forEach((change) => {\n        const node = nodeInternals.get(change.id);\n        if (node) {\n            nodeInternals.set(node.id, {\n                ...node,\n                [internalsSymbol]: node[internalsSymbol],\n                selected: change.selected,\n            });\n        }\n    });\n    return new Map(nodeInternals);\n}\nfunction handleControlledEdgeSelectionChange(edgeChanges, edges) {\n    return edges.map((e) => {\n        const change = edgeChanges.find((change) => change.id === e.id);\n        if (change) {\n            e.selected = change.selected;\n        }\n        return e;\n    });\n}\nfunction updateNodesAndEdgesSelections({ changedNodes, changedEdges, get, set }) {\n    const { nodeInternals, edges, onNodesChange, onEdgesChange, hasDefaultNodes, hasDefaultEdges } = get();\n    if (changedNodes?.length) {\n        if (hasDefaultNodes) {\n            set({ nodeInternals: handleControlledNodeSelectionChange(changedNodes, nodeInternals) });\n        }\n        onNodesChange?.(changedNodes);\n    }\n    if (changedEdges?.length) {\n        if (hasDefaultEdges) {\n            set({ edges: handleControlledEdgeSelectionChange(changedEdges, edges) });\n        }\n        onEdgesChange?.(changedEdges);\n    }\n}\n\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst noop = () => { };\nconst initialViewportHelper = {\n    zoomIn: noop,\n    zoomOut: noop,\n    zoomTo: noop,\n    getZoom: () => 1,\n    setViewport: noop,\n    getViewport: () => ({ x: 0, y: 0, zoom: 1 }),\n    fitView: () => false,\n    setCenter: noop,\n    fitBounds: noop,\n    project: (position) => position,\n    screenToFlowPosition: (position) => position,\n    flowToScreenPosition: (position) => position,\n    viewportInitialized: false,\n};\nconst selector$b = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n});\nconst useViewportHelper = () => {\n    const store = useStoreApi();\n    const { d3Zoom, d3Selection } = useStore(selector$b, shallow);\n    const viewportHelperFunctions = useMemo(() => {\n        if (d3Selection && d3Zoom) {\n            return {\n                zoomIn: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1.2),\n                zoomOut: (options) => d3Zoom.scaleBy(getD3Transition(d3Selection, options?.duration), 1 / 1.2),\n                zoomTo: (zoomLevel, options) => d3Zoom.scaleTo(getD3Transition(d3Selection, options?.duration), zoomLevel),\n                getZoom: () => store.getState().transform[2],\n                setViewport: (transform, options) => {\n                    const [x, y, zoom] = store.getState().transform;\n                    const nextTransform = zoomIdentity\n                        .translate(transform.x ?? x, transform.y ?? y)\n                        .scale(transform.zoom ?? zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), nextTransform);\n                },\n                getViewport: () => {\n                    const [x, y, zoom] = store.getState().transform;\n                    return { x, y, zoom };\n                },\n                fitView: (options) => fitView(store.getState, options),\n                setCenter: (x, y, options) => {\n                    const { width, height, maxZoom } = store.getState();\n                    const nextZoom = typeof options?.zoom !== 'undefined' ? options.zoom : maxZoom;\n                    const centerX = width / 2 - x * nextZoom;\n                    const centerY = height / 2 - y * nextZoom;\n                    const transform = zoomIdentity.translate(centerX, centerY).scale(nextZoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                fitBounds: (bounds, options) => {\n                    const { width, height, minZoom, maxZoom } = store.getState();\n                    const { x, y, zoom } = getViewportForBounds(bounds, width, height, minZoom, maxZoom, options?.padding ?? 0.1);\n                    const transform = zoomIdentity.translate(x, y).scale(zoom);\n                    d3Zoom.transform(getD3Transition(d3Selection, options?.duration), transform);\n                },\n                // @deprecated Use `screenToFlowPosition`.\n                project: (position) => {\n                    const { transform, snapToGrid, snapGrid } = store.getState();\n                    console.warn('[DEPRECATED] `project` is deprecated. Instead use `screenToFlowPosition`. There is no need to subtract the react flow bounds anymore! https://reactflow.dev/api-reference/types/react-flow-instance#screen-to-flow-position');\n                    return pointToRendererPoint(position, transform, snapToGrid, snapGrid);\n                },\n                screenToFlowPosition: (position) => {\n                    const { transform, snapToGrid, snapGrid, domNode } = store.getState();\n                    if (!domNode) {\n                        return position;\n                    }\n                    const { x: domX, y: domY } = domNode.getBoundingClientRect();\n                    const relativePosition = {\n                        x: position.x - domX,\n                        y: position.y - domY,\n                    };\n                    return pointToRendererPoint(relativePosition, transform, snapToGrid, snapGrid);\n                },\n                flowToScreenPosition: (position) => {\n                    const { transform, domNode } = store.getState();\n                    if (!domNode) {\n                        return position;\n                    }\n                    const { x: domX, y: domY } = domNode.getBoundingClientRect();\n                    const rendererPosition = rendererPointToPoint(position, transform);\n                    return {\n                        x: rendererPosition.x + domX,\n                        y: rendererPosition.y + domY,\n                    };\n                },\n                viewportInitialized: true,\n            };\n        }\n        return initialViewportHelper;\n    }, [d3Zoom, d3Selection]);\n    return viewportHelperFunctions;\n};\n\n/* eslint-disable-next-line @typescript-eslint/no-explicit-any */\nfunction useReactFlow() {\n    const viewportHelper = useViewportHelper();\n    const store = useStoreApi();\n    const getNodes = useCallback(() => {\n        return store\n            .getState()\n            .getNodes()\n            .map((n) => ({ ...n }));\n    }, []);\n    const getNode = useCallback((id) => {\n        return store.getState().nodeInternals.get(id);\n    }, []);\n    const getEdges = useCallback(() => {\n        const { edges = [] } = store.getState();\n        return edges.map((e) => ({ ...e }));\n    }, []);\n    const getEdge = useCallback((id) => {\n        const { edges = [] } = store.getState();\n        return edges.find((e) => e.id === id);\n    }, []);\n    const setNodes = useCallback((payload) => {\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        const nodes = getNodes();\n        const nextNodes = typeof payload === 'function' ? payload(nodes) : payload;\n        if (hasDefaultNodes) {\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nextNodes.length === 0\n                ? nodes.map((node) => ({ type: 'remove', id: node.id }))\n                : nextNodes.map((node) => ({ item: node, type: 'reset' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const setEdges = useCallback((payload) => {\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        const nextEdges = typeof payload === 'function' ? payload(edges) : payload;\n        if (hasDefaultEdges) {\n            setEdges(nextEdges);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.length === 0\n                ? edges.map((edge) => ({ type: 'remove', id: edge.id }))\n                : nextEdges.map((edge) => ({ item: edge, type: 'reset' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const addNodes = useCallback((payload) => {\n        const nodes = Array.isArray(payload) ? payload : [payload];\n        const { getNodes, setNodes, hasDefaultNodes, onNodesChange } = store.getState();\n        if (hasDefaultNodes) {\n            const currentNodes = getNodes();\n            const nextNodes = [...currentNodes, ...nodes];\n            setNodes(nextNodes);\n        }\n        else if (onNodesChange) {\n            const changes = nodes.map((node) => ({ item: node, type: 'add' }));\n            onNodesChange(changes);\n        }\n    }, []);\n    const addEdges = useCallback((payload) => {\n        const nextEdges = Array.isArray(payload) ? payload : [payload];\n        const { edges = [], setEdges, hasDefaultEdges, onEdgesChange } = store.getState();\n        if (hasDefaultEdges) {\n            setEdges([...edges, ...nextEdges]);\n        }\n        else if (onEdgesChange) {\n            const changes = nextEdges.map((edge) => ({ item: edge, type: 'add' }));\n            onEdgesChange(changes);\n        }\n    }, []);\n    const toObject = useCallback(() => {\n        const { getNodes, edges = [], transform } = store.getState();\n        const [x, y, zoom] = transform;\n        return {\n            nodes: getNodes().map((n) => ({ ...n })),\n            edges: edges.map((e) => ({ ...e })),\n            viewport: {\n                x,\n                y,\n                zoom,\n            },\n        };\n    }, []);\n    const deleteElements = useCallback(({ nodes: nodesDeleted, edges: edgesDeleted }) => {\n        const { nodeInternals, getNodes, edges, hasDefaultNodes, hasDefaultEdges, onNodesDelete, onEdgesDelete, onNodesChange, onEdgesChange, } = store.getState();\n        const nodeIds = (nodesDeleted || []).map((node) => node.id);\n        const edgeIds = (edgesDeleted || []).map((edge) => edge.id);\n        const nodesToRemove = getNodes().reduce((res, node) => {\n            const parentHit = !nodeIds.includes(node.id) && node.parentNode && res.find((n) => n.id === node.parentNode);\n            const deletable = typeof node.deletable === 'boolean' ? node.deletable : true;\n            if (deletable && (nodeIds.includes(node.id) || parentHit)) {\n                res.push(node);\n            }\n            return res;\n        }, []);\n        const deletableEdges = edges.filter((e) => (typeof e.deletable === 'boolean' ? e.deletable : true));\n        const initialHitEdges = deletableEdges.filter((e) => edgeIds.includes(e.id));\n        if (nodesToRemove || initialHitEdges) {\n            const connectedEdges = getConnectedEdges(nodesToRemove, deletableEdges);\n            const edgesToRemove = [...initialHitEdges, ...connectedEdges];\n            const edgeIdsToRemove = edgesToRemove.reduce((res, edge) => {\n                if (!res.includes(edge.id)) {\n                    res.push(edge.id);\n                }\n                return res;\n            }, []);\n            if (hasDefaultEdges || hasDefaultNodes) {\n                if (hasDefaultEdges) {\n                    store.setState({\n                        edges: edges.filter((e) => !edgeIdsToRemove.includes(e.id)),\n                    });\n                }\n                if (hasDefaultNodes) {\n                    nodesToRemove.forEach((node) => {\n                        nodeInternals.delete(node.id);\n                    });\n                    store.setState({\n                        nodeInternals: new Map(nodeInternals),\n                    });\n                }\n            }\n            if (edgeIdsToRemove.length > 0) {\n                onEdgesDelete?.(edgesToRemove);\n                if (onEdgesChange) {\n                    onEdgesChange(edgeIdsToRemove.map((id) => ({\n                        id,\n                        type: 'remove',\n                    })));\n                }\n            }\n            if (nodesToRemove.length > 0) {\n                onNodesDelete?.(nodesToRemove);\n                if (onNodesChange) {\n                    const nodeChanges = nodesToRemove.map((n) => ({ id: n.id, type: 'remove' }));\n                    onNodesChange(nodeChanges);\n                }\n            }\n        }\n    }, []);\n    const getNodeRect = useCallback((nodeOrRect) => {\n        const isRect = isRectObject(nodeOrRect);\n        const node = isRect ? null : store.getState().nodeInternals.get(nodeOrRect.id);\n        const nodeRect = isRect ? nodeOrRect : nodeToRect(node);\n        return [nodeRect, node, isRect];\n    }, []);\n    const getIntersectingNodes = useCallback((nodeOrRect, partially = true, nodes) => {\n        const [nodeRect, node, isRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return [];\n        }\n        return (nodes || store.getState().getNodes()).filter((n) => {\n            if (!isRect && (n.id === node.id || !n.positionAbsolute)) {\n                return false;\n            }\n            const currNodeRect = nodeToRect(n);\n            const overlappingArea = getOverlappingArea(currNodeRect, nodeRect);\n            const partiallyVisible = partially && overlappingArea > 0;\n            return partiallyVisible || overlappingArea >= nodeRect.width * nodeRect.height;\n        });\n    }, []);\n    const isNodeIntersecting = useCallback((nodeOrRect, area, partially = true) => {\n        const [nodeRect] = getNodeRect(nodeOrRect);\n        if (!nodeRect) {\n            return false;\n        }\n        const overlappingArea = getOverlappingArea(nodeRect, area);\n        const partiallyVisible = partially && overlappingArea > 0;\n        return partiallyVisible || overlappingArea >= nodeRect.width * nodeRect.height;\n    }, []);\n    return useMemo(() => {\n        return {\n            ...viewportHelper,\n            getNodes,\n            getNode,\n            getEdges,\n            getEdge,\n            setNodes,\n            setEdges,\n            addNodes,\n            addEdges,\n            toObject,\n            deleteElements,\n            getIntersectingNodes,\n            isNodeIntersecting,\n        };\n    }, [\n        viewportHelper,\n        getNodes,\n        getNode,\n        getEdges,\n        getEdge,\n        setNodes,\n        setEdges,\n        addNodes,\n        addEdges,\n        toObject,\n        deleteElements,\n        getIntersectingNodes,\n        isNodeIntersecting,\n    ]);\n}\n\nconst deleteKeyOptions = { actInsideInputWithModifier: false };\nvar useGlobalKeyHandler = ({ deleteKeyCode, multiSelectionKeyCode }) => {\n    const store = useStoreApi();\n    const { deleteElements } = useReactFlow();\n    const deleteKeyPressed = useKeyPress(deleteKeyCode, deleteKeyOptions);\n    const multiSelectionKeyPressed = useKeyPress(multiSelectionKeyCode);\n    useEffect(() => {\n        if (deleteKeyPressed) {\n            const { edges, getNodes } = store.getState();\n            const selectedNodes = getNodes().filter((node) => node.selected);\n            const selectedEdges = edges.filter((edge) => edge.selected);\n            deleteElements({ nodes: selectedNodes, edges: selectedEdges });\n            store.setState({ nodesSelectionActive: false });\n        }\n    }, [deleteKeyPressed]);\n    useEffect(() => {\n        store.setState({ multiSelectionActive: multiSelectionKeyPressed });\n    }, [multiSelectionKeyPressed]);\n};\n\nfunction useResizeHandler(rendererNode) {\n    const store = useStoreApi();\n    useEffect(() => {\n        let resizeObserver;\n        const updateDimensions = () => {\n            if (!rendererNode.current) {\n                return;\n            }\n            const size = getDimensions(rendererNode.current);\n            if (size.height === 0 || size.width === 0) {\n                store.getState().onError?.('004', errorMessages['error004']());\n            }\n            store.setState({ width: size.width || 500, height: size.height || 500 });\n        };\n        updateDimensions();\n        window.addEventListener('resize', updateDimensions);\n        if (rendererNode.current) {\n            resizeObserver = new ResizeObserver(() => updateDimensions());\n            resizeObserver.observe(rendererNode.current);\n        }\n        return () => {\n            window.removeEventListener('resize', updateDimensions);\n            if (resizeObserver && rendererNode.current) {\n                resizeObserver.unobserve(rendererNode.current);\n            }\n        };\n    }, []);\n}\n\nconst containerStyle = {\n    position: 'absolute',\n    width: '100%',\n    height: '100%',\n    top: 0,\n    left: 0,\n};\n\n/* eslint-disable @typescript-eslint/ban-ts-comment */\nconst viewChanged = (prevViewport, eventTransform) => prevViewport.x !== eventTransform.x || prevViewport.y !== eventTransform.y || prevViewport.zoom !== eventTransform.k;\nconst eventToFlowTransform = (eventTransform) => ({\n    x: eventTransform.x,\n    y: eventTransform.y,\n    zoom: eventTransform.k,\n});\nconst isWrappedWithClass = (event, className) => event.target.closest(`.${className}`);\nconst isRightClickPan = (panOnDrag, usedButton) => usedButton === 2 && Array.isArray(panOnDrag) && panOnDrag.includes(2);\nconst wheelDelta = (event) => {\n    const factor = event.ctrlKey && isMacOs() ? 10 : 1;\n    return -event.deltaY * (event.deltaMode === 1 ? 0.05 : event.deltaMode ? 1 : 0.002) * factor;\n};\nconst selector$a = (s) => ({\n    d3Zoom: s.d3Zoom,\n    d3Selection: s.d3Selection,\n    d3ZoomHandler: s.d3ZoomHandler,\n    userSelectionActive: s.userSelectionActive,\n});\nconst ZoomPane = ({ onMove, onMoveStart, onMoveEnd, onPaneContextMenu, zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, elementsSelectable, panOnDrag = true, defaultViewport, translateExtent, minZoom, maxZoom, zoomActivationKeyCode, preventScrolling = true, children, noWheelClassName, noPanClassName, }) => {\n    const timerId = useRef();\n    const store = useStoreApi();\n    const isZoomingOrPanning = useRef(false);\n    const zoomedWithRightMouseButton = useRef(false);\n    const zoomPane = useRef(null);\n    const prevTransform = useRef({ x: 0, y: 0, zoom: 0 });\n    const { d3Zoom, d3Selection, d3ZoomHandler, userSelectionActive } = useStore(selector$a, shallow);\n    const zoomActivationKeyPressed = useKeyPress(zoomActivationKeyCode);\n    const mouseButton = useRef(0);\n    const isPanScrolling = useRef(false);\n    const panScrollTimeout = useRef();\n    useResizeHandler(zoomPane);\n    useEffect(() => {\n        if (zoomPane.current) {\n            const bbox = zoomPane.current.getBoundingClientRect();\n            const d3ZoomInstance = zoom().scaleExtent([minZoom, maxZoom]).translateExtent(translateExtent);\n            const selection = select(zoomPane.current).call(d3ZoomInstance);\n            const updatedTransform = zoomIdentity\n                .translate(defaultViewport.x, defaultViewport.y)\n                .scale(clamp(defaultViewport.zoom, minZoom, maxZoom));\n            const extent = [\n                [0, 0],\n                [bbox.width, bbox.height],\n            ];\n            const constrainedTransform = d3ZoomInstance.constrain()(updatedTransform, extent, translateExtent);\n            d3ZoomInstance.transform(selection, constrainedTransform);\n            d3ZoomInstance.wheelDelta(wheelDelta);\n            store.setState({\n                d3Zoom: d3ZoomInstance,\n                d3Selection: selection,\n                d3ZoomHandler: selection.on('wheel.zoom'),\n                // we need to pass transform because zoom handler is not registered when we set the initial transform\n                transform: [constrainedTransform.x, constrainedTransform.y, constrainedTransform.k],\n                domNode: zoomPane.current.closest('.react-flow'),\n            });\n        }\n    }, []);\n    useEffect(() => {\n        if (d3Selection && d3Zoom) {\n            if (panOnScroll && !zoomActivationKeyPressed && !userSelectionActive) {\n                d3Selection.on('wheel.zoom', (event) => {\n                    if (isWrappedWithClass(event, noWheelClassName)) {\n                        return false;\n                    }\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    const currentZoom = d3Selection.property('__zoom').k || 1;\n                    const _isMacOs = isMacOs();\n                    // macos sets ctrlKey=true for pinch gesture on a trackpad\n                    if (event.ctrlKey && zoomOnPinch && _isMacOs) {\n                        const point = pointer(event);\n                        const pinchDelta = wheelDelta(event);\n                        const zoom = currentZoom * Math.pow(2, pinchDelta);\n                        // @ts-ignore\n                        d3Zoom.scaleTo(d3Selection, zoom, point, event);\n                        return;\n                    }\n                    // increase scroll speed in firefox\n                    // firefox: deltaMode === 1; chrome: deltaMode === 0\n                    const deltaNormalize = event.deltaMode === 1 ? 20 : 1;\n                    let deltaX = panOnScrollMode === PanOnScrollMode.Vertical ? 0 : event.deltaX * deltaNormalize;\n                    let deltaY = panOnScrollMode === PanOnScrollMode.Horizontal ? 0 : event.deltaY * deltaNormalize;\n                    // this enables vertical scrolling with shift + scroll on windows\n                    if (!_isMacOs && event.shiftKey && panOnScrollMode !== PanOnScrollMode.Vertical) {\n                        deltaX = event.deltaY * deltaNormalize;\n                        deltaY = 0;\n                    }\n                    d3Zoom.translateBy(d3Selection, -(deltaX / currentZoom) * panOnScrollSpeed, -(deltaY / currentZoom) * panOnScrollSpeed, \n                    // @ts-ignore\n                    { internal: true });\n                    const nextViewport = eventToFlowTransform(d3Selection.property('__zoom'));\n                    const { onViewportChangeStart, onViewportChange, onViewportChangeEnd } = store.getState();\n                    clearTimeout(panScrollTimeout.current);\n                    // for pan on scroll we need to handle the event calls on our own\n                    // we can't use the start, zoom and end events from d3-zoom\n                    // because start and move gets called on every scroll event and not once at the beginning\n                    if (!isPanScrolling.current) {\n                        isPanScrolling.current = true;\n                        onMoveStart?.(event, nextViewport);\n                        onViewportChangeStart?.(nextViewport);\n                    }\n                    if (isPanScrolling.current) {\n                        onMove?.(event, nextViewport);\n                        onViewportChange?.(nextViewport);\n                        panScrollTimeout.current = setTimeout(() => {\n                            onMoveEnd?.(event, nextViewport);\n                            onViewportChangeEnd?.(nextViewport);\n                            isPanScrolling.current = false;\n                        }, 150);\n                    }\n                }, { passive: false });\n            }\n            else if (typeof d3ZoomHandler !== 'undefined') {\n                d3Selection.on('wheel.zoom', function (event, d) {\n                    if (!preventScrolling || isWrappedWithClass(event, noWheelClassName)) {\n                        return null;\n                    }\n                    event.preventDefault();\n                    d3ZoomHandler.call(this, event, d);\n                }, { passive: false });\n            }\n        }\n    }, [\n        userSelectionActive,\n        panOnScroll,\n        panOnScrollMode,\n        d3Selection,\n        d3Zoom,\n        d3ZoomHandler,\n        zoomActivationKeyPressed,\n        zoomOnPinch,\n        preventScrolling,\n        noWheelClassName,\n        onMoveStart,\n        onMove,\n        onMoveEnd,\n    ]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('start', (event) => {\n                if (!event.sourceEvent || event.sourceEvent.internal) {\n                    return null;\n                }\n                // we need to remember it here, because it's always 0 in the \"zoom\" event\n                mouseButton.current = event.sourceEvent?.button;\n                const { onViewportChangeStart } = store.getState();\n                const flowTransform = eventToFlowTransform(event.transform);\n                isZoomingOrPanning.current = true;\n                prevTransform.current = flowTransform;\n                if (event.sourceEvent?.type === 'mousedown') {\n                    store.setState({ paneDragging: true });\n                }\n                onViewportChangeStart?.(flowTransform);\n                onMoveStart?.(event.sourceEvent, flowTransform);\n            });\n        }\n    }, [d3Zoom, onMoveStart]);\n    useEffect(() => {\n        if (d3Zoom) {\n            if (userSelectionActive && !isZoomingOrPanning.current) {\n                d3Zoom.on('zoom', null);\n            }\n            else if (!userSelectionActive) {\n                d3Zoom.on('zoom', (event) => {\n                    const { onViewportChange } = store.getState();\n                    store.setState({ transform: [event.transform.x, event.transform.y, event.transform.k] });\n                    zoomedWithRightMouseButton.current = !!(onPaneContextMenu && isRightClickPan(panOnDrag, mouseButton.current ?? 0));\n                    if ((onMove || onViewportChange) && !event.sourceEvent?.internal) {\n                        const flowTransform = eventToFlowTransform(event.transform);\n                        onViewportChange?.(flowTransform);\n                        onMove?.(event.sourceEvent, flowTransform);\n                    }\n                });\n            }\n        }\n    }, [userSelectionActive, d3Zoom, onMove, panOnDrag, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.on('end', (event) => {\n                if (!event.sourceEvent || event.sourceEvent.internal) {\n                    return null;\n                }\n                const { onViewportChangeEnd } = store.getState();\n                isZoomingOrPanning.current = false;\n                store.setState({ paneDragging: false });\n                if (onPaneContextMenu &&\n                    isRightClickPan(panOnDrag, mouseButton.current ?? 0) &&\n                    !zoomedWithRightMouseButton.current) {\n                    onPaneContextMenu(event.sourceEvent);\n                }\n                zoomedWithRightMouseButton.current = false;\n                if ((onMoveEnd || onViewportChangeEnd) && viewChanged(prevTransform.current, event.transform)) {\n                    const flowTransform = eventToFlowTransform(event.transform);\n                    prevTransform.current = flowTransform;\n                    clearTimeout(timerId.current);\n                    timerId.current = setTimeout(() => {\n                        onViewportChangeEnd?.(flowTransform);\n                        onMoveEnd?.(event.sourceEvent, flowTransform);\n                    }, panOnScroll ? 150 : 0);\n                }\n            });\n        }\n    }, [d3Zoom, panOnScroll, panOnDrag, onMoveEnd, onPaneContextMenu]);\n    useEffect(() => {\n        if (d3Zoom) {\n            d3Zoom.filter((event) => {\n                const zoomScroll = zoomActivationKeyPressed || zoomOnScroll;\n                const pinchZoom = zoomOnPinch && event.ctrlKey;\n                if ((panOnDrag === true || (Array.isArray(panOnDrag) && panOnDrag.includes(1))) &&\n                    event.button === 1 &&\n                    event.type === 'mousedown' &&\n                    (isWrappedWithClass(event, 'react-flow__node') || isWrappedWithClass(event, 'react-flow__edge'))) {\n                    return true;\n                }\n                // if all interactions are disabled, we prevent all zoom events\n                if (!panOnDrag && !zoomScroll && !panOnScroll && !zoomOnDoubleClick && !zoomOnPinch) {\n                    return false;\n                }\n                // during a selection we prevent all other interactions\n                if (userSelectionActive) {\n                    return false;\n                }\n                // if zoom on double click is disabled, we prevent the double click event\n                if (!zoomOnDoubleClick && event.type === 'dblclick') {\n                    return false;\n                }\n                // if the target element is inside an element with the nowheel class, we prevent zooming\n                if (isWrappedWithClass(event, noWheelClassName) && event.type === 'wheel') {\n                    return false;\n                }\n                // if the target element is inside an element with the nopan class, we prevent panning\n                if (isWrappedWithClass(event, noPanClassName) &&\n                    (event.type !== 'wheel' || (panOnScroll && event.type === 'wheel' && !zoomActivationKeyPressed))) {\n                    return false;\n                }\n                if (!zoomOnPinch && event.ctrlKey && event.type === 'wheel') {\n                    return false;\n                }\n                // when there is no scroll handling enabled, we prevent all wheel events\n                if (!zoomScroll && !panOnScroll && !pinchZoom && event.type === 'wheel') {\n                    return false;\n                }\n                // if the pane is not movable, we prevent dragging it with mousestart or touchstart\n                if (!panOnDrag && (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // if the pane is only movable using allowed clicks\n                if (Array.isArray(panOnDrag) &&\n                    !panOnDrag.includes(event.button) &&\n                    (event.type === 'mousedown' || event.type === 'touchstart')) {\n                    return false;\n                }\n                // We only allow right clicks if pan on drag is set to right click\n                const buttonAllowed = (Array.isArray(panOnDrag) && panOnDrag.includes(event.button)) || !event.button || event.button <= 1;\n                // default filter for d3-zoom\n                return (!event.ctrlKey || event.type === 'wheel') && buttonAllowed;\n            });\n        }\n    }, [\n        userSelectionActive,\n        d3Zoom,\n        zoomOnScroll,\n        zoomOnPinch,\n        panOnScroll,\n        zoomOnDoubleClick,\n        panOnDrag,\n        elementsSelectable,\n        zoomActivationKeyPressed,\n    ]);\n    return (React.createElement(\"div\", { className: \"react-flow__renderer\", ref: zoomPane, style: containerStyle }, children));\n};\n\nconst selector$9 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    userSelectionRect: s.userSelectionRect,\n});\nfunction UserSelection() {\n    const { userSelectionActive, userSelectionRect } = useStore(selector$9, shallow);\n    const isActive = userSelectionActive && userSelectionRect;\n    if (!isActive) {\n        return null;\n    }\n    return (React.createElement(\"div\", { className: \"react-flow__selection react-flow__container\", style: {\n            width: userSelectionRect.width,\n            height: userSelectionRect.height,\n            transform: `translate(${userSelectionRect.x}px, ${userSelectionRect.y}px)`,\n        } }));\n}\n\nfunction handleParentExpand(res, updateItem) {\n    const parent = res.find((e) => e.id === updateItem.parentNode);\n    if (parent) {\n        const extendWidth = updateItem.position.x + updateItem.width - parent.width;\n        const extendHeight = updateItem.position.y + updateItem.height - parent.height;\n        if (extendWidth > 0 || extendHeight > 0 || updateItem.position.x < 0 || updateItem.position.y < 0) {\n            parent.style = { ...parent.style } || {};\n            parent.style.width = parent.style.width ?? parent.width;\n            parent.style.height = parent.style.height ?? parent.height;\n            if (extendWidth > 0) {\n                parent.style.width += extendWidth;\n            }\n            if (extendHeight > 0) {\n                parent.style.height += extendHeight;\n            }\n            if (updateItem.position.x < 0) {\n                const xDiff = Math.abs(updateItem.position.x);\n                parent.position.x = parent.position.x - xDiff;\n                parent.style.width += xDiff;\n                updateItem.position.x = 0;\n            }\n            if (updateItem.position.y < 0) {\n                const yDiff = Math.abs(updateItem.position.y);\n                parent.position.y = parent.position.y - yDiff;\n                parent.style.height += yDiff;\n                updateItem.position.y = 0;\n            }\n            parent.width = parent.style.width;\n            parent.height = parent.style.height;\n        }\n    }\n}\nfunction applyChanges(changes, elements) {\n    // we need this hack to handle the setNodes and setEdges function of the useReactFlow hook for controlled flows\n    if (changes.some((c) => c.type === 'reset')) {\n        return changes.filter((c) => c.type === 'reset').map((c) => c.item);\n    }\n    const initElements = changes.filter((c) => c.type === 'add').map((c) => c.item);\n    return elements.reduce((res, item) => {\n        const currentChanges = changes.filter((c) => c.id === item.id);\n        if (currentChanges.length === 0) {\n            res.push(item);\n            return res;\n        }\n        const updateItem = { ...item };\n        for (const currentChange of currentChanges) {\n            if (currentChange) {\n                switch (currentChange.type) {\n                    case 'select': {\n                        updateItem.selected = currentChange.selected;\n                        break;\n                    }\n                    case 'position': {\n                        if (typeof currentChange.position !== 'undefined') {\n                            updateItem.position = currentChange.position;\n                        }\n                        if (typeof currentChange.positionAbsolute !== 'undefined') {\n                            updateItem.positionAbsolute = currentChange.positionAbsolute;\n                        }\n                        if (typeof currentChange.dragging !== 'undefined') {\n                            updateItem.dragging = currentChange.dragging;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'dimensions': {\n                        if (typeof currentChange.dimensions !== 'undefined') {\n                            updateItem.width = currentChange.dimensions.width;\n                            updateItem.height = currentChange.dimensions.height;\n                        }\n                        if (typeof currentChange.updateStyle !== 'undefined') {\n                            updateItem.style = { ...(updateItem.style || {}), ...currentChange.dimensions };\n                        }\n                        if (typeof currentChange.resizing === 'boolean') {\n                            updateItem.resizing = currentChange.resizing;\n                        }\n                        if (updateItem.expandParent) {\n                            handleParentExpand(res, updateItem);\n                        }\n                        break;\n                    }\n                    case 'remove': {\n                        return res;\n                    }\n                }\n            }\n        }\n        res.push(updateItem);\n        return res;\n    }, initElements);\n}\nfunction applyNodeChanges(changes, nodes) {\n    return applyChanges(changes, nodes);\n}\nfunction applyEdgeChanges(changes, edges) {\n    return applyChanges(changes, edges);\n}\nconst createSelectionChange = (id, selected) => ({\n    id,\n    type: 'select',\n    selected,\n});\nfunction getSelectionChanges(items, selectedIds) {\n    return items.reduce((res, item) => {\n        const willBeSelected = selectedIds.includes(item.id);\n        if (!item.selected && willBeSelected) {\n            item.selected = true;\n            res.push(createSelectionChange(item.id, true));\n        }\n        else if (item.selected && !willBeSelected) {\n            item.selected = false;\n            res.push(createSelectionChange(item.id, false));\n        }\n        return res;\n    }, []);\n}\n\n/**\n * The user selection rectangle gets displayed when a user drags the mouse while pressing shift\n */\nconst wrapHandler = (handler, containerRef) => {\n    return (event) => {\n        if (event.target !== containerRef.current) {\n            return;\n        }\n        handler?.(event);\n    };\n};\nconst selector$8 = (s) => ({\n    userSelectionActive: s.userSelectionActive,\n    elementsSelectable: s.elementsSelectable,\n    dragging: s.paneDragging,\n});\nconst Pane = memo(({ isSelecting, selectionMode = SelectionMode.Full, panOnDrag, onSelectionStart, onSelectionEnd, onPaneClick, onPaneContextMenu, onPaneScroll, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, children, }) => {\n    const container = useRef(null);\n    const store = useStoreApi();\n    const prevSelectedNodesCount = useRef(0);\n    const prevSelectedEdgesCount = useRef(0);\n    const containerBounds = useRef();\n    const { userSelectionActive, elementsSelectable, dragging } = useStore(selector$8, shallow);\n    const resetUserSelection = () => {\n        store.setState({ userSelectionActive: false, userSelectionRect: null });\n        prevSelectedNodesCount.current = 0;\n        prevSelectedEdgesCount.current = 0;\n    };\n    const onClick = (event) => {\n        onPaneClick?.(event);\n        store.getState().resetSelectedElements();\n        store.setState({ nodesSelectionActive: false });\n    };\n    const onContextMenu = (event) => {\n        if (Array.isArray(panOnDrag) && panOnDrag?.includes(2)) {\n            event.preventDefault();\n            return;\n        }\n        onPaneContextMenu?.(event);\n    };\n    const onWheel = onPaneScroll ? (event) => onPaneScroll(event) : undefined;\n    const onMouseDown = (event) => {\n        const { resetSelectedElements, domNode } = store.getState();\n        containerBounds.current = domNode?.getBoundingClientRect();\n        if (!elementsSelectable ||\n            !isSelecting ||\n            event.button !== 0 ||\n            event.target !== container.current ||\n            !containerBounds.current) {\n            return;\n        }\n        const { x, y } = getEventPosition(event, containerBounds.current);\n        resetSelectedElements();\n        store.setState({\n            userSelectionRect: {\n                width: 0,\n                height: 0,\n                startX: x,\n                startY: y,\n                x,\n                y,\n            },\n        });\n        onSelectionStart?.(event);\n    };\n    const onMouseMove = (event) => {\n        const { userSelectionRect, nodeInternals, edges, transform, onNodesChange, onEdgesChange, nodeOrigin, getNodes } = store.getState();\n        if (!isSelecting || !containerBounds.current || !userSelectionRect) {\n            return;\n        }\n        store.setState({ userSelectionActive: true, nodesSelectionActive: false });\n        const mousePos = getEventPosition(event, containerBounds.current);\n        const startX = userSelectionRect.startX ?? 0;\n        const startY = userSelectionRect.startY ?? 0;\n        const nextUserSelectRect = {\n            ...userSelectionRect,\n            x: mousePos.x < startX ? mousePos.x : startX,\n            y: mousePos.y < startY ? mousePos.y : startY,\n            width: Math.abs(mousePos.x - startX),\n            height: Math.abs(mousePos.y - startY),\n        };\n        const nodes = getNodes();\n        const selectedNodes = getNodesInside(nodeInternals, nextUserSelectRect, transform, selectionMode === SelectionMode.Partial, true, nodeOrigin);\n        const selectedEdgeIds = getConnectedEdges(selectedNodes, edges).map((e) => e.id);\n        const selectedNodeIds = selectedNodes.map((n) => n.id);\n        if (prevSelectedNodesCount.current !== selectedNodeIds.length) {\n            prevSelectedNodesCount.current = selectedNodeIds.length;\n            const changes = getSelectionChanges(nodes, selectedNodeIds);\n            if (changes.length) {\n                onNodesChange?.(changes);\n            }\n        }\n        if (prevSelectedEdgesCount.current !== selectedEdgeIds.length) {\n            prevSelectedEdgesCount.current = selectedEdgeIds.length;\n            const changes = getSelectionChanges(edges, selectedEdgeIds);\n            if (changes.length) {\n                onEdgesChange?.(changes);\n            }\n        }\n        store.setState({\n            userSelectionRect: nextUserSelectRect,\n        });\n    };\n    const onMouseUp = (event) => {\n        if (event.button !== 0) {\n            return;\n        }\n        const { userSelectionRect } = store.getState();\n        // We only want to trigger click functions when in selection mode if\n        // the user did not move the mouse.\n        if (!userSelectionActive && userSelectionRect && event.target === container.current) {\n            onClick?.(event);\n        }\n        store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n        resetUserSelection();\n        onSelectionEnd?.(event);\n    };\n    const onMouseLeave = (event) => {\n        if (userSelectionActive) {\n            store.setState({ nodesSelectionActive: prevSelectedNodesCount.current > 0 });\n            onSelectionEnd?.(event);\n        }\n        resetUserSelection();\n    };\n    const hasActiveSelection = elementsSelectable && (isSelecting || userSelectionActive);\n    return (React.createElement(\"div\", { className: cc(['react-flow__pane', { dragging, selection: isSelecting }]), onClick: hasActiveSelection ? undefined : wrapHandler(onClick, container), onContextMenu: wrapHandler(onContextMenu, container), onWheel: wrapHandler(onWheel, container), onMouseEnter: hasActiveSelection ? undefined : onPaneMouseEnter, onMouseDown: hasActiveSelection ? onMouseDown : undefined, onMouseMove: hasActiveSelection ? onMouseMove : onPaneMouseMove, onMouseUp: hasActiveSelection ? onMouseUp : undefined, onMouseLeave: hasActiveSelection ? onMouseLeave : onPaneMouseLeave, ref: container, style: containerStyle },\n        children,\n        React.createElement(UserSelection, null)));\n});\nPane.displayName = 'Pane';\n\nfunction isParentSelected(node, nodeInternals) {\n    if (!node.parentNode) {\n        return false;\n    }\n    const parentNode = nodeInternals.get(node.parentNode);\n    if (!parentNode) {\n        return false;\n    }\n    if (parentNode.selected) {\n        return true;\n    }\n    return isParentSelected(parentNode, nodeInternals);\n}\nfunction hasSelector(target, selector, nodeRef) {\n    let current = target;\n    do {\n        if (current?.matches(selector))\n            return true;\n        if (current === nodeRef.current)\n            return false;\n        current = current.parentElement;\n    } while (current);\n    return false;\n}\n// looks for all selected nodes and created a NodeDragItem for each of them\nfunction getDragItems(nodeInternals, nodesDraggable, mousePos, nodeId) {\n    return Array.from(nodeInternals.values())\n        .filter((n) => (n.selected || n.id === nodeId) &&\n        (!n.parentNode || !isParentSelected(n, nodeInternals)) &&\n        (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')))\n        .map((n) => ({\n        id: n.id,\n        position: n.position || { x: 0, y: 0 },\n        positionAbsolute: n.positionAbsolute || { x: 0, y: 0 },\n        distance: {\n            x: mousePos.x - (n.positionAbsolute?.x ?? 0),\n            y: mousePos.y - (n.positionAbsolute?.y ?? 0),\n        },\n        delta: {\n            x: 0,\n            y: 0,\n        },\n        extent: n.extent,\n        parentNode: n.parentNode,\n        width: n.width,\n        height: n.height,\n        expandParent: n.expandParent,\n    }));\n}\nfunction clampNodeExtent(node, extent) {\n    if (!extent || extent === 'parent') {\n        return extent;\n    }\n    return [extent[0], [extent[1][0] - (node.width || 0), extent[1][1] - (node.height || 0)]];\n}\nfunction calcNextPosition(node, nextPosition, nodeInternals, nodeExtent, nodeOrigin = [0, 0], onError) {\n    const clampedNodeExtent = clampNodeExtent(node, node.extent || nodeExtent);\n    let currentExtent = clampedNodeExtent;\n    if (node.extent === 'parent' && !node.expandParent) {\n        if (node.parentNode && node.width && node.height) {\n            const parent = nodeInternals.get(node.parentNode);\n            const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n            currentExtent =\n                parent && isNumeric(parentX) && isNumeric(parentY) && isNumeric(parent.width) && isNumeric(parent.height)\n                    ? [\n                        [parentX + node.width * nodeOrigin[0], parentY + node.height * nodeOrigin[1]],\n                        [\n                            parentX + parent.width - node.width + node.width * nodeOrigin[0],\n                            parentY + parent.height - node.height + node.height * nodeOrigin[1],\n                        ],\n                    ]\n                    : currentExtent;\n        }\n        else {\n            onError?.('005', errorMessages['error005']());\n            currentExtent = clampedNodeExtent;\n        }\n    }\n    else if (node.extent && node.parentNode && node.extent !== 'parent') {\n        const parent = nodeInternals.get(node.parentNode);\n        const { x: parentX, y: parentY } = getNodePositionWithOrigin(parent, nodeOrigin).positionAbsolute;\n        currentExtent = [\n            [node.extent[0][0] + parentX, node.extent[0][1] + parentY],\n            [node.extent[1][0] + parentX, node.extent[1][1] + parentY],\n        ];\n    }\n    let parentPosition = { x: 0, y: 0 };\n    if (node.parentNode) {\n        const parentNode = nodeInternals.get(node.parentNode);\n        parentPosition = getNodePositionWithOrigin(parentNode, nodeOrigin).positionAbsolute;\n    }\n    const positionAbsolute = currentExtent && currentExtent !== 'parent'\n        ? clampPosition(nextPosition, currentExtent)\n        : nextPosition;\n    return {\n        position: {\n            x: positionAbsolute.x - parentPosition.x,\n            y: positionAbsolute.y - parentPosition.y,\n        },\n        positionAbsolute,\n    };\n}\n// returns two params:\n// 1. the dragged node (or the first of the list, if we are dragging a node selection)\n// 2. array of selected nodes (for multi selections)\nfunction getEventHandlerParams({ nodeId, dragItems, nodeInternals, }) {\n    const extentedDragItems = dragItems.map((n) => {\n        const node = nodeInternals.get(n.id);\n        return {\n            ...node,\n            position: n.position,\n            positionAbsolute: n.positionAbsolute,\n        };\n    });\n    return [nodeId ? extentedDragItems.find((n) => n.id === nodeId) : extentedDragItems[0], extentedDragItems];\n}\n\nconst getHandleBounds = (selector, nodeElement, zoom, nodeOrigin) => {\n    const handles = nodeElement.querySelectorAll(selector);\n    if (!handles || !handles.length) {\n        return null;\n    }\n    const handlesArray = Array.from(handles);\n    const nodeBounds = nodeElement.getBoundingClientRect();\n    const nodeOffset = {\n        x: nodeBounds.width * nodeOrigin[0],\n        y: nodeBounds.height * nodeOrigin[1],\n    };\n    return handlesArray.map((handle) => {\n        const handleBounds = handle.getBoundingClientRect();\n        return {\n            id: handle.getAttribute('data-handleid'),\n            position: handle.getAttribute('data-handlepos'),\n            x: (handleBounds.left - nodeBounds.left - nodeOffset.x) / zoom,\n            y: (handleBounds.top - nodeBounds.top - nodeOffset.y) / zoom,\n            ...getDimensions(handle),\n        };\n    });\n};\nfunction getMouseHandler(id, getState, handler) {\n    return handler === undefined\n        ? handler\n        : (event) => {\n            const node = getState().nodeInternals.get(id);\n            if (node) {\n                handler(event, { ...node });\n            }\n        };\n}\n// this handler is called by\n// 1. the click handler when node is not draggable or selectNodesOnDrag = false\n// or\n// 2. the on drag start handler when node is draggable and selectNodesOnDrag = true\nfunction handleNodeClick({ id, store, unselect = false, nodeRef, }) {\n    const { addSelectedNodes, unselectNodesAndEdges, multiSelectionActive, nodeInternals, onError } = store.getState();\n    const node = nodeInternals.get(id);\n    if (!node) {\n        onError?.('012', errorMessages['error012'](id));\n        return;\n    }\n    store.setState({ nodesSelectionActive: false });\n    if (!node.selected) {\n        addSelectedNodes([id]);\n    }\n    else if (unselect || (node.selected && multiSelectionActive)) {\n        unselectNodesAndEdges({ nodes: [node], edges: [] });\n        requestAnimationFrame(() => nodeRef?.current?.blur());\n    }\n}\n\nfunction useGetPointerPosition() {\n    const store = useStoreApi();\n    // returns the pointer position projected to the RF coordinate system\n    const getPointerPosition = useCallback(({ sourceEvent }) => {\n        const { transform, snapGrid, snapToGrid } = store.getState();\n        const x = sourceEvent.touches ? sourceEvent.touches[0].clientX : sourceEvent.clientX;\n        const y = sourceEvent.touches ? sourceEvent.touches[0].clientY : sourceEvent.clientY;\n        const pointerPos = {\n            x: (x - transform[0]) / transform[2],\n            y: (y - transform[1]) / transform[2],\n        };\n        // we need the snapped position in order to be able to skip unnecessary drag events\n        return {\n            xSnapped: snapToGrid ? snapGrid[0] * Math.round(pointerPos.x / snapGrid[0]) : pointerPos.x,\n            ySnapped: snapToGrid ? snapGrid[1] * Math.round(pointerPos.y / snapGrid[1]) : pointerPos.y,\n            ...pointerPos,\n        };\n    }, []);\n    return getPointerPosition;\n}\n\nfunction wrapSelectionDragFunc(selectionFunc) {\n    return (event, _, nodes) => selectionFunc?.(event, nodes);\n}\nfunction useDrag({ nodeRef, disabled = false, noDragClassName, handleSelector, nodeId, isSelectable, selectNodesOnDrag, }) {\n    const store = useStoreApi();\n    const [dragging, setDragging] = useState(false);\n    const dragItems = useRef([]);\n    const lastPos = useRef({ x: null, y: null });\n    const autoPanId = useRef(0);\n    const containerBounds = useRef(null);\n    const mousePosition = useRef({ x: 0, y: 0 });\n    const dragEvent = useRef(null);\n    const autoPanStarted = useRef(false);\n    const dragStarted = useRef(false);\n    const getPointerPosition = useGetPointerPosition();\n    useEffect(() => {\n        if (nodeRef?.current) {\n            const selection = select(nodeRef.current);\n            const updateNodes = ({ x, y }) => {\n                const { nodeInternals, onNodeDrag, onSelectionDrag, updateNodePositions, nodeExtent, snapGrid, snapToGrid, nodeOrigin, onError, } = store.getState();\n                lastPos.current = { x, y };\n                let hasChange = false;\n                let nodesBox = { x: 0, y: 0, x2: 0, y2: 0 };\n                if (dragItems.current.length > 1 && nodeExtent) {\n                    const rect = getNodesBounds(dragItems.current, nodeOrigin);\n                    nodesBox = rectToBox(rect);\n                }\n                dragItems.current = dragItems.current.map((n) => {\n                    const nextPosition = { x: x - n.distance.x, y: y - n.distance.y };\n                    if (snapToGrid) {\n                        nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                        nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                    }\n                    // if there is selection with multiple nodes and a node extent is set, we need to adjust the node extent for each node\n                    // based on its position so that the node stays at it's position relative to the selection.\n                    const adjustedNodeExtent = [\n                        [nodeExtent[0][0], nodeExtent[0][1]],\n                        [nodeExtent[1][0], nodeExtent[1][1]],\n                    ];\n                    if (dragItems.current.length > 1 && nodeExtent && !n.extent) {\n                        adjustedNodeExtent[0][0] = n.positionAbsolute.x - nodesBox.x + nodeExtent[0][0];\n                        adjustedNodeExtent[1][0] = n.positionAbsolute.x + (n.width ?? 0) - nodesBox.x2 + nodeExtent[1][0];\n                        adjustedNodeExtent[0][1] = n.positionAbsolute.y - nodesBox.y + nodeExtent[0][1];\n                        adjustedNodeExtent[1][1] = n.positionAbsolute.y + (n.height ?? 0) - nodesBox.y2 + nodeExtent[1][1];\n                    }\n                    const updatedPos = calcNextPosition(n, nextPosition, nodeInternals, adjustedNodeExtent, nodeOrigin, onError);\n                    // we want to make sure that we only fire a change event when there is a change\n                    hasChange = hasChange || n.position.x !== updatedPos.position.x || n.position.y !== updatedPos.position.y;\n                    n.position = updatedPos.position;\n                    n.positionAbsolute = updatedPos.positionAbsolute;\n                    return n;\n                });\n                if (!hasChange) {\n                    return;\n                }\n                updateNodePositions(dragItems.current, true, true);\n                setDragging(true);\n                const onDrag = nodeId ? onNodeDrag : wrapSelectionDragFunc(onSelectionDrag);\n                if (onDrag && dragEvent.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onDrag(dragEvent.current, currentNode, nodes);\n                }\n            };\n            const autoPan = () => {\n                if (!containerBounds.current) {\n                    return;\n                }\n                const [xMovement, yMovement] = calcAutoPan(mousePosition.current, containerBounds.current);\n                if (xMovement !== 0 || yMovement !== 0) {\n                    const { transform, panBy } = store.getState();\n                    lastPos.current.x = (lastPos.current.x ?? 0) - xMovement / transform[2];\n                    lastPos.current.y = (lastPos.current.y ?? 0) - yMovement / transform[2];\n                    if (panBy({ x: xMovement, y: yMovement })) {\n                        updateNodes(lastPos.current);\n                    }\n                }\n                autoPanId.current = requestAnimationFrame(autoPan);\n            };\n            const startDrag = (event) => {\n                const { nodeInternals, multiSelectionActive, nodesDraggable, unselectNodesAndEdges, onNodeDragStart, onSelectionDragStart, } = store.getState();\n                dragStarted.current = true;\n                const onStart = nodeId ? onNodeDragStart : wrapSelectionDragFunc(onSelectionDragStart);\n                if ((!selectNodesOnDrag || !isSelectable) && !multiSelectionActive && nodeId) {\n                    if (!nodeInternals.get(nodeId)?.selected) {\n                        // we need to reset selected nodes when selectNodesOnDrag=false\n                        unselectNodesAndEdges();\n                    }\n                }\n                if (nodeId && isSelectable && selectNodesOnDrag) {\n                    handleNodeClick({\n                        id: nodeId,\n                        store,\n                        nodeRef: nodeRef,\n                    });\n                }\n                const pointerPos = getPointerPosition(event);\n                lastPos.current = pointerPos;\n                dragItems.current = getDragItems(nodeInternals, nodesDraggable, pointerPos, nodeId);\n                if (onStart && dragItems.current) {\n                    const [currentNode, nodes] = getEventHandlerParams({\n                        nodeId,\n                        dragItems: dragItems.current,\n                        nodeInternals,\n                    });\n                    onStart(event.sourceEvent, currentNode, nodes);\n                }\n            };\n            if (disabled) {\n                selection.on('.drag', null);\n            }\n            else {\n                const dragHandler = drag()\n                    .on('start', (event) => {\n                    const { domNode, nodeDragThreshold } = store.getState();\n                    if (nodeDragThreshold === 0) {\n                        startDrag(event);\n                    }\n                    const pointerPos = getPointerPosition(event);\n                    lastPos.current = pointerPos;\n                    containerBounds.current = domNode?.getBoundingClientRect() || null;\n                    mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                })\n                    .on('drag', (event) => {\n                    const pointerPos = getPointerPosition(event);\n                    const { autoPanOnNodeDrag, nodeDragThreshold } = store.getState();\n                    if (!autoPanStarted.current && dragStarted.current && autoPanOnNodeDrag) {\n                        autoPanStarted.current = true;\n                        autoPan();\n                    }\n                    if (!dragStarted.current) {\n                        const x = pointerPos.xSnapped - (lastPos?.current?.x ?? 0);\n                        const y = pointerPos.ySnapped - (lastPos?.current?.y ?? 0);\n                        const distance = Math.sqrt(x * x + y * y);\n                        if (distance > nodeDragThreshold) {\n                            startDrag(event);\n                        }\n                    }\n                    // skip events without movement\n                    if ((lastPos.current.x !== pointerPos.xSnapped || lastPos.current.y !== pointerPos.ySnapped) &&\n                        dragItems.current &&\n                        dragStarted.current) {\n                        dragEvent.current = event.sourceEvent;\n                        mousePosition.current = getEventPosition(event.sourceEvent, containerBounds.current);\n                        updateNodes(pointerPos);\n                    }\n                })\n                    .on('end', (event) => {\n                    if (!dragStarted.current) {\n                        return;\n                    }\n                    setDragging(false);\n                    autoPanStarted.current = false;\n                    dragStarted.current = false;\n                    cancelAnimationFrame(autoPanId.current);\n                    if (dragItems.current) {\n                        const { updateNodePositions, nodeInternals, onNodeDragStop, onSelectionDragStop } = store.getState();\n                        const onStop = nodeId ? onNodeDragStop : wrapSelectionDragFunc(onSelectionDragStop);\n                        updateNodePositions(dragItems.current, false, false);\n                        if (onStop) {\n                            const [currentNode, nodes] = getEventHandlerParams({\n                                nodeId,\n                                dragItems: dragItems.current,\n                                nodeInternals,\n                            });\n                            onStop(event.sourceEvent, currentNode, nodes);\n                        }\n                    }\n                })\n                    .filter((event) => {\n                    const target = event.target;\n                    const isDraggable = !event.button &&\n                        (!noDragClassName || !hasSelector(target, `.${noDragClassName}`, nodeRef)) &&\n                        (!handleSelector || hasSelector(target, handleSelector, nodeRef));\n                    return isDraggable;\n                });\n                selection.call(dragHandler);\n                return () => {\n                    selection.on('.drag', null);\n                };\n            }\n        }\n    }, [\n        nodeRef,\n        disabled,\n        noDragClassName,\n        handleSelector,\n        isSelectable,\n        store,\n        nodeId,\n        selectNodesOnDrag,\n        getPointerPosition,\n    ]);\n    return dragging;\n}\n\nfunction useUpdateNodePositions() {\n    const store = useStoreApi();\n    const updatePositions = useCallback((params) => {\n        const { nodeInternals, nodeExtent, updateNodePositions, getNodes, snapToGrid, snapGrid, onError, nodesDraggable } = store.getState();\n        const selectedNodes = getNodes().filter((n) => n.selected && (n.draggable || (nodesDraggable && typeof n.draggable === 'undefined')));\n        // by default a node moves 5px on each key press, or 20px if shift is pressed\n        // if snap grid is enabled, we use that for the velocity.\n        const xVelo = snapToGrid ? snapGrid[0] : 5;\n        const yVelo = snapToGrid ? snapGrid[1] : 5;\n        const factor = params.isShiftPressed ? 4 : 1;\n        const positionDiffX = params.x * xVelo * factor;\n        const positionDiffY = params.y * yVelo * factor;\n        const nodeUpdates = selectedNodes.map((n) => {\n            if (n.positionAbsolute) {\n                const nextPosition = { x: n.positionAbsolute.x + positionDiffX, y: n.positionAbsolute.y + positionDiffY };\n                if (snapToGrid) {\n                    nextPosition.x = snapGrid[0] * Math.round(nextPosition.x / snapGrid[0]);\n                    nextPosition.y = snapGrid[1] * Math.round(nextPosition.y / snapGrid[1]);\n                }\n                const { positionAbsolute, position } = calcNextPosition(n, nextPosition, nodeInternals, nodeExtent, undefined, onError);\n                n.position = position;\n                n.positionAbsolute = positionAbsolute;\n            }\n            return n;\n        });\n        updateNodePositions(nodeUpdates, true, false);\n    }, []);\n    return updatePositions;\n}\n\nconst arrowKeyDiffs = {\n    ArrowUp: { x: 0, y: -1 },\n    ArrowDown: { x: 0, y: 1 },\n    ArrowLeft: { x: -1, y: 0 },\n    ArrowRight: { x: 1, y: 0 },\n};\nvar wrapNode = (NodeComponent) => {\n    const NodeWrapper = ({ id, type, data, xPos, yPos, xPosOrigin, yPosOrigin, selected, onClick, onMouseEnter, onMouseMove, onMouseLeave, onContextMenu, onDoubleClick, style, className, isDraggable, isSelectable, isConnectable, isFocusable, selectNodesOnDrag, sourcePosition, targetPosition, hidden, resizeObserver, dragHandle, zIndex, isParent, noDragClassName, noPanClassName, initialized, disableKeyboardA11y, ariaLabel, rfId, }) => {\n        const store = useStoreApi();\n        const nodeRef = useRef(null);\n        const prevSourcePosition = useRef(sourcePosition);\n        const prevTargetPosition = useRef(targetPosition);\n        const prevType = useRef(type);\n        const hasPointerEvents = isSelectable || isDraggable || onClick || onMouseEnter || onMouseMove || onMouseLeave;\n        const updatePositions = useUpdateNodePositions();\n        const onMouseEnterHandler = getMouseHandler(id, store.getState, onMouseEnter);\n        const onMouseMoveHandler = getMouseHandler(id, store.getState, onMouseMove);\n        const onMouseLeaveHandler = getMouseHandler(id, store.getState, onMouseLeave);\n        const onContextMenuHandler = getMouseHandler(id, store.getState, onContextMenu);\n        const onDoubleClickHandler = getMouseHandler(id, store.getState, onDoubleClick);\n        const onSelectNodeHandler = (event) => {\n            const { nodeDragThreshold } = store.getState();\n            if (isSelectable && (!selectNodesOnDrag || !isDraggable || nodeDragThreshold > 0)) {\n                // this handler gets called within the drag start event when selectNodesOnDrag=true\n                handleNodeClick({\n                    id,\n                    store,\n                    nodeRef,\n                });\n            }\n            if (onClick) {\n                const node = store.getState().nodeInternals.get(id);\n                if (node) {\n                    onClick(event, { ...node });\n                }\n            }\n        };\n        const onKeyDown = (event) => {\n            if (isInputDOMNode(event)) {\n                return;\n            }\n            if (elementSelectionKeys.includes(event.key) && isSelectable) {\n                const unselect = event.key === 'Escape';\n                handleNodeClick({\n                    id,\n                    store,\n                    unselect,\n                    nodeRef,\n                });\n            }\n            else if (!disableKeyboardA11y &&\n                isDraggable &&\n                selected &&\n                Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n                store.setState({\n                    ariaLiveMessage: `Moved selected node ${event.key\n                        .replace('Arrow', '')\n                        .toLowerCase()}. New position, x: ${~~xPos}, y: ${~~yPos}`,\n                });\n                updatePositions({\n                    x: arrowKeyDiffs[event.key].x,\n                    y: arrowKeyDiffs[event.key].y,\n                    isShiftPressed: event.shiftKey,\n                });\n            }\n        };\n        useEffect(() => {\n            if (nodeRef.current && !hidden) {\n                const currNode = nodeRef.current;\n                resizeObserver?.observe(currNode);\n                return () => resizeObserver?.unobserve(currNode);\n            }\n        }, [hidden]);\n        useEffect(() => {\n            // when the user programmatically changes the source or handle position, we re-initialize the node\n            const typeChanged = prevType.current !== type;\n            const sourcePosChanged = prevSourcePosition.current !== sourcePosition;\n            const targetPosChanged = prevTargetPosition.current !== targetPosition;\n            if (nodeRef.current && (typeChanged || sourcePosChanged || targetPosChanged)) {\n                if (typeChanged) {\n                    prevType.current = type;\n                }\n                if (sourcePosChanged) {\n                    prevSourcePosition.current = sourcePosition;\n                }\n                if (targetPosChanged) {\n                    prevTargetPosition.current = targetPosition;\n                }\n                store.getState().updateNodeDimensions([{ id, nodeElement: nodeRef.current, forceUpdate: true }]);\n            }\n        }, [id, type, sourcePosition, targetPosition]);\n        const dragging = useDrag({\n            nodeRef,\n            disabled: hidden || !isDraggable,\n            noDragClassName,\n            handleSelector: dragHandle,\n            nodeId: id,\n            isSelectable,\n            selectNodesOnDrag,\n        });\n        if (hidden) {\n            return null;\n        }\n        return (React.createElement(\"div\", { className: cc([\n                'react-flow__node',\n                `react-flow__node-${type}`,\n                {\n                    // this is overwritable by passing `nopan` as a class name\n                    [noPanClassName]: isDraggable,\n                },\n                className,\n                {\n                    selected,\n                    selectable: isSelectable,\n                    parent: isParent,\n                    dragging,\n                },\n            ]), ref: nodeRef, style: {\n                zIndex,\n                transform: `translate(${xPosOrigin}px,${yPosOrigin}px)`,\n                pointerEvents: hasPointerEvents ? 'all' : 'none',\n                visibility: initialized ? 'visible' : 'hidden',\n                ...style,\n            }, \"data-id\": id, \"data-testid\": `rf__node-${id}`, onMouseEnter: onMouseEnterHandler, onMouseMove: onMouseMoveHandler, onMouseLeave: onMouseLeaveHandler, onContextMenu: onContextMenuHandler, onClick: onSelectNodeHandler, onDoubleClick: onDoubleClickHandler, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : undefined, \"aria-describedby\": disableKeyboardA11y ? undefined : `${ARIA_NODE_DESC_KEY}-${rfId}`, \"aria-label\": ariaLabel },\n            React.createElement(Provider, { value: id },\n                React.createElement(NodeComponent, { id: id, data: data, type: type, xPos: xPos, yPos: yPos, selected: selected, isConnectable: isConnectable, sourcePosition: sourcePosition, targetPosition: targetPosition, dragging: dragging, dragHandle: dragHandle, zIndex: zIndex }))));\n    };\n    NodeWrapper.displayName = 'NodeWrapper';\n    return memo(NodeWrapper);\n};\n\n/**\n * The nodes selection rectangle gets displayed when a user\n * made a selection with on or several nodes\n */\nconst selector$7 = (s) => {\n    const selectedNodes = s.getNodes().filter((n) => n.selected);\n    return {\n        ...getNodesBounds(selectedNodes, s.nodeOrigin),\n        transformString: `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`,\n        userSelectionActive: s.userSelectionActive,\n    };\n};\nfunction NodesSelection({ onSelectionContextMenu, noPanClassName, disableKeyboardA11y }) {\n    const store = useStoreApi();\n    const { width, height, x: left, y: top, transformString, userSelectionActive } = useStore(selector$7, shallow);\n    const updatePositions = useUpdateNodePositions();\n    const nodeRef = useRef(null);\n    useEffect(() => {\n        if (!disableKeyboardA11y) {\n            nodeRef.current?.focus({\n                preventScroll: true,\n            });\n        }\n    }, [disableKeyboardA11y]);\n    useDrag({\n        nodeRef,\n    });\n    if (userSelectionActive || !width || !height) {\n        return null;\n    }\n    const onContextMenu = onSelectionContextMenu\n        ? (event) => {\n            const selectedNodes = store\n                .getState()\n                .getNodes()\n                .filter((n) => n.selected);\n            onSelectionContextMenu(event, selectedNodes);\n        }\n        : undefined;\n    const onKeyDown = (event) => {\n        if (Object.prototype.hasOwnProperty.call(arrowKeyDiffs, event.key)) {\n            updatePositions({\n                x: arrowKeyDiffs[event.key].x,\n                y: arrowKeyDiffs[event.key].y,\n                isShiftPressed: event.shiftKey,\n            });\n        }\n    };\n    return (React.createElement(\"div\", { className: cc(['react-flow__nodesselection', 'react-flow__container', noPanClassName]), style: {\n            transform: transformString,\n        } },\n        React.createElement(\"div\", { ref: nodeRef, className: \"react-flow__nodesselection-rect\", onContextMenu: onContextMenu, tabIndex: disableKeyboardA11y ? undefined : -1, onKeyDown: disableKeyboardA11y ? undefined : onKeyDown, style: {\n                width,\n                height,\n                top,\n                left,\n            } })));\n}\nvar NodesSelection$1 = memo(NodesSelection);\n\nconst selector$6 = (s) => s.nodesSelectionActive;\nconst FlowRenderer = ({ children, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneContextMenu, onPaneScroll, deleteKeyCode, onMove, onMoveStart, onMoveEnd, selectionKeyCode, selectionOnDrag, selectionMode, onSelectionStart, onSelectionEnd, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, elementsSelectable, zoomOnScroll, zoomOnPinch, panOnScroll: _panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag: _panOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, onSelectionContextMenu, noWheelClassName, noPanClassName, disableKeyboardA11y, }) => {\n    const nodesSelectionActive = useStore(selector$6);\n    const selectionKeyPressed = useKeyPress(selectionKeyCode);\n    const panActivationKeyPressed = useKeyPress(panActivationKeyCode);\n    const panOnDrag = panActivationKeyPressed || _panOnDrag;\n    const panOnScroll = panActivationKeyPressed || _panOnScroll;\n    const isSelecting = selectionKeyPressed || (selectionOnDrag && panOnDrag !== true);\n    useGlobalKeyHandler({ deleteKeyCode, multiSelectionKeyCode });\n    return (React.createElement(ZoomPane, { onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onPaneContextMenu: onPaneContextMenu, elementsSelectable: elementsSelectable, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, zoomOnDoubleClick: zoomOnDoubleClick, panOnDrag: !selectionKeyPressed && panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, zoomActivationKeyCode: zoomActivationKeyCode, preventScrolling: preventScrolling, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName },\n        React.createElement(Pane, { onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, panOnDrag: panOnDrag, isSelecting: !!isSelecting, selectionMode: selectionMode },\n            children,\n            nodesSelectionActive && (React.createElement(NodesSelection$1, { onSelectionContextMenu: onSelectionContextMenu, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y })))));\n};\nFlowRenderer.displayName = 'FlowRenderer';\nvar FlowRenderer$1 = memo(FlowRenderer);\n\nfunction useVisibleNodes(onlyRenderVisible) {\n    const nodes = useStore(useCallback((s) => onlyRenderVisible\n        ? getNodesInside(s.nodeInternals, { x: 0, y: 0, width: s.width, height: s.height }, s.transform, true)\n        : s.getNodes(), [onlyRenderVisible]));\n    return nodes;\n}\n\nfunction createNodeTypes(nodeTypes) {\n    const standardTypes = {\n        input: wrapNode((nodeTypes.input || InputNode$1)),\n        default: wrapNode((nodeTypes.default || DefaultNode$1)),\n        output: wrapNode((nodeTypes.output || OutputNode$1)),\n        group: wrapNode((nodeTypes.group || GroupNode)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(nodeTypes)\n        .filter((k) => !['input', 'default', 'output', 'group'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapNode((nodeTypes[key] || DefaultNode$1));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nconst getPositionWithOrigin = ({ x, y, width, height, origin, }) => {\n    if (!width || !height) {\n        return { x, y };\n    }\n    if (origin[0] < 0 || origin[1] < 0 || origin[0] > 1 || origin[1] > 1) {\n        return { x, y };\n    }\n    return {\n        x: x - width * origin[0],\n        y: y - height * origin[1],\n    };\n};\n\nconst selector$5 = (s) => ({\n    nodesDraggable: s.nodesDraggable,\n    nodesConnectable: s.nodesConnectable,\n    nodesFocusable: s.nodesFocusable,\n    elementsSelectable: s.elementsSelectable,\n    updateNodeDimensions: s.updateNodeDimensions,\n    onError: s.onError,\n});\nconst NodeRenderer = (props) => {\n    const { nodesDraggable, nodesConnectable, nodesFocusable, elementsSelectable, updateNodeDimensions, onError } = useStore(selector$5, shallow);\n    const nodes = useVisibleNodes(props.onlyRenderVisibleElements);\n    const resizeObserverRef = useRef();\n    const resizeObserver = useMemo(() => {\n        if (typeof ResizeObserver === 'undefined') {\n            return null;\n        }\n        const observer = new ResizeObserver((entries) => {\n            const updates = entries.map((entry) => ({\n                id: entry.target.getAttribute('data-id'),\n                nodeElement: entry.target,\n                forceUpdate: true,\n            }));\n            updateNodeDimensions(updates);\n        });\n        resizeObserverRef.current = observer;\n        return observer;\n    }, []);\n    useEffect(() => {\n        return () => {\n            resizeObserverRef?.current?.disconnect();\n        };\n    }, []);\n    return (React.createElement(\"div\", { className: \"react-flow__nodes\", style: containerStyle }, nodes.map((node) => {\n        let nodeType = node.type || 'default';\n        if (!props.nodeTypes[nodeType]) {\n            onError?.('003', errorMessages['error003'](nodeType));\n            nodeType = 'default';\n        }\n        const NodeComponent = (props.nodeTypes[nodeType] || props.nodeTypes.default);\n        const isDraggable = !!(node.draggable || (nodesDraggable && typeof node.draggable === 'undefined'));\n        const isSelectable = !!(node.selectable || (elementsSelectable && typeof node.selectable === 'undefined'));\n        const isConnectable = !!(node.connectable || (nodesConnectable && typeof node.connectable === 'undefined'));\n        const isFocusable = !!(node.focusable || (nodesFocusable && typeof node.focusable === 'undefined'));\n        const clampedPosition = props.nodeExtent\n            ? clampPosition(node.positionAbsolute, props.nodeExtent)\n            : node.positionAbsolute;\n        const posX = clampedPosition?.x ?? 0;\n        const posY = clampedPosition?.y ?? 0;\n        const posOrigin = getPositionWithOrigin({\n            x: posX,\n            y: posY,\n            width: node.width ?? 0,\n            height: node.height ?? 0,\n            origin: props.nodeOrigin,\n        });\n        return (React.createElement(NodeComponent, { key: node.id, id: node.id, className: node.className, style: node.style, type: nodeType, data: node.data, sourcePosition: node.sourcePosition || Position.Bottom, targetPosition: node.targetPosition || Position.Top, hidden: node.hidden, xPos: posX, yPos: posY, xPosOrigin: posOrigin.x, yPosOrigin: posOrigin.y, selectNodesOnDrag: props.selectNodesOnDrag, onClick: props.onNodeClick, onMouseEnter: props.onNodeMouseEnter, onMouseMove: props.onNodeMouseMove, onMouseLeave: props.onNodeMouseLeave, onContextMenu: props.onNodeContextMenu, onDoubleClick: props.onNodeDoubleClick, selected: !!node.selected, isDraggable: isDraggable, isSelectable: isSelectable, isConnectable: isConnectable, isFocusable: isFocusable, resizeObserver: resizeObserver, dragHandle: node.dragHandle, zIndex: node[internalsSymbol]?.z ?? 0, isParent: !!node[internalsSymbol]?.isParent, noDragClassName: props.noDragClassName, noPanClassName: props.noPanClassName, initialized: !!node.width && !!node.height, rfId: props.rfId, disableKeyboardA11y: props.disableKeyboardA11y, ariaLabel: node.ariaLabel }));\n    })));\n};\nNodeRenderer.displayName = 'NodeRenderer';\nvar NodeRenderer$1 = memo(NodeRenderer);\n\nconst shiftX = (x, shift, position) => {\n    if (position === Position.Left)\n        return x - shift;\n    if (position === Position.Right)\n        return x + shift;\n    return x;\n};\nconst shiftY = (y, shift, position) => {\n    if (position === Position.Top)\n        return y - shift;\n    if (position === Position.Bottom)\n        return y + shift;\n    return y;\n};\nconst EdgeUpdaterClassName = 'react-flow__edgeupdater';\nconst EdgeAnchor = ({ position, centerX, centerY, radius = 10, onMouseDown, onMouseEnter, onMouseOut, type, }) => (React.createElement(\"circle\", { onMouseDown: onMouseDown, onMouseEnter: onMouseEnter, onMouseOut: onMouseOut, className: cc([EdgeUpdaterClassName, `${EdgeUpdaterClassName}-${type}`]), cx: shiftX(centerX, radius, position), cy: shiftY(centerY, radius, position), r: radius, stroke: \"transparent\", fill: \"transparent\" }));\n\nconst alwaysValidConnection = () => true;\nvar wrapEdge = (EdgeComponent) => {\n    const EdgeWrapper = ({ id, className, type, data, onClick, onEdgeDoubleClick, selected, animated, label, labelStyle, labelShowBg, labelBgStyle, labelBgPadding, labelBgBorderRadius, style, source, target, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, elementsSelectable, hidden, sourceHandleId, targetHandleId, onContextMenu, onMouseEnter, onMouseMove, onMouseLeave, edgeUpdaterRadius, onEdgeUpdate, onEdgeUpdateStart, onEdgeUpdateEnd, markerEnd, markerStart, rfId, ariaLabel, isFocusable, isUpdatable, pathOptions, interactionWidth, }) => {\n        const edgeRef = useRef(null);\n        const [updateHover, setUpdateHover] = useState(false);\n        const [updating, setUpdating] = useState(false);\n        const store = useStoreApi();\n        const markerStartUrl = useMemo(() => `url(#${getMarkerId(markerStart, rfId)})`, [markerStart, rfId]);\n        const markerEndUrl = useMemo(() => `url(#${getMarkerId(markerEnd, rfId)})`, [markerEnd, rfId]);\n        if (hidden) {\n            return null;\n        }\n        const onEdgeClick = (event) => {\n            const { edges, addSelectedEdges, unselectNodesAndEdges, multiSelectionActive } = store.getState();\n            const edge = edges.find((e) => e.id === id);\n            if (!edge) {\n                return;\n            }\n            if (elementsSelectable) {\n                store.setState({ nodesSelectionActive: false });\n                if (edge.selected && multiSelectionActive) {\n                    unselectNodesAndEdges({ nodes: [], edges: [edge] });\n                    edgeRef.current?.blur();\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n            if (onClick) {\n                onClick(event, edge);\n            }\n        };\n        const onEdgeDoubleClickHandler = getMouseHandler$1(id, store.getState, onEdgeDoubleClick);\n        const onEdgeContextMenu = getMouseHandler$1(id, store.getState, onContextMenu);\n        const onEdgeMouseEnter = getMouseHandler$1(id, store.getState, onMouseEnter);\n        const onEdgeMouseMove = getMouseHandler$1(id, store.getState, onMouseMove);\n        const onEdgeMouseLeave = getMouseHandler$1(id, store.getState, onMouseLeave);\n        const handleEdgeUpdater = (event, isSourceHandle) => {\n            // avoid triggering edge updater if mouse btn is not left\n            if (event.button !== 0) {\n                return;\n            }\n            const { edges, isValidConnection: isValidConnectionStore } = store.getState();\n            const nodeId = isSourceHandle ? target : source;\n            const handleId = (isSourceHandle ? targetHandleId : sourceHandleId) || null;\n            const handleType = isSourceHandle ? 'target' : 'source';\n            const isValidConnection = isValidConnectionStore || alwaysValidConnection;\n            const isTarget = isSourceHandle;\n            const edge = edges.find((e) => e.id === id);\n            setUpdating(true);\n            onEdgeUpdateStart?.(event, edge, handleType);\n            const _onEdgeUpdateEnd = (evt) => {\n                setUpdating(false);\n                onEdgeUpdateEnd?.(evt, edge, handleType);\n            };\n            const onConnectEdge = (connection) => onEdgeUpdate?.(edge, connection);\n            handlePointerDown({\n                event,\n                handleId,\n                nodeId,\n                onConnect: onConnectEdge,\n                isTarget,\n                getState: store.getState,\n                setState: store.setState,\n                isValidConnection,\n                edgeUpdaterType: handleType,\n                onEdgeUpdateEnd: _onEdgeUpdateEnd,\n            });\n        };\n        const onEdgeUpdaterSourceMouseDown = (event) => handleEdgeUpdater(event, true);\n        const onEdgeUpdaterTargetMouseDown = (event) => handleEdgeUpdater(event, false);\n        const onEdgeUpdaterMouseEnter = () => setUpdateHover(true);\n        const onEdgeUpdaterMouseOut = () => setUpdateHover(false);\n        const inactive = !elementsSelectable && !onClick;\n        const onKeyDown = (event) => {\n            if (elementSelectionKeys.includes(event.key) && elementsSelectable) {\n                const { unselectNodesAndEdges, addSelectedEdges, edges } = store.getState();\n                const unselect = event.key === 'Escape';\n                if (unselect) {\n                    edgeRef.current?.blur();\n                    unselectNodesAndEdges({ edges: [edges.find((e) => e.id === id)] });\n                }\n                else {\n                    addSelectedEdges([id]);\n                }\n            }\n        };\n        return (React.createElement(\"g\", { className: cc([\n                'react-flow__edge',\n                `react-flow__edge-${type}`,\n                className,\n                { selected, animated, inactive, updating: updateHover },\n            ]), onClick: onEdgeClick, onDoubleClick: onEdgeDoubleClickHandler, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onKeyDown: isFocusable ? onKeyDown : undefined, tabIndex: isFocusable ? 0 : undefined, role: isFocusable ? 'button' : 'img', \"data-testid\": `rf__edge-${id}`, \"aria-label\": ariaLabel === null ? undefined : ariaLabel ? ariaLabel : `Edge from ${source} to ${target}`, \"aria-describedby\": isFocusable ? `${ARIA_EDGE_DESC_KEY}-${rfId}` : undefined, ref: edgeRef },\n            !updating && (React.createElement(EdgeComponent, { id: id, source: source, target: target, selected: selected, animated: animated, label: label, labelStyle: labelStyle, labelShowBg: labelShowBg, labelBgStyle: labelBgStyle, labelBgPadding: labelBgPadding, labelBgBorderRadius: labelBgBorderRadius, data: data, style: style, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, sourceHandleId: sourceHandleId, targetHandleId: targetHandleId, markerStart: markerStartUrl, markerEnd: markerEndUrl, pathOptions: pathOptions, interactionWidth: interactionWidth })),\n            isUpdatable && (React.createElement(React.Fragment, null,\n                (isUpdatable === 'source' || isUpdatable === true) && (React.createElement(EdgeAnchor, { position: sourcePosition, centerX: sourceX, centerY: sourceY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterSourceMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"source\" })),\n                (isUpdatable === 'target' || isUpdatable === true) && (React.createElement(EdgeAnchor, { position: targetPosition, centerX: targetX, centerY: targetY, radius: edgeUpdaterRadius, onMouseDown: onEdgeUpdaterTargetMouseDown, onMouseEnter: onEdgeUpdaterMouseEnter, onMouseOut: onEdgeUpdaterMouseOut, type: \"target\" }))))));\n    };\n    EdgeWrapper.displayName = 'EdgeWrapper';\n    return memo(EdgeWrapper);\n};\n\nfunction createEdgeTypes(edgeTypes) {\n    const standardTypes = {\n        default: wrapEdge((edgeTypes.default || BezierEdge)),\n        straight: wrapEdge((edgeTypes.bezier || StraightEdge)),\n        step: wrapEdge((edgeTypes.step || StepEdge)),\n        smoothstep: wrapEdge((edgeTypes.step || SmoothStepEdge)),\n        simplebezier: wrapEdge((edgeTypes.simplebezier || SimpleBezierEdge)),\n    };\n    const wrappedTypes = {};\n    const specialTypes = Object.keys(edgeTypes)\n        .filter((k) => !['default', 'bezier'].includes(k))\n        .reduce((res, key) => {\n        res[key] = wrapEdge((edgeTypes[key] || BezierEdge));\n        return res;\n    }, wrappedTypes);\n    return {\n        ...standardTypes,\n        ...specialTypes,\n    };\n}\nfunction getHandlePosition(position, nodeRect, handle = null) {\n    const x = (handle?.x || 0) + nodeRect.x;\n    const y = (handle?.y || 0) + nodeRect.y;\n    const width = handle?.width || nodeRect.width;\n    const height = handle?.height || nodeRect.height;\n    switch (position) {\n        case Position.Top:\n            return {\n                x: x + width / 2,\n                y,\n            };\n        case Position.Right:\n            return {\n                x: x + width,\n                y: y + height / 2,\n            };\n        case Position.Bottom:\n            return {\n                x: x + width / 2,\n                y: y + height,\n            };\n        case Position.Left:\n            return {\n                x,\n                y: y + height / 2,\n            };\n    }\n}\nfunction getHandle(bounds, handleId) {\n    if (!bounds) {\n        return null;\n    }\n    if (bounds.length === 1 || !handleId) {\n        return bounds[0];\n    }\n    else if (handleId) {\n        return bounds.find((d) => d.id === handleId) || null;\n    }\n    return null;\n}\nconst getEdgePositions = (sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition) => {\n    const sourceHandlePos = getHandlePosition(sourcePosition, sourceNodeRect, sourceHandle);\n    const targetHandlePos = getHandlePosition(targetPosition, targetNodeRect, targetHandle);\n    return {\n        sourceX: sourceHandlePos.x,\n        sourceY: sourceHandlePos.y,\n        targetX: targetHandlePos.x,\n        targetY: targetHandlePos.y,\n    };\n};\nfunction isEdgeVisible({ sourcePos, targetPos, sourceWidth, sourceHeight, targetWidth, targetHeight, width, height, transform, }) {\n    const edgeBox = {\n        x: Math.min(sourcePos.x, targetPos.x),\n        y: Math.min(sourcePos.y, targetPos.y),\n        x2: Math.max(sourcePos.x + sourceWidth, targetPos.x + targetWidth),\n        y2: Math.max(sourcePos.y + sourceHeight, targetPos.y + targetHeight),\n    };\n    if (edgeBox.x === edgeBox.x2) {\n        edgeBox.x2 += 1;\n    }\n    if (edgeBox.y === edgeBox.y2) {\n        edgeBox.y2 += 1;\n    }\n    const viewBox = rectToBox({\n        x: (0 - transform[0]) / transform[2],\n        y: (0 - transform[1]) / transform[2],\n        width: width / transform[2],\n        height: height / transform[2],\n    });\n    const xOverlap = Math.max(0, Math.min(viewBox.x2, edgeBox.x2) - Math.max(viewBox.x, edgeBox.x));\n    const yOverlap = Math.max(0, Math.min(viewBox.y2, edgeBox.y2) - Math.max(viewBox.y, edgeBox.y));\n    const overlappingArea = Math.ceil(xOverlap * yOverlap);\n    return overlappingArea > 0;\n}\nfunction getNodeData(node) {\n    const handleBounds = node?.[internalsSymbol]?.handleBounds || null;\n    const isValid = handleBounds &&\n        node?.width &&\n        node?.height &&\n        typeof node?.positionAbsolute?.x !== 'undefined' &&\n        typeof node?.positionAbsolute?.y !== 'undefined';\n    return [\n        {\n            x: node?.positionAbsolute?.x || 0,\n            y: node?.positionAbsolute?.y || 0,\n            width: node?.width || 0,\n            height: node?.height || 0,\n        },\n        handleBounds,\n        !!isValid,\n    ];\n}\n\nconst defaultEdgeTree = [{ level: 0, isMaxLevel: true, edges: [] }];\nfunction groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect = false) {\n    let maxLevel = -1;\n    const levelLookup = edges.reduce((tree, edge) => {\n        const hasZIndex = isNumeric(edge.zIndex);\n        let z = hasZIndex ? edge.zIndex : 0;\n        if (elevateEdgesOnSelect) {\n            const targetNode = nodeInternals.get(edge.target);\n            const sourceNode = nodeInternals.get(edge.source);\n            const edgeOrConnectedNodeSelected = edge.selected || targetNode?.selected || sourceNode?.selected;\n            const selectedZIndex = Math.max(sourceNode?.[internalsSymbol]?.z || 0, targetNode?.[internalsSymbol]?.z || 0, 1000);\n            z = (hasZIndex ? edge.zIndex : 0) + (edgeOrConnectedNodeSelected ? selectedZIndex : 0);\n        }\n        if (tree[z]) {\n            tree[z].push(edge);\n        }\n        else {\n            tree[z] = [edge];\n        }\n        maxLevel = z > maxLevel ? z : maxLevel;\n        return tree;\n    }, {});\n    const edgeTree = Object.entries(levelLookup).map(([key, edges]) => {\n        const level = +key;\n        return {\n            edges,\n            level,\n            isMaxLevel: level === maxLevel,\n        };\n    });\n    if (edgeTree.length === 0) {\n        return defaultEdgeTree;\n    }\n    return edgeTree;\n}\nfunction useVisibleEdges(onlyRenderVisible, nodeInternals, elevateEdgesOnSelect) {\n    const edges = useStore(useCallback((s) => {\n        if (!onlyRenderVisible) {\n            return s.edges;\n        }\n        return s.edges.filter((e) => {\n            const sourceNode = nodeInternals.get(e.source);\n            const targetNode = nodeInternals.get(e.target);\n            return (sourceNode?.width &&\n                sourceNode?.height &&\n                targetNode?.width &&\n                targetNode?.height &&\n                isEdgeVisible({\n                    sourcePos: sourceNode.positionAbsolute || { x: 0, y: 0 },\n                    targetPos: targetNode.positionAbsolute || { x: 0, y: 0 },\n                    sourceWidth: sourceNode.width,\n                    sourceHeight: sourceNode.height,\n                    targetWidth: targetNode.width,\n                    targetHeight: targetNode.height,\n                    width: s.width,\n                    height: s.height,\n                    transform: s.transform,\n                }));\n        });\n    }, [onlyRenderVisible, nodeInternals]));\n    return groupEdgesByZLevel(edges, nodeInternals, elevateEdgesOnSelect);\n}\n\nconst ArrowSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (React.createElement(\"polyline\", { style: {\n            stroke: color,\n            strokeWidth,\n        }, strokeLinecap: \"round\", strokeLinejoin: \"round\", fill: \"none\", points: \"-5,-4 0,0 -5,4\" }));\n};\nconst ArrowClosedSymbol = ({ color = 'none', strokeWidth = 1 }) => {\n    return (React.createElement(\"polyline\", { style: {\n            stroke: color,\n            fill: color,\n            strokeWidth,\n        }, strokeLinecap: \"round\", strokeLinejoin: \"round\", points: \"-5,-4 0,0 -5,4 -5,-4\" }));\n};\nconst MarkerSymbols = {\n    [MarkerType.Arrow]: ArrowSymbol,\n    [MarkerType.ArrowClosed]: ArrowClosedSymbol,\n};\nfunction useMarkerSymbol(type) {\n    const store = useStoreApi();\n    const symbol = useMemo(() => {\n        const symbolExists = Object.prototype.hasOwnProperty.call(MarkerSymbols, type);\n        if (!symbolExists) {\n            store.getState().onError?.('009', errorMessages['error009'](type));\n            return null;\n        }\n        return MarkerSymbols[type];\n    }, [type]);\n    return symbol;\n}\n\nconst Marker = ({ id, type, color, width = 12.5, height = 12.5, markerUnits = 'strokeWidth', strokeWidth, orient = 'auto-start-reverse', }) => {\n    const Symbol = useMarkerSymbol(type);\n    if (!Symbol) {\n        return null;\n    }\n    return (React.createElement(\"marker\", { className: \"react-flow__arrowhead\", id: id, markerWidth: `${width}`, markerHeight: `${height}`, viewBox: \"-10 -10 20 20\", markerUnits: markerUnits, orient: orient, refX: \"0\", refY: \"0\" },\n        React.createElement(Symbol, { color: color, strokeWidth: strokeWidth })));\n};\nconst markerSelector = ({ defaultColor, rfId }) => (s) => {\n    const ids = [];\n    return s.edges\n        .reduce((markers, edge) => {\n        [edge.markerStart, edge.markerEnd].forEach((marker) => {\n            if (marker && typeof marker === 'object') {\n                const markerId = getMarkerId(marker, rfId);\n                if (!ids.includes(markerId)) {\n                    markers.push({ id: markerId, color: marker.color || defaultColor, ...marker });\n                    ids.push(markerId);\n                }\n            }\n        });\n        return markers;\n    }, [])\n        .sort((a, b) => a.id.localeCompare(b.id));\n};\n// when you have multiple flows on a page and you hide the first one, the other ones have no markers anymore\n// when they do have markers with the same ids. To prevent this the user can pass a unique id to the react flow wrapper\n// that we can then use for creating our unique marker ids\nconst MarkerDefinitions = ({ defaultColor, rfId }) => {\n    const markers = useStore(useCallback(markerSelector({ defaultColor, rfId }), [defaultColor, rfId]), \n    // the id includes all marker options, so we just need to look at that part of the marker\n    (a, b) => !(a.length !== b.length || a.some((m, i) => m.id !== b[i].id)));\n    return (React.createElement(\"defs\", null, markers.map((marker) => (React.createElement(Marker, { id: marker.id, key: marker.id, type: marker.type, color: marker.color, width: marker.width, height: marker.height, markerUnits: marker.markerUnits, strokeWidth: marker.strokeWidth, orient: marker.orient })))));\n};\nMarkerDefinitions.displayName = 'MarkerDefinitions';\nvar MarkerDefinitions$1 = memo(MarkerDefinitions);\n\nconst selector$4 = (s) => ({\n    nodesConnectable: s.nodesConnectable,\n    edgesFocusable: s.edgesFocusable,\n    edgesUpdatable: s.edgesUpdatable,\n    elementsSelectable: s.elementsSelectable,\n    width: s.width,\n    height: s.height,\n    connectionMode: s.connectionMode,\n    nodeInternals: s.nodeInternals,\n    onError: s.onError,\n});\nconst EdgeRenderer = ({ defaultMarkerColor, onlyRenderVisibleElements, elevateEdgesOnSelect, rfId, edgeTypes, noPanClassName, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeClick, edgeUpdaterRadius, onEdgeDoubleClick, onEdgeUpdateStart, onEdgeUpdateEnd, children, }) => {\n    const { edgesFocusable, edgesUpdatable, elementsSelectable, width, height, connectionMode, nodeInternals, onError } = useStore(selector$4, shallow);\n    const edgeTree = useVisibleEdges(onlyRenderVisibleElements, nodeInternals, elevateEdgesOnSelect);\n    if (!width) {\n        return null;\n    }\n    return (React.createElement(React.Fragment, null,\n        edgeTree.map(({ level, edges, isMaxLevel }) => (React.createElement(\"svg\", { key: level, style: { zIndex: level }, width: width, height: height, className: \"react-flow__edges react-flow__container\" },\n            isMaxLevel && React.createElement(MarkerDefinitions$1, { defaultColor: defaultMarkerColor, rfId: rfId }),\n            React.createElement(\"g\", null, edges.map((edge) => {\n                const [sourceNodeRect, sourceHandleBounds, sourceIsValid] = getNodeData(nodeInternals.get(edge.source));\n                const [targetNodeRect, targetHandleBounds, targetIsValid] = getNodeData(nodeInternals.get(edge.target));\n                if (!sourceIsValid || !targetIsValid) {\n                    return null;\n                }\n                let edgeType = edge.type || 'default';\n                if (!edgeTypes[edgeType]) {\n                    onError?.('011', errorMessages['error011'](edgeType));\n                    edgeType = 'default';\n                }\n                const EdgeComponent = edgeTypes[edgeType] || edgeTypes.default;\n                // when connection type is loose we can define all handles as sources and connect source -> source\n                const targetNodeHandles = connectionMode === ConnectionMode.Strict\n                    ? targetHandleBounds.target\n                    : (targetHandleBounds.target ?? []).concat(targetHandleBounds.source ?? []);\n                const sourceHandle = getHandle(sourceHandleBounds.source, edge.sourceHandle);\n                const targetHandle = getHandle(targetNodeHandles, edge.targetHandle);\n                const sourcePosition = sourceHandle?.position || Position.Bottom;\n                const targetPosition = targetHandle?.position || Position.Top;\n                const isFocusable = !!(edge.focusable || (edgesFocusable && typeof edge.focusable === 'undefined'));\n                const isUpdatable = typeof onEdgeUpdate !== 'undefined' &&\n                    (edge.updatable || (edgesUpdatable && typeof edge.updatable === 'undefined'));\n                if (!sourceHandle || !targetHandle) {\n                    onError?.('008', errorMessages['error008'](sourceHandle, edge));\n                    return null;\n                }\n                const { sourceX, sourceY, targetX, targetY } = getEdgePositions(sourceNodeRect, sourceHandle, sourcePosition, targetNodeRect, targetHandle, targetPosition);\n                return (React.createElement(EdgeComponent, { key: edge.id, id: edge.id, className: cc([edge.className, noPanClassName]), type: edgeType, data: edge.data, selected: !!edge.selected, animated: !!edge.animated, hidden: !!edge.hidden, label: edge.label, labelStyle: edge.labelStyle, labelShowBg: edge.labelShowBg, labelBgStyle: edge.labelBgStyle, labelBgPadding: edge.labelBgPadding, labelBgBorderRadius: edge.labelBgBorderRadius, style: edge.style, source: edge.source, target: edge.target, sourceHandleId: edge.sourceHandle, targetHandleId: edge.targetHandle, markerEnd: edge.markerEnd, markerStart: edge.markerStart, sourceX: sourceX, sourceY: sourceY, targetX: targetX, targetY: targetY, sourcePosition: sourcePosition, targetPosition: targetPosition, elementsSelectable: elementsSelectable, onEdgeUpdate: onEdgeUpdate, onContextMenu: onEdgeContextMenu, onMouseEnter: onEdgeMouseEnter, onMouseMove: onEdgeMouseMove, onMouseLeave: onEdgeMouseLeave, onClick: onEdgeClick, edgeUpdaterRadius: edgeUpdaterRadius, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, rfId: rfId, ariaLabel: edge.ariaLabel, isFocusable: isFocusable, isUpdatable: isUpdatable, pathOptions: 'pathOptions' in edge ? edge.pathOptions : undefined, interactionWidth: edge.interactionWidth }));\n            }))))),\n        children));\n};\nEdgeRenderer.displayName = 'EdgeRenderer';\nvar EdgeRenderer$1 = memo(EdgeRenderer);\n\nconst selector$3 = (s) => `translate(${s.transform[0]}px,${s.transform[1]}px) scale(${s.transform[2]})`;\nfunction Viewport({ children }) {\n    const transform = useStore(selector$3);\n    return (React.createElement(\"div\", { className: \"react-flow__viewport react-flow__container\", style: { transform } }, children));\n}\n\nfunction useOnInitHandler(onInit) {\n    const rfInstance = useReactFlow();\n    const isInitialized = useRef(false);\n    useEffect(() => {\n        if (!isInitialized.current && rfInstance.viewportInitialized && onInit) {\n            setTimeout(() => onInit(rfInstance), 1);\n            isInitialized.current = true;\n        }\n    }, [onInit, rfInstance.viewportInitialized]);\n}\n\nconst oppositePosition = {\n    [Position.Left]: Position.Right,\n    [Position.Right]: Position.Left,\n    [Position.Top]: Position.Bottom,\n    [Position.Bottom]: Position.Top,\n};\nconst ConnectionLine = ({ nodeId, handleType, style, type = ConnectionLineType.Bezier, CustomComponent, connectionStatus, }) => {\n    const { fromNode, handleId, toX, toY, connectionMode } = useStore(useCallback((s) => ({\n        fromNode: s.nodeInternals.get(nodeId),\n        handleId: s.connectionHandleId,\n        toX: (s.connectionPosition.x - s.transform[0]) / s.transform[2],\n        toY: (s.connectionPosition.y - s.transform[1]) / s.transform[2],\n        connectionMode: s.connectionMode,\n    }), [nodeId]), shallow);\n    const fromHandleBounds = fromNode?.[internalsSymbol]?.handleBounds;\n    let handleBounds = fromHandleBounds?.[handleType];\n    if (connectionMode === ConnectionMode.Loose) {\n        handleBounds = handleBounds ? handleBounds : fromHandleBounds?.[handleType === 'source' ? 'target' : 'source'];\n    }\n    if (!fromNode || !handleBounds) {\n        return null;\n    }\n    const fromHandle = handleId ? handleBounds.find((d) => d.id === handleId) : handleBounds[0];\n    const fromHandleX = fromHandle ? fromHandle.x + fromHandle.width / 2 : (fromNode.width ?? 0) / 2;\n    const fromHandleY = fromHandle ? fromHandle.y + fromHandle.height / 2 : fromNode.height ?? 0;\n    const fromX = (fromNode.positionAbsolute?.x ?? 0) + fromHandleX;\n    const fromY = (fromNode.positionAbsolute?.y ?? 0) + fromHandleY;\n    const fromPosition = fromHandle?.position;\n    const toPosition = fromPosition ? oppositePosition[fromPosition] : null;\n    if (!fromPosition || !toPosition) {\n        return null;\n    }\n    if (CustomComponent) {\n        return (React.createElement(CustomComponent, { connectionLineType: type, connectionLineStyle: style, fromNode: fromNode, fromHandle: fromHandle, fromX: fromX, fromY: fromY, toX: toX, toY: toY, fromPosition: fromPosition, toPosition: toPosition, connectionStatus: connectionStatus }));\n    }\n    let dAttr = '';\n    const pathParams = {\n        sourceX: fromX,\n        sourceY: fromY,\n        sourcePosition: fromPosition,\n        targetX: toX,\n        targetY: toY,\n        targetPosition: toPosition,\n    };\n    if (type === ConnectionLineType.Bezier) {\n        // we assume the destination position is opposite to the source position\n        [dAttr] = getBezierPath(pathParams);\n    }\n    else if (type === ConnectionLineType.Step) {\n        [dAttr] = getSmoothStepPath({\n            ...pathParams,\n            borderRadius: 0,\n        });\n    }\n    else if (type === ConnectionLineType.SmoothStep) {\n        [dAttr] = getSmoothStepPath(pathParams);\n    }\n    else if (type === ConnectionLineType.SimpleBezier) {\n        [dAttr] = getSimpleBezierPath(pathParams);\n    }\n    else {\n        dAttr = `M${fromX},${fromY} ${toX},${toY}`;\n    }\n    return React.createElement(\"path\", { d: dAttr, fill: \"none\", className: \"react-flow__connection-path\", style: style });\n};\nConnectionLine.displayName = 'ConnectionLine';\nconst selector$2 = (s) => ({\n    nodeId: s.connectionNodeId,\n    handleType: s.connectionHandleType,\n    nodesConnectable: s.nodesConnectable,\n    connectionStatus: s.connectionStatus,\n    width: s.width,\n    height: s.height,\n});\nfunction ConnectionLineWrapper({ containerStyle, style, type, component }) {\n    const { nodeId, handleType, nodesConnectable, width, height, connectionStatus } = useStore(selector$2, shallow);\n    const isValid = !!(nodeId && handleType && width && nodesConnectable);\n    if (!isValid) {\n        return null;\n    }\n    return (React.createElement(\"svg\", { style: containerStyle, width: width, height: height, className: \"react-flow__edges react-flow__connectionline react-flow__container\" },\n        React.createElement(\"g\", { className: cc(['react-flow__connection', connectionStatus]) },\n            React.createElement(ConnectionLine, { nodeId: nodeId, handleType: handleType, style: style, type: type, CustomComponent: component, connectionStatus: connectionStatus }))));\n}\n\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction useNodeOrEdgeTypes(nodeOrEdgeTypes, createTypes) {\n    const typesKeysRef = useRef(null);\n    const store = useStoreApi();\n    const typesParsed = useMemo(() => {\n        if (process.env.NODE_ENV === 'development') {\n            const typeKeys = Object.keys(nodeOrEdgeTypes);\n            if (shallow(typesKeysRef.current, typeKeys)) {\n                store.getState().onError?.('002', errorMessages['error002']());\n            }\n            typesKeysRef.current = typeKeys;\n        }\n        return createTypes(nodeOrEdgeTypes);\n    }, [nodeOrEdgeTypes]);\n    return typesParsed;\n}\n\nconst GraphView = ({ nodeTypes, edgeTypes, onMove, onMoveStart, onMoveEnd, onInit, onNodeClick, onEdgeClick, onNodeDoubleClick, onEdgeDoubleClick, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionLineType, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, selectionKeyCode, selectionOnDrag, selectionMode, multiSelectionKeyCode, panActivationKeyCode, zoomActivationKeyCode, deleteKeyCode, onlyRenderVisibleElements, elementsSelectable, selectNodesOnDrag, defaultViewport, translateExtent, minZoom, maxZoom, preventScrolling, defaultMarkerColor, zoomOnScroll, zoomOnPinch, panOnScroll, panOnScrollSpeed, panOnScrollMode, zoomOnDoubleClick, panOnDrag, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, onEdgeUpdate, onEdgeContextMenu, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, edgeUpdaterRadius, onEdgeUpdateStart, onEdgeUpdateEnd, noDragClassName, noWheelClassName, noPanClassName, elevateEdgesOnSelect, disableKeyboardA11y, nodeOrigin, nodeExtent, rfId, }) => {\n    const nodeTypesWrapped = useNodeOrEdgeTypes(nodeTypes, createNodeTypes);\n    const edgeTypesWrapped = useNodeOrEdgeTypes(edgeTypes, createEdgeTypes);\n    useOnInitHandler(onInit);\n    return (React.createElement(FlowRenderer$1, { onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneContextMenu: onPaneContextMenu, onPaneScroll: onPaneScroll, deleteKeyCode: deleteKeyCode, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, elementsSelectable: elementsSelectable, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, onSelectionContextMenu: onSelectionContextMenu, preventScrolling: preventScrolling, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, disableKeyboardA11y: disableKeyboardA11y },\n        React.createElement(Viewport, null,\n            React.createElement(EdgeRenderer$1, { edgeTypes: edgeTypesWrapped, onEdgeClick: onEdgeClick, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeUpdate: onEdgeUpdate, onlyRenderVisibleElements: onlyRenderVisibleElements, onEdgeContextMenu: onEdgeContextMenu, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noPanClassName: noPanClassName, elevateEdgesOnSelect: !!elevateEdgesOnSelect, disableKeyboardA11y: disableKeyboardA11y, rfId: rfId },\n                React.createElement(ConnectionLineWrapper, { style: connectionLineStyle, type: connectionLineType, component: connectionLineComponent, containerStyle: connectionLineContainerStyle })),\n            React.createElement(\"div\", { className: \"react-flow__edgelabel-renderer\" }),\n            React.createElement(NodeRenderer$1, { nodeTypes: nodeTypesWrapped, onNodeClick: onNodeClick, onNodeDoubleClick: onNodeDoubleClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, selectNodesOnDrag: selectNodesOnDrag, onlyRenderVisibleElements: onlyRenderVisibleElements, noPanClassName: noPanClassName, noDragClassName: noDragClassName, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent, rfId: rfId }))));\n};\nGraphView.displayName = 'GraphView';\nvar GraphView$1 = memo(GraphView);\n\nconst infiniteExtent = [\n    [Number.NEGATIVE_INFINITY, Number.NEGATIVE_INFINITY],\n    [Number.POSITIVE_INFINITY, Number.POSITIVE_INFINITY],\n];\nconst initialState = {\n    rfId: '1',\n    width: 0,\n    height: 0,\n    transform: [0, 0, 1],\n    nodeInternals: new Map(),\n    edges: [],\n    onNodesChange: null,\n    onEdgesChange: null,\n    hasDefaultNodes: false,\n    hasDefaultEdges: false,\n    d3Zoom: null,\n    d3Selection: null,\n    d3ZoomHandler: undefined,\n    minZoom: 0.5,\n    maxZoom: 2,\n    translateExtent: infiniteExtent,\n    nodeExtent: infiniteExtent,\n    nodesSelectionActive: false,\n    userSelectionActive: false,\n    userSelectionRect: null,\n    connectionNodeId: null,\n    connectionHandleId: null,\n    connectionHandleType: 'source',\n    connectionPosition: { x: 0, y: 0 },\n    connectionStatus: null,\n    connectionMode: ConnectionMode.Strict,\n    domNode: null,\n    paneDragging: false,\n    noPanClassName: 'nopan',\n    nodeOrigin: [0, 0],\n    nodeDragThreshold: 0,\n    snapGrid: [15, 15],\n    snapToGrid: false,\n    nodesDraggable: true,\n    nodesConnectable: true,\n    nodesFocusable: true,\n    edgesFocusable: true,\n    edgesUpdatable: true,\n    elementsSelectable: true,\n    elevateNodesOnSelect: true,\n    fitViewOnInit: false,\n    fitViewOnInitDone: false,\n    fitViewOnInitOptions: undefined,\n    onSelectionChange: [],\n    multiSelectionActive: false,\n    connectionStartHandle: null,\n    connectionEndHandle: null,\n    connectionClickStartHandle: null,\n    connectOnClick: true,\n    ariaLiveMessage: '',\n    autoPanOnConnect: true,\n    autoPanOnNodeDrag: true,\n    connectionRadius: 20,\n    onError: devWarn,\n    isValidConnection: undefined,\n};\n\nconst createRFStore = () => createWithEqualityFn((set, get) => ({\n    ...initialState,\n    setNodes: (nodes) => {\n        const { nodeInternals, nodeOrigin, elevateNodesOnSelect } = get();\n        set({ nodeInternals: createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect) });\n    },\n    getNodes: () => {\n        return Array.from(get().nodeInternals.values());\n    },\n    setEdges: (edges) => {\n        const { defaultEdgeOptions = {} } = get();\n        set({ edges: edges.map((e) => ({ ...defaultEdgeOptions, ...e })) });\n    },\n    setDefaultNodesAndEdges: (nodes, edges) => {\n        const hasDefaultNodes = typeof nodes !== 'undefined';\n        const hasDefaultEdges = typeof edges !== 'undefined';\n        const nodeInternals = hasDefaultNodes\n            ? createNodeInternals(nodes, new Map(), get().nodeOrigin, get().elevateNodesOnSelect)\n            : new Map();\n        const nextEdges = hasDefaultEdges ? edges : [];\n        set({ nodeInternals, edges: nextEdges, hasDefaultNodes, hasDefaultEdges });\n    },\n    updateNodeDimensions: (updates) => {\n        const { onNodesChange, nodeInternals, fitViewOnInit, fitViewOnInitDone, fitViewOnInitOptions, domNode, nodeOrigin, } = get();\n        const viewportNode = domNode?.querySelector('.react-flow__viewport');\n        if (!viewportNode) {\n            return;\n        }\n        const style = window.getComputedStyle(viewportNode);\n        const { m22: zoom } = new window.DOMMatrixReadOnly(style.transform);\n        const changes = updates.reduce((res, update) => {\n            const node = nodeInternals.get(update.id);\n            if (node) {\n                const dimensions = getDimensions(update.nodeElement);\n                const doUpdate = !!(dimensions.width &&\n                    dimensions.height &&\n                    (node.width !== dimensions.width || node.height !== dimensions.height || update.forceUpdate));\n                if (doUpdate) {\n                    nodeInternals.set(node.id, {\n                        ...node,\n                        [internalsSymbol]: {\n                            ...node[internalsSymbol],\n                            handleBounds: {\n                                source: getHandleBounds('.source', update.nodeElement, zoom, nodeOrigin),\n                                target: getHandleBounds('.target', update.nodeElement, zoom, nodeOrigin),\n                            },\n                        },\n                        ...dimensions,\n                    });\n                    res.push({\n                        id: node.id,\n                        type: 'dimensions',\n                        dimensions,\n                    });\n                }\n            }\n            return res;\n        }, []);\n        updateAbsoluteNodePositions(nodeInternals, nodeOrigin);\n        const nextFitViewOnInitDone = fitViewOnInitDone ||\n            (fitViewOnInit && !fitViewOnInitDone && fitView(get, { initial: true, ...fitViewOnInitOptions }));\n        set({ nodeInternals: new Map(nodeInternals), fitViewOnInitDone: nextFitViewOnInitDone });\n        if (changes?.length > 0) {\n            onNodesChange?.(changes);\n        }\n    },\n    updateNodePositions: (nodeDragItems, positionChanged = true, dragging = false) => {\n        const { triggerNodeChanges } = get();\n        const changes = nodeDragItems.map((node) => {\n            const change = {\n                id: node.id,\n                type: 'position',\n                dragging,\n            };\n            if (positionChanged) {\n                change.positionAbsolute = node.positionAbsolute;\n                change.position = node.position;\n            }\n            return change;\n        });\n        triggerNodeChanges(changes);\n    },\n    triggerNodeChanges: (changes) => {\n        const { onNodesChange, nodeInternals, hasDefaultNodes, nodeOrigin, getNodes, elevateNodesOnSelect } = get();\n        if (changes?.length) {\n            if (hasDefaultNodes) {\n                const nodes = applyNodeChanges(changes, getNodes());\n                const nextNodeInternals = createNodeInternals(nodes, nodeInternals, nodeOrigin, elevateNodesOnSelect);\n                set({ nodeInternals: nextNodeInternals });\n            }\n            onNodesChange?.(changes);\n        }\n    },\n    addSelectedNodes: (selectedNodeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedNodes;\n        let changedEdges = null;\n        if (multiSelectionActive) {\n            changedNodes = selectedNodeIds.map((nodeId) => createSelectionChange(nodeId, true));\n        }\n        else {\n            changedNodes = getSelectionChanges(getNodes(), selectedNodeIds);\n            changedEdges = getSelectionChanges(edges, []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    addSelectedEdges: (selectedEdgeIds) => {\n        const { multiSelectionActive, edges, getNodes } = get();\n        let changedEdges;\n        let changedNodes = null;\n        if (multiSelectionActive) {\n            changedEdges = selectedEdgeIds.map((edgeId) => createSelectionChange(edgeId, true));\n        }\n        else {\n            changedEdges = getSelectionChanges(edges, selectedEdgeIds);\n            changedNodes = getSelectionChanges(getNodes(), []);\n        }\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    unselectNodesAndEdges: ({ nodes, edges } = {}) => {\n        const { edges: storeEdges, getNodes } = get();\n        const nodesToUnselect = nodes ? nodes : getNodes();\n        const edgesToUnselect = edges ? edges : storeEdges;\n        const changedNodes = nodesToUnselect.map((n) => {\n            n.selected = false;\n            return createSelectionChange(n.id, false);\n        });\n        const changedEdges = edgesToUnselect.map((edge) => createSelectionChange(edge.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes,\n            changedEdges,\n            get,\n            set,\n        });\n    },\n    setMinZoom: (minZoom) => {\n        const { d3Zoom, maxZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ minZoom });\n    },\n    setMaxZoom: (maxZoom) => {\n        const { d3Zoom, minZoom } = get();\n        d3Zoom?.scaleExtent([minZoom, maxZoom]);\n        set({ maxZoom });\n    },\n    setTranslateExtent: (translateExtent) => {\n        get().d3Zoom?.translateExtent(translateExtent);\n        set({ translateExtent });\n    },\n    resetSelectedElements: () => {\n        const { edges, getNodes } = get();\n        const nodes = getNodes();\n        const nodesToUnselect = nodes\n            .filter((e) => e.selected)\n            .map((n) => createSelectionChange(n.id, false));\n        const edgesToUnselect = edges\n            .filter((e) => e.selected)\n            .map((e) => createSelectionChange(e.id, false));\n        updateNodesAndEdgesSelections({\n            changedNodes: nodesToUnselect,\n            changedEdges: edgesToUnselect,\n            get,\n            set,\n        });\n    },\n    setNodeExtent: (nodeExtent) => {\n        const { nodeInternals } = get();\n        nodeInternals.forEach((node) => {\n            node.positionAbsolute = clampPosition(node.position, nodeExtent);\n        });\n        set({\n            nodeExtent,\n            nodeInternals: new Map(nodeInternals),\n        });\n    },\n    panBy: (delta) => {\n        const { transform, width, height, d3Zoom, d3Selection, translateExtent } = get();\n        if (!d3Zoom || !d3Selection || (!delta.x && !delta.y)) {\n            return false;\n        }\n        const nextTransform = zoomIdentity\n            .translate(transform[0] + delta.x, transform[1] + delta.y)\n            .scale(transform[2]);\n        const extent = [\n            [0, 0],\n            [width, height],\n        ];\n        const constrainedTransform = d3Zoom?.constrain()(nextTransform, extent, translateExtent);\n        d3Zoom.transform(d3Selection, constrainedTransform);\n        const transformChanged = transform[0] !== constrainedTransform.x ||\n            transform[1] !== constrainedTransform.y ||\n            transform[2] !== constrainedTransform.k;\n        return transformChanged;\n    },\n    cancelConnection: () => set({\n        connectionNodeId: initialState.connectionNodeId,\n        connectionHandleId: initialState.connectionHandleId,\n        connectionHandleType: initialState.connectionHandleType,\n        connectionStatus: initialState.connectionStatus,\n        connectionStartHandle: initialState.connectionStartHandle,\n        connectionEndHandle: initialState.connectionEndHandle,\n    }),\n    reset: () => set({ ...initialState }),\n}), Object.is);\n\nconst ReactFlowProvider = ({ children }) => {\n    const storeRef = useRef(null);\n    if (!storeRef.current) {\n        storeRef.current = createRFStore();\n    }\n    return React.createElement(Provider$1, { value: storeRef.current }, children);\n};\nReactFlowProvider.displayName = 'ReactFlowProvider';\n\nconst Wrapper = ({ children }) => {\n    const isWrapped = useContext(StoreContext);\n    if (isWrapped) {\n        // we need to wrap it with a fragment because it's not allowed for children to be a ReactNode\n        // https://github.com/DefinitelyTyped/DefinitelyTyped/issues/18051\n        return React.createElement(React.Fragment, null, children);\n    }\n    return React.createElement(ReactFlowProvider, null, children);\n};\nWrapper.displayName = 'ReactFlowWrapper';\n\nconst defaultNodeTypes = {\n    input: InputNode$1,\n    default: DefaultNode$1,\n    output: OutputNode$1,\n    group: GroupNode,\n};\nconst defaultEdgeTypes = {\n    default: BezierEdge,\n    straight: StraightEdge,\n    step: StepEdge,\n    smoothstep: SmoothStepEdge,\n    simplebezier: SimpleBezierEdge,\n};\nconst initNodeOrigin = [0, 0];\nconst initSnapGrid = [15, 15];\nconst initDefaultViewport = { x: 0, y: 0, zoom: 1 };\nconst wrapperStyle = {\n    width: '100%',\n    height: '100%',\n    overflow: 'hidden',\n    position: 'relative',\n    zIndex: 0,\n};\nconst ReactFlow = forwardRef(({ nodes, edges, defaultNodes, defaultEdges, className, nodeTypes = defaultNodeTypes, edgeTypes = defaultEdgeTypes, onNodeClick, onEdgeClick, onInit, onMove, onMoveStart, onMoveEnd, onConnect, onConnectStart, onConnectEnd, onClickConnectStart, onClickConnectEnd, onNodeMouseEnter, onNodeMouseMove, onNodeMouseLeave, onNodeContextMenu, onNodeDoubleClick, onNodeDragStart, onNodeDrag, onNodeDragStop, onNodesDelete, onEdgesDelete, onSelectionChange, onSelectionDragStart, onSelectionDrag, onSelectionDragStop, onSelectionContextMenu, onSelectionStart, onSelectionEnd, connectionMode = ConnectionMode.Strict, connectionLineType = ConnectionLineType.Bezier, connectionLineStyle, connectionLineComponent, connectionLineContainerStyle, deleteKeyCode = 'Backspace', selectionKeyCode = 'Shift', selectionOnDrag = false, selectionMode = SelectionMode.Full, panActivationKeyCode = 'Space', multiSelectionKeyCode = isMacOs() ? 'Meta' : 'Control', zoomActivationKeyCode = isMacOs() ? 'Meta' : 'Control', snapToGrid = false, snapGrid = initSnapGrid, onlyRenderVisibleElements = false, selectNodesOnDrag = true, nodesDraggable, nodesConnectable, nodesFocusable, nodeOrigin = initNodeOrigin, edgesFocusable, edgesUpdatable, elementsSelectable, defaultViewport = initDefaultViewport, minZoom = 0.5, maxZoom = 2, translateExtent = infiniteExtent, preventScrolling = true, nodeExtent, defaultMarkerColor = '#b1b1b7', zoomOnScroll = true, zoomOnPinch = true, panOnScroll = false, panOnScrollSpeed = 0.5, panOnScrollMode = PanOnScrollMode.Free, zoomOnDoubleClick = true, panOnDrag = true, onPaneClick, onPaneMouseEnter, onPaneMouseMove, onPaneMouseLeave, onPaneScroll, onPaneContextMenu, children, onEdgeUpdate, onEdgeContextMenu, onEdgeDoubleClick, onEdgeMouseEnter, onEdgeMouseMove, onEdgeMouseLeave, onEdgeUpdateStart, onEdgeUpdateEnd, edgeUpdaterRadius = 10, onNodesChange, onEdgesChange, noDragClassName = 'nodrag', noWheelClassName = 'nowheel', noPanClassName = 'nopan', fitView = false, fitViewOptions, connectOnClick = true, attributionPosition, proOptions, defaultEdgeOptions, elevateNodesOnSelect = true, elevateEdgesOnSelect = false, disableKeyboardA11y = false, autoPanOnConnect = true, autoPanOnNodeDrag = true, connectionRadius = 20, isValidConnection, onError, style, id, nodeDragThreshold, ...rest }, ref) => {\n    const rfId = id || '1';\n    return (React.createElement(\"div\", { ...rest, style: { ...style, ...wrapperStyle }, ref: ref, className: cc(['react-flow', className]), \"data-testid\": \"rf__wrapper\", id: id },\n        React.createElement(Wrapper, null,\n            React.createElement(GraphView$1, { onInit: onInit, onMove: onMove, onMoveStart: onMoveStart, onMoveEnd: onMoveEnd, onNodeClick: onNodeClick, onEdgeClick: onEdgeClick, onNodeMouseEnter: onNodeMouseEnter, onNodeMouseMove: onNodeMouseMove, onNodeMouseLeave: onNodeMouseLeave, onNodeContextMenu: onNodeContextMenu, onNodeDoubleClick: onNodeDoubleClick, nodeTypes: nodeTypes, edgeTypes: edgeTypes, connectionLineType: connectionLineType, connectionLineStyle: connectionLineStyle, connectionLineComponent: connectionLineComponent, connectionLineContainerStyle: connectionLineContainerStyle, selectionKeyCode: selectionKeyCode, selectionOnDrag: selectionOnDrag, selectionMode: selectionMode, deleteKeyCode: deleteKeyCode, multiSelectionKeyCode: multiSelectionKeyCode, panActivationKeyCode: panActivationKeyCode, zoomActivationKeyCode: zoomActivationKeyCode, onlyRenderVisibleElements: onlyRenderVisibleElements, selectNodesOnDrag: selectNodesOnDrag, defaultViewport: defaultViewport, translateExtent: translateExtent, minZoom: minZoom, maxZoom: maxZoom, preventScrolling: preventScrolling, zoomOnScroll: zoomOnScroll, zoomOnPinch: zoomOnPinch, zoomOnDoubleClick: zoomOnDoubleClick, panOnScroll: panOnScroll, panOnScrollSpeed: panOnScrollSpeed, panOnScrollMode: panOnScrollMode, panOnDrag: panOnDrag, onPaneClick: onPaneClick, onPaneMouseEnter: onPaneMouseEnter, onPaneMouseMove: onPaneMouseMove, onPaneMouseLeave: onPaneMouseLeave, onPaneScroll: onPaneScroll, onPaneContextMenu: onPaneContextMenu, onSelectionContextMenu: onSelectionContextMenu, onSelectionStart: onSelectionStart, onSelectionEnd: onSelectionEnd, onEdgeUpdate: onEdgeUpdate, onEdgeContextMenu: onEdgeContextMenu, onEdgeDoubleClick: onEdgeDoubleClick, onEdgeMouseEnter: onEdgeMouseEnter, onEdgeMouseMove: onEdgeMouseMove, onEdgeMouseLeave: onEdgeMouseLeave, onEdgeUpdateStart: onEdgeUpdateStart, onEdgeUpdateEnd: onEdgeUpdateEnd, edgeUpdaterRadius: edgeUpdaterRadius, defaultMarkerColor: defaultMarkerColor, noDragClassName: noDragClassName, noWheelClassName: noWheelClassName, noPanClassName: noPanClassName, elevateEdgesOnSelect: elevateEdgesOnSelect, rfId: rfId, disableKeyboardA11y: disableKeyboardA11y, nodeOrigin: nodeOrigin, nodeExtent: nodeExtent }),\n            React.createElement(StoreUpdater, { nodes: nodes, edges: edges, defaultNodes: defaultNodes, defaultEdges: defaultEdges, onConnect: onConnect, onConnectStart: onConnectStart, onConnectEnd: onConnectEnd, onClickConnectStart: onClickConnectStart, onClickConnectEnd: onClickConnectEnd, nodesDraggable: nodesDraggable, nodesConnectable: nodesConnectable, nodesFocusable: nodesFocusable, edgesFocusable: edgesFocusable, edgesUpdatable: edgesUpdatable, elementsSelectable: elementsSelectable, elevateNodesOnSelect: elevateNodesOnSelect, minZoom: minZoom, maxZoom: maxZoom, nodeExtent: nodeExtent, onNodesChange: onNodesChange, onEdgesChange: onEdgesChange, snapToGrid: snapToGrid, snapGrid: snapGrid, connectionMode: connectionMode, translateExtent: translateExtent, connectOnClick: connectOnClick, defaultEdgeOptions: defaultEdgeOptions, fitView: fitView, fitViewOptions: fitViewOptions, onNodesDelete: onNodesDelete, onEdgesDelete: onEdgesDelete, onNodeDragStart: onNodeDragStart, onNodeDrag: onNodeDrag, onNodeDragStop: onNodeDragStop, onSelectionDrag: onSelectionDrag, onSelectionDragStart: onSelectionDragStart, onSelectionDragStop: onSelectionDragStop, noPanClassName: noPanClassName, nodeOrigin: nodeOrigin, rfId: rfId, autoPanOnConnect: autoPanOnConnect, autoPanOnNodeDrag: autoPanOnNodeDrag, onError: onError, connectionRadius: connectionRadius, isValidConnection: isValidConnection, nodeDragThreshold: nodeDragThreshold }),\n            React.createElement(Wrapper$1, { onSelectionChange: onSelectionChange }),\n            children,\n            React.createElement(Attribution, { proOptions: proOptions, position: attributionPosition }),\n            React.createElement(A11yDescriptions, { rfId: rfId, disableKeyboardA11y: disableKeyboardA11y }))));\n});\nReactFlow.displayName = 'ReactFlow';\n\nconst selector$1 = (s) => s.domNode?.querySelector('.react-flow__edgelabel-renderer');\nfunction EdgeLabelRenderer({ children }) {\n    const edgeLabelRenderer = useStore(selector$1);\n    if (!edgeLabelRenderer) {\n        return null;\n    }\n    return createPortal(children, edgeLabelRenderer);\n}\n\nfunction useUpdateNodeInternals() {\n    const store = useStoreApi();\n    return useCallback((id) => {\n        const { domNode, updateNodeDimensions } = store.getState();\n        const updateIds = Array.isArray(id) ? id : [id];\n        const updates = updateIds.reduce((res, updateId) => {\n            const nodeElement = domNode?.querySelector(`.react-flow__node[data-id=\"${updateId}\"]`);\n            if (nodeElement) {\n                res.push({ id: updateId, nodeElement, forceUpdate: true });\n            }\n            return res;\n        }, []);\n        requestAnimationFrame(() => updateNodeDimensions(updates));\n    }, []);\n}\n\nconst nodesSelector = (state) => state.getNodes();\nfunction useNodes() {\n    const nodes = useStore(nodesSelector, shallow);\n    return nodes;\n}\n\nconst edgesSelector = (state) => state.edges;\nfunction useEdges() {\n    const edges = useStore(edgesSelector, shallow);\n    return edges;\n}\n\nconst viewportSelector = (state) => ({\n    x: state.transform[0],\n    y: state.transform[1],\n    zoom: state.transform[2],\n});\nfunction useViewport() {\n    const viewport = useStore(viewportSelector, shallow);\n    return viewport;\n}\n\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction createUseItemsState(applyChanges) {\n    return (initialItems) => {\n        const [items, setItems] = useState(initialItems);\n        const onItemsChange = useCallback((changes) => setItems((items) => applyChanges(changes, items)), []);\n        return [items, setItems, onItemsChange];\n    };\n}\nconst useNodesState = createUseItemsState(applyNodeChanges);\nconst useEdgesState = createUseItemsState(applyEdgeChanges);\n\nfunction useOnViewportChange({ onStart, onChange, onEnd }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        store.setState({ onViewportChangeStart: onStart });\n    }, [onStart]);\n    useEffect(() => {\n        store.setState({ onViewportChange: onChange });\n    }, [onChange]);\n    useEffect(() => {\n        store.setState({ onViewportChangeEnd: onEnd });\n    }, [onEnd]);\n}\n\nfunction useOnSelectionChange({ onChange }) {\n    const store = useStoreApi();\n    useEffect(() => {\n        const nextSelectionChangeHandlers = [...store.getState().onSelectionChange, onChange];\n        store.setState({ onSelectionChange: nextSelectionChangeHandlers });\n        return () => {\n            const nextHandlers = store.getState().onSelectionChange.filter((fn) => fn !== onChange);\n            store.setState({ onSelectionChange: nextHandlers });\n        };\n    }, [onChange]);\n}\n\nconst selector = (options) => (s) => {\n    if (s.nodeInternals.size === 0) {\n        return false;\n    }\n    return s\n        .getNodes()\n        .filter((n) => (options.includeHiddenNodes ? true : !n.hidden))\n        .every((n) => n[internalsSymbol]?.handleBounds !== undefined);\n};\nconst defaultOptions = {\n    includeHiddenNodes: false,\n};\nfunction useNodesInitialized(options = defaultOptions) {\n    const initialized = useStore(selector(options));\n    return initialized;\n}\n\nexport { BaseEdge, BezierEdge, ConnectionLineType, ConnectionMode, EdgeLabelRenderer, EdgeText$1 as EdgeText, Handle$1 as Handle, MarkerType, PanOnScrollMode, Panel, Position, ReactFlow, ReactFlowProvider, SelectionMode, SimpleBezierEdge, SmoothStepEdge, StepEdge, StraightEdge, addEdge, applyEdgeChanges, applyNodeChanges, boxToRect, clamp, getBezierPath, getBoundsOfRects, getConnectedEdges, getIncomers, getMarkerEnd, getNodePositionWithOrigin, getNodesBounds, getOutgoers, getRectOfNodes, getSimpleBezierPath, getSmoothStepPath, getStraightPath, getTransformForBounds, getViewportForBounds, handleParentExpand, internalsSymbol, isEdge, isNode, rectToBox, updateEdge, useEdges, useEdgesState, useGetPointerPosition, useKeyPress, useNodeId, useNodes, useNodesInitialized, useNodesState, useOnSelectionChange, useOnViewportChange, useReactFlow, useStore, useStoreApi, useUpdateNodeInternals, useViewport };\n","export default function cc(names) {\n  if (typeof names === \"string\" || typeof names === \"number\") return \"\" + names\n\n  let out = \"\"\n\n  if (Array.isArray(names)) {\n    for (let i = 0, tmp; i < names.length; i++) {\n      if ((tmp = cc(names[i])) !== \"\") {\n        out += (out && \" \") + tmp\n      }\n    }\n  } else {\n    for (let k in names) {\n      if (names[k]) out += (out && \" \") + k\n    }\n  }\n\n  return out\n}\n","function shallow$1(objA, objB) {\n  if (Object.is(objA, objB)) {\n    return true;\n  }\n  if (typeof objA !== \"object\" || objA === null || typeof objB !== \"object\" || objB === null) {\n    return false;\n  }\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false;\n      }\n    }\n    return true;\n  }\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size)\n      return false;\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false;\n      }\n    }\n    return true;\n  }\n  const keysA = Object.keys(objA);\n  if (keysA.length !== Object.keys(objB).length) {\n    return false;\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (!Object.prototype.hasOwnProperty.call(objB, keysA[i]) || !Object.is(objA[keysA[i]], objB[keysA[i]])) {\n      return false;\n    }\n  }\n  return true;\n}\n\nvar shallow = (objA, objB) => {\n  if ((import.meta.env ? import.meta.env.MODE : void 0) !== \"production\") {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`.\"\n    );\n  }\n  return shallow$1(objA, objB);\n};\n\nexport { shallow as default, shallow$1 as shallow };\n"],"names":["randomUUID","crypto","bind","getRandomValues","rnds8","Uint8Array","rng","Error","byteToHex","i","push","toString","slice","unsafeStringify","arr","offset","arguments","length","undefined","options","buf","native","rnds","random","BackgroundVariant","LinePattern","_ref","color","dimensions","lineWidth","React","stroke","strokeWidth","d","concat","DotPattern","_ref2","radius","cx","cy","r","fill","defaultColor","Dots","Lines","Cross","defaultSize","selector","s","transform","patternId","rfId","Background","_ref3","id","variant","gap","size","style","className","ref","useRef","useStore","shallow","patternColor","patternSize","isDots","isCross","gapXY","Array","isArray","scaledGap","scaledSize","patternDimensions","patternOffset","cc","position","width","height","top","left","x","y","patternUnits","patternTransform","displayName","Background$1","memo","PlusIcon","xmlns","viewBox","MinusIcon","FitViewIcon","LockIcon","UnlockIcon","ControlButton","children","rest","type","isInteractive","nodesDraggable","nodesConnectable","elementsSelectable","minZoomReached","minZoom","maxZoomReached","maxZoom","Controls","showZoom","showFitView","showInteractive","fitViewOptions","onZoomIn","onZoomOut","onFitView","onInteractiveChange","store","useStoreApi","isVisible","setIsVisible","useState","zoomIn","zoomOut","fitView","useReactFlow","useEffect","Panel","onClick","onZoomInHandler","title","disabled","onZoomOutHandler","onFitViewHandler","onToggleInteractivity","setState","Controls$1","createStoreImpl","createState","state","listeners","Set","partial","replace","nextState","Object","is","previousState","assign","forEach","listener","getState","api","subscribe","add","delete","destroy","console","warn","clear","createStore","useDebugValue","ReactExports","useSyncExternalStoreWithSelector","useSyncExternalStoreExports","useStoreWithEqualityFn","equalityFn","getServerState","createWithEqualityFnImpl","defaultEqualityFn","useBoundStoreWithEqualityFn","noop","value","dispatch","t","n","_","test","Dispatch","this","get","name","c","set","callback","prototype","constructor","on","typename","types","T","trim","split","map","indexOf","hasOwnProperty","copy","call","that","args","apply","none","querySelector","empty","querySelectorAll","arrayAll","select","from","matches","childMatcher","node","find","childFirst","firstElementChild","filter","update","EnterNode","parent","datum","ownerDocument","namespaceURI","_next","_parent","__data__","bindIndex","group","enter","exit","data","groupLength","dataLength","bindKey","key","keyValue","nodeByKeyValue","Map","keyValues","has","arraylike","ascending","a","b","NaN","appendChild","child","insertBefore","next","xhtml","svg","xlink","xml","prefix","namespaces","space","local","attrRemove","removeAttribute","attrRemoveNS","fullname","removeAttributeNS","attrConstant","setAttribute","attrConstantNS","setAttributeNS","attrFunction","v","attrFunctionNS","defaultView","document","styleRemove","removeProperty","styleConstant","priority","setProperty","styleFunction","styleValue","getPropertyValue","getComputedStyle","propertyRemove","propertyConstant","propertyFunction","classArray","string","classList","ClassList","_node","_names","getAttribute","classedAdd","names","list","classedRemove","remove","classedTrue","classedFalse","classedFunction","textRemove","textContent","textConstant","textFunction","htmlRemove","innerHTML","htmlConstant","htmlFunction","raise","nextSibling","parentNode","lower","previousSibling","firstChild","creatorInherit","uri","documentElement","createElement","createElementNS","creatorFixed","namespace","constantNull","removeChild","selection_cloneShallow","clone","cloneNode","selection_cloneDeep","onRemove","__on","o","j","m","removeEventListener","onAdd","event","contextListener","addEventListener","dispatchEvent","params","window","CustomEvent","createEvent","initEvent","bubbles","cancelable","detail","dispatchConstant","dispatchFunction","join","splice","contains","root","Selection","groups","parents","_groups","_parents","selection","subgroups","subnode","subgroup","selectAll","selectorAll","selectChild","match","childFind","selectChildren","childrenFilter","matcher","enterGroup","updateGroup","previous","i0","i1","_enter","_exit","sparse","onenter","onupdate","onexit","append","merge","order","context","groups0","groups1","m0","m1","Math","min","merges","group0","group1","compareDocumentPosition","sort","compare","compareNode","sortgroups","sortgroup","nodes","each","attr","getAttributeNS","property","classed","text","html","create","creator","insert","before","deep","typenames","parseTypenames","Symbol","iterator","nonpassive","passive","nonpassivecapture","capture","nopropagation","stopImmediatePropagation","preventDefault","view","noevent","__noselect","MozUserSelect","yesdrag","noclick","setTimeout","cosh","exp","zoomRho","rho","rho2","rho4","zoom","p0","p1","S","ux0","uy0","w0","ux1","uy1","w1","dx","dy","d2","log","d1","sqrt","b0","b1","r0","r1","coshr0","u","sinh","duration","SQRT2","_1","max","_2","sourceEvent","currentTarget","ownerSVGElement","createSVGPoint","point","clientX","clientY","matrixTransform","getScreenCTM","inverse","getBoundingClientRect","rect","clientLeft","clientTop","pageX","pageY","taskHead","taskTail","frame","timeout","interval","pokeDelay","clockLast","clockNow","clockSkew","clock","performance","now","Date","setFrame","requestAnimationFrame","f","clearNow","Timer","_call","_time","timer","delay","time","restart","wake","e","timerFlush","t0","t2","t1","Infinity","sleep","nap","poke","clearTimeout","clearInterval","setInterval","elapsed","stop","TypeError","emptyOn","emptyTween","CREATED","SCHEDULED","STARTING","STARTED","RUNNING","ENDING","ENDED","index","timing","schedules","__transition","self","tween","schedule","start","tick","ease","init","active","svgNode","degrees","PI","identity","translateX","translateY","rotate","skewX","scaleX","scaleY","atan2","atan","interpolateTransform","parse","pxComma","pxParen","degParen","pop","q","xa","ya","xb","yb","number","translate","scale","interpolateTransformCss","DOMMatrix","WebKitCSSMatrix","isIdentity","decompose","interpolateTransformSvg","baseVal","consolidate","matrix","tweenRemove","tween0","tween1","tweenFunction","tweenValue","transition","_id","factory","extend","definition","Color","darker","brighter","reI","reN","reP","reHex","reRgbInteger","RegExp","reRgbPercent","reRgbaInteger","reRgbaPercent","reHslPercent","reHslaPercent","named","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","color_formatHex","rgb","formatHex","color_formatRgb","formatRgb","format","l","toLowerCase","exec","parseInt","rgbn","Rgb","rgba","hsla","g","opacity","rgb_formatHex","hex","rgb_formatRgb","clampa","clampi","isNaN","round","h","Hsl","hslConvert","clamph","clampt","hsl2rgb","m2","basis","v0","v1","v2","v3","t3","define","channels","displayable","formatHex8","formatHsl","k","pow","clamp","linear","gamma","nogamma","exponential","constant","rgbGamma","end","colorRgb","rgbSpline","spline","colors","values","floor","reA","reB","source","am","bm","bs","bi","lastIndex","one","zero","interpolateNumber","interpolateRgb","interpolateString","interpolate","value1","string00","interpolate0","string1","string0","string10","attrTweenNS","attrInterpolateNS","_value","attrTween","attrInterpolate","delayFunction","delayConstant","durationFunction","durationConstant","Transition","_name","newId","selection_prototype","inherit","id0","id1","on0","on1","sit","every","onFunction","styleTween","styleNull","listener0","styleMaybeRemove","styleInterpolate","textTween","textInterpolate","removeFunction","easeConstant","easeVarying","Promise","resolve","reject","cancel","interrupt","defaultTiming","ZoomEvent","target","defineProperties","enumerable","configurable","Transform","applyX","applyY","invert","location","invertX","invertY","rescaleX","domain","range","rescaleY","defaultFilter","ctrlKey","button","defaultExtent","SVGElement","hasAttribute","clientWidth","clientHeight","defaultTransform","__zoom","defaultWheelDelta","deltaY","deltaMode","defaultTouchable","navigator","maxTouchPoints","defaultConstrain","extent","translateExtent","dx0","dx1","dy0","dy1","DragEvent","subject","identifier","defaultContainer","defaultSubject","StoreContext","createContext","Provider$1","Provider","errorMessages","error001","error002","error003","nodeType","error004","error005","error006","error007","error009","error008","sourceHandle","edge","targetHandle","error010","error011","edgeType","error012","zustandErrorMessage","useContext","useMemo","selector$g","userSelectionActive","pointerEvents","positionClasses","Attribution","proOptions","hideAttribution","href","rel","EdgeText$1","label","labelStyle","labelShowBg","labelBgStyle","labelBgPadding","labelBgBorderRadius","edgeRef","edgeTextBbox","setEdgeTextBbox","edgeTextClasses","current","textBbox","getBBox","visibility","rx","ry","getDimensions","offsetWidth","offsetHeight","val","clampPosition","calcAutoPanVelocity","abs","calcAutoPan","pos","bounds","getHostForElement","element","_element$getRootNode","_window","getRootNode","getBoundsOfBoxes","box1","box2","x2","y2","rectToBox","_ref4","boxToRect","_ref5","nodeToRect","positionAbsolute","getOverlappingArea","rectA","rectB","xOverlap","yOverlap","ceil","isRectObject","obj","isNumeric","isFinite","internalsSymbol","for","elementSelectionKeys","devWarn","message","process","isInputDOMNode","_kbEvent$composedPath","kbEvent","isReactKeyboardEvent","nativeEvent","composedPath","includes","nodeName","closest","isMouseEvent","getEventPosition","_event$touches","_event$touches2","_bounds$left","_bounds$top","isMouseTriggered","evtX","touches","evtY","isMacOs","_navigator","userAgent","BaseEdge","_ref6","path","labelX","labelY","markerEnd","markerStart","interactionWidth","strokeOpacity","getMouseHandler$1","handler","edges","getEdgeCenter","_ref7","sourceX","sourceY","targetX","targetY","xOffset","centerX","yOffset","getBezierEdgeCenter","_ref8","sourceControlX","sourceControlY","targetControlX","targetControlY","centerY","ConnectionMode","PanOnScrollMode","SelectionMode","ConnectionLineType","MarkerType","Position","getControl","_ref9","x1","y1","Left","Right","getSimpleBezierPath","_ref10","sourcePosition","Bottom","targetPosition","Top","offsetX","offsetY","SimpleBezierEdge","_ref11","handleDirections","getDirection","_ref12","distance","getSmoothStepPath","_ref14","borderRadius","points","_ref13","center","sourceDir","targetDir","sourceGapped","targetGapped","dir","dirAccessor","currDir","sourceGapOffset","targetGapOffset","defaultCenterX","defaultCenterY","defaultOffsetX","defaultOffsetY","verticalSplit","horizontalSplit","sourceTarget","targetSource","diff","gapOffset","dirAccessorOpposite","isSameDir","sourceGtTargetOppo","sourceLtTargetOppo","sourceGapPoint","targetGapPoint","getPoints","reduce","res","p","segment","bendSize","xDir","yDir","getBend","SmoothStepEdge","_ref15","pathOptions","StepEdge","props","_props$pathOptions2","_props$pathOptions","StraightEdge","_ref17","_ref16","getStraightPath","calculateControlOffset","curvature","getControlWithCurvature","_ref18","getBezierPath","_ref19","BezierEdge","_ref20","NodeIdContext","Consumer","getEdgeId","_ref21","getMarkerId","marker","idPrefix","keys","addEdge","edgeParams","connectionExists","some","el","pointToRendererPoint","_ref22","_ref23","snapToGrid","_ref24","tx","ty","tScale","snapX","snapY","rendererPointToPoint","_ref25","_ref26","getNodePositionWithOrigin","_node$width","_node$height","nodeOrigin","getNodesBounds","box","currBox","getNodesInside","nodeInternals","partially","excludeNonSelectableNodes","paneRect","visibleNodes","selectable","hidden","nodeRect","overlappingArea","dragging","getConnectedEdges","nodeIds","getViewportForBounds","padding","xZoom","yZoom","clampedZoom","getD3Transition","getHandles","handleBounds","currentHandle","_node$positionAbsolut","_node$positionAbsolut2","_node$positionAbsolut3","_node$positionAbsolut4","nodeId","nullConnection","defaultResult","handleDomNode","isValid","connection","endHandle","isValidHandle","handle","connectionMode","fromNodeId","fromHandleId","fromType","isValidConnection","doc","isTarget","handleToCheck","result","handleType","getHandleType","handleNodeId","handleId","connectable","connectableEnd","Strict","edgeUpdaterType","resetRecentHandle","getConnectionStatus","isInsideConnectionRadius","isHandleValid","connectionStatus","handlePointerDown","_ref31","onConnect","onEdgeUpdateEnd","domNode","autoPanOnConnect","connectionRadius","onConnectStart","panBy","getNodes","cancelConnection","closestHandle","autoPanId","clickedHandle","elementFromPoint","containerBounds","prevActiveHandle","connectionPosition","autoPanStarted","handleLookup","_ref30","sourceHandles","targetHandles","getHandleLookup","autoPan","xMovement","yMovement","onPointerMove","validHandleResult","handles","validator","handleBelow","elementsFromPoint","closestHandles","minDistance","hasValidHandle","_ref27","hasTargetHandle","_ref28","_ref29","getClosestHandle","connectionEndHandle","toggle","onPointerUp","_getState$onConnectEn","_getState","onConnectEnd","cancelAnimationFrame","connectionNodeId","connectionHandleId","connectionHandleType","connectionStartHandle","alwaysValid","selector$f","connectOnClick","noPanClassName","Handle","forwardRef","_ref32","isConnectable","isConnectableStart","isConnectableEnd","onMouseDown","onTouchStart","connecting","clickConnecting","connectingSelector","startHandle","connectionClickStartHandle","clickHandle","_store$getState$onErr","_store$getState","onError","onConnectExtended","defaultEdgeOptions","onConnectAction","hasDefaultEdges","setEdges","onPointerDown","connectablestart","connectableend","connectionindicator","onClickConnectStart","onClickConnectEnd","isValidConnectionStore","isValidConnectionHandler","Handle$1","DefaultNode","_ref33","DefaultNode$1","InputNode","_ref34","InputNode$1","OutputNode","_ref35","OutputNode$1","GroupNode","selector$e","selectedNodes","selected","selectedEdges","selectId","areEqual","SelectionListener","_ref36","onSelectionChange","fn","changeSelector","Wrapper$1","_ref37","storeHasSelectionChange","selector$d","setNodes","setDefaultNodesAndEdges","setMinZoom","setMaxZoom","setTranslateExtent","setNodeExtent","reset","useStoreUpdater","setStoreState","useDirectStoreUpdater","StoreUpdater","_ref38","defaultNodes","defaultEdges","nodesFocusable","edgesFocusable","edgesUpdatable","elevateNodesOnSelect","nodeExtent","onNodesChange","onEdgesChange","snapGrid","onNodesDelete","onEdgesDelete","onNodeDrag","onNodeDragStart","onNodeDragStop","onSelectionDrag","onSelectionDragStart","onSelectionDragStop","autoPanOnNodeDrag","nodeDragThreshold","edgesWithDefaults","display","ariaLiveStyle","margin","border","overflow","clip","clipPath","ARIA_NODE_DESC_KEY","ARIA_EDGE_DESC_KEY","ARIA_LIVE_MESSAGE","selector$c","ariaLiveMessage","AriaLiveMessage","_ref39","A11yDescriptions","_ref40","disableKeyboardA11y","useKeyPress","keyCode","actInsideInputWithModifier","keyPressed","setKeyPressed","modifierPressed","pressedKeys","keyCodes","keysToWatch","kc","keysFlat","item","downHandler","metaKey","shiftKey","keyOrCode","useKeyOrCode","code","isMatchingKey","upHandler","resetHandler","isUp","eventCode","calculateXYZPosition","_result$x","_result$y","_parentNode$internals","_parentNode$internals2","_result$z","_parentNode$internals3","_parentNode$internals4","_result$z2","parentNodePosition","z","updateAbsoluteNodePositions","parentNodes","_node$internalsSymbol","_node$internalsSymbol2","isParent","createNodeInternals","nextNodeInternals","selectedNodeZ","_currInternals$intern","zIndex","currInternals","internals","defineProperty","d3Zoom","d3Selection","fitViewOnInitDone","fitViewOnInit","isInitialFitView","initial","_options$nodes","includeHiddenNodes","optionNode","nodesInitialized","_options$minZoom","_options$maxZoom","_options$padding","nextTransform","zoomIdentity","handleControlledNodeSelectionChange","nodeChanges","change","handleControlledEdgeSelectionChange","edgeChanges","updateNodesAndEdgesSelections","_ref41","changedNodes","changedEdges","hasDefaultNodes","initialViewportHelper","zoomTo","getZoom","setViewport","getViewport","setCenter","fitBounds","project","screenToFlowPosition","flowToScreenPosition","viewportInitialized","selector$b","useViewportHelper","viewportHelperFunctions","scaleBy","zoomLevel","scaleTo","_transform$x","_transform$y","_transform$zoom","nextZoom","_options$padding2","domX","domY","relativePosition","rendererPosition","viewportHelper","useCallback","getNode","getEdges","getEdge","payload","nextNodes","changes","nextEdges","addNodes","addEdges","toObject","viewport","deleteElements","_ref42","nodesDeleted","edgesDeleted","edgeIds","nodesToRemove","parentHit","deletable","deletableEdges","initialHitEdges","connectedEdges","edgesToRemove","edgeIdsToRemove","getNodeRect","nodeOrRect","isRect","getIntersectingNodes","currNodeRect","isNodeIntersecting","area","deleteKeyOptions","containerStyle","eventToFlowTransform","eventTransform","isWrappedWithClass","isRightClickPan","panOnDrag","usedButton","wheelDelta","factor","selector$a","d3ZoomHandler","ZoomPane","_ref44","onMove","onMoveStart","onMoveEnd","onPaneContextMenu","zoomOnScroll","zoomOnPinch","panOnScroll","panOnScrollSpeed","panOnScrollMode","Free","zoomOnDoubleClick","defaultViewport","zoomActivationKeyCode","preventScrolling","noWheelClassName","timerId","isZoomingOrPanning","zoomedWithRightMouseButton","zoomPane","prevTransform","zoomActivationKeyPressed","mouseButton","isPanScrolling","panScrollTimeout","rendererNode","resizeObserver","updateDimensions","_store$getState$onErr2","_store$getState2","ResizeObserver","observe","unobserve","useResizeHandler","bbox","d3ZoomInstance","touchstarting","touchfirst","touchending","constrain","touchable","scaleExtent","interpolateZoom","touchDelay","wheelDelay","clickDistance2","tapDistance","wheeled","mousedowned","dblclicked","touchstarted","touchmoved","touchended","centroid","gesture","w","clean","__zooming","Gesture","taps","_len","_key","pointer","wheel","mouse","_len2","_key2","moved","x0","y0","dragEnable","dragDisable","_len3","_key3","changedTouches","k1","_len4","_key4","started","touch0","touch1","_len5","_key5","l0","l1","dp","dl","_len6","_key6","hypot","collection","translateBy","translateTo","emit","clickDistance","updatedTransform","constrainedTransform","currentZoom","_isMacOs","pinchDelta","deltaNormalize","deltaX","Vertical","Horizontal","internal","nextViewport","onViewportChangeStart","onViewportChange","onViewportChangeEnd","_event$sourceEvent","_event$sourceEvent2","flowTransform","paneDragging","_mouseButton$current","_event$sourceEvent3","_mouseButton$current2","prevViewport","viewChanged","zoomScroll","pinchZoom","buttonAllowed","selector$9","userSelectionRect","UserSelection","handleParentExpand","updateItem","extendWidth","extendHeight","_parent$style$width","_parent$style$height","xDiff","yDiff","applyChanges","elements","initElements","currentChanges","currentChange","expandParent","updateStyle","resizing","applyNodeChanges","createSelectionChange","getSelectionChanges","items","selectedIds","willBeSelected","wrapHandler","containerRef","selector$8","Pane","_ref45","isSelecting","selectionMode","Full","onSelectionStart","onSelectionEnd","onPaneClick","onPaneScroll","onPaneMouseEnter","onPaneMouseMove","onPaneMouseLeave","container","prevSelectedNodesCount","prevSelectedEdgesCount","resetUserSelection","resetSelectedElements","nodesSelectionActive","onWheel","hasActiveSelection","onContextMenu","onMouseEnter","startX","startY","onMouseMove","_userSelectionRect$st","_userSelectionRect$st2","mousePos","nextUserSelectRect","Partial","selectedEdgeIds","selectedNodeIds","onMouseUp","onMouseLeave","isParentSelected","hasSelector","nodeRef","_current","parentElement","getDragItems","draggable","_n$positionAbsolute$x","_n$positionAbsolute","_n$positionAbsolute$y","_n$positionAbsolute2","delta","calcNextPosition","nextPosition","clampedNodeExtent","clampNodeExtent","currentExtent","parentX","parentY","parentPosition","getEventHandlerParams","_ref46","dragItems","extentedDragItems","getHandleBounds","nodeElement","handlesArray","nodeBounds","nodeOffset","getMouseHandler","handleNodeClick","_ref47","unselect","addSelectedNodes","unselectNodesAndEdges","multiSelectionActive","_nodeRef$current","blur","wrapSelectionDragFunc","selectionFunc","useDrag","_ref49","noDragClassName","handleSelector","isSelectable","selectNodesOnDrag","setDragging","lastPos","mousePosition","dragEvent","dragStarted","getPointerPosition","_ref48","pointerPos","xSnapped","ySnapped","useGetPointerPosition","updateNodes","_ref50","updateNodePositions","hasChange","nodesBox","adjustedNodeExtent","_n$width","_n$height","updatedPos","onDrag","currentNode","_lastPos$current$x","_lastPos$current$y","startDrag","onStart","_nodeInternals$get","dragHandler","mousedownx","mousedowny","mousemoving","gestures","drag","beforestart","mousemoved","mouseupped","nodrag","touch","_lastPos$current$x2","_lastPos$current","_lastPos$current$y2","_lastPos$current2","onStop","useUpdateNodePositions","xVelo","yVelo","isShiftPressed","positionDiffX","positionDiffY","arrowKeyDiffs","ArrowUp","ArrowDown","ArrowLeft","ArrowRight","wrapNode","NodeComponent","NodeWrapper","_ref51","xPos","yPos","xPosOrigin","yPosOrigin","onDoubleClick","isDraggable","isFocusable","dragHandle","initialized","ariaLabel","prevSourcePosition","prevTargetPosition","prevType","hasPointerEvents","updatePositions","onMouseEnterHandler","onMouseMoveHandler","onMouseLeaveHandler","onContextMenuHandler","onDoubleClickHandler","currNode","typeChanged","sourcePosChanged","targetPosChanged","updateNodeDimensions","forceUpdate","onKeyDown","tabIndex","role","selector$7","transformString","NodesSelection$1","_ref52","onSelectionContextMenu","_nodeRef$current2","focus","preventScroll","selector$6","FlowRenderer","_ref53","deleteKeyCode","selectionKeyCode","selectionOnDrag","multiSelectionKeyCode","panActivationKeyCode","_panOnScroll","_panOnDrag","selectionKeyPressed","panActivationKeyPressed","_ref43","deleteKeyPressed","multiSelectionKeyPressed","useGlobalKeyHandler","FlowRenderer$1","createNodeTypes","nodeTypes","input","default","output","selector$5","NodeRenderer","onlyRenderVisible","onlyRenderVisibleElements","resizeObserverRef","observer","entries","updates","entry","_resizeObserverRef$cu","disconnect","_clampedPosition$x","_clampedPosition$y","_node$width2","_node$height2","_node$internalsSymbol3","_node$internalsSymbol4","_node$internalsSymbol5","focusable","clampedPosition","posX","posY","posOrigin","_ref54","origin","getPositionWithOrigin","onNodeClick","onNodeMouseEnter","onNodeMouseMove","onNodeMouseLeave","onNodeContextMenu","onNodeDoubleClick","NodeRenderer$1","shiftX","shift","shiftY","EdgeUpdaterClassName","EdgeAnchor","_ref55","onMouseOut","alwaysValidConnection","wrapEdge","EdgeComponent","EdgeWrapper","_ref56","onEdgeDoubleClick","animated","sourceHandleId","targetHandleId","edgeUpdaterRadius","onEdgeUpdate","onEdgeUpdateStart","isUpdatable","updateHover","setUpdateHover","updating","setUpdating","markerStartUrl","markerEndUrl","onEdgeDoubleClickHandler","onEdgeContextMenu","onEdgeMouseEnter","onEdgeMouseMove","onEdgeMouseLeave","handleEdgeUpdater","isSourceHandle","evt","onEdgeUpdaterMouseEnter","onEdgeUpdaterMouseOut","inactive","addSelectedEdges","_edgeRef$current","_edgeRef$current2","createEdgeTypes","edgeTypes","straight","bezier","step","smoothstep","simplebezier","getHandlePosition","getHandle","getNodeData","_node$internalsSymbol6","_node$positionAbsolut5","_node$positionAbsolut6","_node$positionAbsolut7","_node$positionAbsolut8","defaultEdgeTree","level","isMaxLevel","useVisibleEdges","elevateEdgesOnSelect","sourceNode","targetNode","_ref57","sourcePos","targetPos","sourceWidth","sourceHeight","targetWidth","targetHeight","edgeBox","isEdgeVisible","maxLevel","levelLookup","tree","hasZIndex","_sourceNode$internals","_targetNode$internals","edgeOrConnectedNodeSelected","selectedZIndex","edgeTree","_ref58","groupEdgesByZLevel","MarkerSymbols","Arrow","_ref59","strokeLinecap","strokeLinejoin","ArrowClosed","_ref60","Marker","_ref61","markerUnits","orient","_store$getState$onErr3","_store$getState3","useMarkerSymbol","markerWidth","markerHeight","refX","refY","MarkerDefinitions","_ref63","markers","_ref62","ids","markerId","localeCompare","markerSelector","MarkerDefinitions$1","selector$4","EdgeRenderer","_ref64","defaultMarkerColor","onEdgeClick","_ref65","_targetHandleBounds$t","_targetHandleBounds$s","sourceNodeRect","sourceHandleBounds","sourceIsValid","targetNodeRect","targetHandleBounds","targetIsValid","targetNodeHandles","updatable","getEdgePositions","sourceHandlePos","targetHandlePos","EdgeRenderer$1","selector$3","Viewport","_ref66","oppositePosition","ConnectionLine","_ref67","_fromNode$internalsSy","_fromNode$width","_fromNode$height","_fromNode$positionAbs","_fromNode$positionAbs2","_fromNode$positionAbs3","_fromNode$positionAbs4","Bezier","CustomComponent","fromNode","toX","toY","fromHandleBounds","Loose","fromHandle","fromHandleX","fromHandleY","fromX","fromY","fromPosition","toPosition","connectionLineType","connectionLineStyle","dAttr","pathParams","Step","SmoothStep","SimpleBezier","selector$2","ConnectionLineWrapper","_ref68","component","useNodeOrEdgeTypes","nodeOrEdgeTypes","createTypes","GraphView","_ref69","onInit","connectionLineComponent","connectionLineContainerStyle","nodeTypesWrapped","edgeTypesWrapped","rfInstance","isInitialized","useOnInitHandler","GraphView$1","infiniteExtent","Number","NEGATIVE_INFINITY","POSITIVE_INFINITY","initialState","fitViewOnInitOptions","createRFStore","createWithEqualityFn","viewportNode","m22","DOMMatrixReadOnly","nextFitViewOnInitDone","nodeDragItems","positionChanged","triggerNodeChanges","edgeId","storeEdges","edgesToUnselect","_get$d3Zoom","ReactFlowProvider","_ref70","storeRef","Wrapper","_ref71","defaultNodeTypes","defaultEdgeTypes","initNodeOrigin","initSnapGrid","initDefaultViewport","wrapperStyle","ReactFlow","_ref72","attributionPosition","useUpdateNodeInternals","updateId","createUseItemsState","initialItems","setItems","onItemsChange","useNodesState","useEdgesState","out","tmp","shallow$1","objA","objB","keysA"],"sourceRoot":""}