"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[376],{2682:(t,e,o)=>{o.r(e),o.d(e,{default:()=>F});var a=o(30969),n=o(69405),i=o(2383),r=o(92426),l=o.n(r),d=o(46138),c=o(25139),s=o(38361),u=o(34777),p=o(98483),h=o(11100),m=o(27265),x=o(82309),g=o(56349),v=o(7836),b=o(10741),Z=o(92472),f=o(61758),j=o(85481),C=o(91243),B=o(94702),y=o(55705),w=o(52312),R=o(76003),S=o(48349),k=o(55878),D=o(42586),E=o(60990),z=o(60806),N=o(33926),T=o(49009);const M=o.p+"static/media/credential_empty.2c841d60379142cf34367c467ba2964a.svg";var W=o(11021),L=o(37574);const F=()=>{const t=(0,B.Z)(),e=(0,n.v9)((t=>t.customization)),o=(0,n.I0)();(0,N.Z)();const r=function(){return o((0,i.yv)(...arguments))},F=function(){return o((0,i.sy)(...arguments))},[P,A]=(0,a.useState)(!1),[G,I]=(0,a.useState)({}),[V,O]=(0,a.useState)(!1),[H,Y]=(0,a.useState)({}),[q,_]=(0,a.useState)([]),[U,J]=(0,a.useState)([]),{confirm:K}=(0,z.Z)(),Q=(0,E.Z)(D.Z.getAllCredentials),X=(0,E.Z)(D.Z.getAllComponentsCredentials),[$,tt]=(0,a.useState)("");const et=()=>{A(!1),O(!1),Q.request()};return(0,a.useEffect)((()=>{Q.request(),X.request()}),[]),(0,a.useEffect)((()=>{Q.data&&_(Q.data)}),[Q.data]),(0,a.useEffect)((()=>{X.data&&(J(X.data),o({type:i.p9,componentsCredentials:X.data}))}),[X.data,o]),(0,L.jsxs)(L.Fragment,{children:[(0,L.jsxs)(y.Z,{sx:{background:e.isDarkMode?t.palette.common.black:""},children:[(0,L.jsx)(c.Z,{flexDirection:"row",children:(0,L.jsx)(s.Z,{sx:{flexGrow:1},children:(0,L.jsxs)(u.Z,{disableGutters:!0,style:{margin:1,padding:1,paddingBottom:10,display:"flex",justifyContent:"space-between",width:"100%"},children:[(0,L.jsx)("h1",{children:"Credentials\xa0"}),(0,L.jsx)(p.Z,{size:"small",sx:{display:{xs:"none",sm:"block"},ml:3},variant:"outlined",placeholder:"Search credential name",onChange:t=>{tt(t.target.value)},InputProps:{startAdornment:(0,L.jsx)(h.Z,{position:"start",children:(0,L.jsx)(T.jVj,{})})}}),(0,L.jsx)(s.Z,{sx:{flexGrow:1}}),(0,L.jsx)(m.Z,{sx:{maxHeight:40},disableElevation:!0,variant:"contained","aria-label":"outlined primary button group",children:(0,L.jsx)(m.Z,{disableElevation:!0,"aria-label":"outlined primary button group",children:(0,L.jsx)(w.S,{variant:"contained",sx:{color:"white",mr:1,height:37},onClick:()=>{I({title:"Add New Credential",componentsCredentials:U}),A(!0)},startIcon:(0,L.jsx)(T.SC9,{}),children:"Add Credential"})})})]})})}),q.length<=0&&(0,L.jsxs)(c.Z,{sx:{alignItems:"center",justifyContent:"center"},flexDirection:"column",children:[(0,L.jsx)(s.Z,{sx:{p:2,height:"auto"},children:(0,L.jsx)("img",{style:{objectFit:"cover",height:"30vh",width:"auto"},src:M,alt:"CredentialEmptySVG"})}),(0,L.jsx)("div",{children:"No Credentials Yet"})]}),q.length>0&&(0,L.jsx)(x.Z,{component:g.Z,children:(0,L.jsxs)(v.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,L.jsx)(b.Z,{children:(0,L.jsxs)(Z.Z,{children:[(0,L.jsx)(f.Z,{children:"Name"}),(0,L.jsx)(f.Z,{children:"Last Updated"}),(0,L.jsx)(f.Z,{children:"Created"}),(0,L.jsx)(f.Z,{children:" "}),(0,L.jsx)(f.Z,{children:" "})]})}),(0,L.jsx)(j.Z,{children:q.filter((function(t){return t.credentialName.toLowerCase().indexOf($.toLowerCase())>-1})).map(((t,e)=>(0,L.jsxs)(Z.Z,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,L.jsx)(f.Z,{component:"th",scope:"row",children:(0,L.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,L.jsx)("div",{style:{width:25,height:25,marginRight:10,borderRadius:"50%"},children:(0,L.jsx)("img",{style:{width:"100%",height:"100%",borderRadius:"50%",objectFit:"contain"},alt:t.credentialName,src:"".concat(W.v2,"/api/v1/components-credentials-icon/").concat(t.credentialName)})}),t.name]})}),(0,L.jsx)(f.Z,{children:l()(t.updatedDate).format("DD-MMM-YY")}),(0,L.jsx)(f.Z,{children:l()(t.createdDate).format("DD-MMM-YY")}),(0,L.jsx)(f.Z,{children:(0,L.jsx)(C.Z,{title:"Edit",color:"primary",onClick:()=>(t=>{Y({type:"EDIT",cancelButtonName:"Cancel",confirmButtonName:"Save",data:t}),O(!0)})(t),children:(0,L.jsx)(T.yl5,{})})}),(0,L.jsx)(f.Z,{children:(0,L.jsx)(C.Z,{title:"Delete",color:"error",onClick:()=>(async t=>{const e={title:"Delete",description:"Delete credential ".concat(t.name,"?"),confirmButtonName:"Delete",cancelButtonName:"Cancel"};if(await K(e))try{(await D.Z.deleteCredential(t.id)).data&&(r({message:"Credential deleted",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:t=>(0,L.jsx)(d.Z,{style:{color:"white"},onClick:()=>F(t),children:(0,L.jsx)(T.kLi,{})})}}),et())}catch(o){const t=o.response.data||"".concat(o.response.status,": ").concat(o.response.statusText);r({message:"Failed to delete Credential: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:t=>(0,L.jsx)(d.Z,{style:{color:"white"},onClick:()=>F(t),children:(0,L.jsx)(T.kLi,{})})}}),onCancel()}})(t),children:(0,L.jsx)(T.IT9,{})})})]},e)))})]})})]}),(0,L.jsx)(R.Z,{show:P,dialogProps:G,onCancel:()=>A(!1),onCredentialSelected:t=>{A(!1),(t=>{Y({type:"ADD",cancelButtonName:"Cancel",confirmButtonName:"Add",credentialComponent:t}),O(!0)})(t)}}),(0,L.jsx)(k.Z,{show:V,dialogProps:H,onCancel:()=>O(!1),onConfirm:et}),(0,L.jsx)(S.Z,{})]})}},27265:(t,e,o)=>{o.d(e,{Z:()=>j});var a=o(31461),n=o(7896),i=o(30969),r=o(87023),l=o(26540),d=o(74262);var c=o(24099),s=o(45971),u=o(17363),p=o(62746),h=o(2975);function m(t){return(0,h.Z)("MuiButtonGroup",t)}const x=(0,p.Z)("MuiButtonGroup",["root","contained","outlined","text","disableElevation","disabled","firstButton","fullWidth","vertical","grouped","groupedHorizontal","groupedVertical","groupedText","groupedTextHorizontal","groupedTextVertical","groupedTextPrimary","groupedTextSecondary","groupedOutlined","groupedOutlinedHorizontal","groupedOutlinedVertical","groupedOutlinedPrimary","groupedOutlinedSecondary","groupedContained","groupedContainedHorizontal","groupedContainedVertical","groupedContainedPrimary","groupedContainedSecondary","lastButton","middleButton"]);var g=o(68734),v=o(94766),b=o(37574);const Z=["children","className","color","component","disabled","disableElevation","disableFocusRipple","disableRipple","fullWidth","orientation","size","variant"],f=(0,s.ZP)("div",{name:"MuiButtonGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:o}=t;return[{["& .".concat(x.grouped)]:e.grouped},{["& .".concat(x.grouped)]:e["grouped".concat((0,c.Z)(o.orientation))]},{["& .".concat(x.grouped)]:e["grouped".concat((0,c.Z)(o.variant))]},{["& .".concat(x.grouped)]:e["grouped".concat((0,c.Z)(o.variant)).concat((0,c.Z)(o.orientation))]},{["& .".concat(x.grouped)]:e["grouped".concat((0,c.Z)(o.variant)).concat((0,c.Z)(o.color))]},{["& .".concat(x.firstButton)]:e.firstButton},{["& .".concat(x.lastButton)]:e.lastButton},{["& .".concat(x.middleButton)]:e.middleButton},e.root,e[o.variant],!0===o.disableElevation&&e.disableElevation,o.fullWidth&&e.fullWidth,"vertical"===o.orientation&&e.vertical]}})((t=>{let{theme:e,ownerState:o}=t;return(0,n.Z)({display:"inline-flex",borderRadius:(e.vars||e).shape.borderRadius},"contained"===o.variant&&{boxShadow:(e.vars||e).shadows[2]},o.disableElevation&&{boxShadow:"none"},o.fullWidth&&{width:"100%"},"vertical"===o.orientation&&{flexDirection:"column"},{["& .".concat(x.grouped)]:(0,n.Z)({minWidth:40,"&:hover":(0,n.Z)({},"contained"===o.variant&&{boxShadow:"none"})},"contained"===o.variant&&{boxShadow:"none"}),["& .".concat(x.firstButton,",& .").concat(x.middleButton)]:(0,n.Z)({},"horizontal"===o.orientation&&{borderTopRightRadius:0,borderBottomRightRadius:0},"vertical"===o.orientation&&{borderBottomRightRadius:0,borderBottomLeftRadius:0},"text"===o.variant&&"horizontal"===o.orientation&&{borderRight:e.vars?"1px solid rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(x.disabled)]:{borderRight:"1px solid ".concat((e.vars||e).palette.action.disabled)}},"text"===o.variant&&"vertical"===o.orientation&&{borderBottom:e.vars?"1px solid rgba(".concat(e.vars.palette.common.onBackgroundChannel," / 0.23)"):"1px solid ".concat("light"===e.palette.mode?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),["&.".concat(x.disabled)]:{borderBottom:"1px solid ".concat((e.vars||e).palette.action.disabled)}},"text"===o.variant&&"inherit"!==o.color&&{borderColor:e.vars?"rgba(".concat(e.vars.palette[o.color].mainChannel," / 0.5)"):(0,d.Fq)(e.palette[o.color].main,.5)},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"transparent"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"transparent"},"contained"===o.variant&&"horizontal"===o.orientation&&{borderRight:"1px solid ".concat((e.vars||e).palette.grey[400]),["&.".concat(x.disabled)]:{borderRight:"1px solid ".concat((e.vars||e).palette.action.disabled)}},"contained"===o.variant&&"vertical"===o.orientation&&{borderBottom:"1px solid ".concat((e.vars||e).palette.grey[400]),["&.".concat(x.disabled)]:{borderBottom:"1px solid ".concat((e.vars||e).palette.action.disabled)}},"contained"===o.variant&&"inherit"!==o.color&&{borderColor:(e.vars||e).palette[o.color].dark},{"&:hover":(0,n.Z)({},"outlined"===o.variant&&"horizontal"===o.orientation&&{borderRightColor:"currentColor"},"outlined"===o.variant&&"vertical"===o.orientation&&{borderBottomColor:"currentColor"})}),["& .".concat(x.lastButton,",& .").concat(x.middleButton)]:(0,n.Z)({},"horizontal"===o.orientation&&{borderTopLeftRadius:0,borderBottomLeftRadius:0},"vertical"===o.orientation&&{borderTopRightRadius:0,borderTopLeftRadius:0},"outlined"===o.variant&&"horizontal"===o.orientation&&{marginLeft:-1},"outlined"===o.variant&&"vertical"===o.orientation&&{marginTop:-1})})})),j=i.forwardRef((function(t,e){const o=(0,u.Z)({props:t,name:"MuiButtonGroup"}),{children:d,className:s,color:p="primary",component:h="div",disabled:x=!1,disableElevation:j=!1,disableFocusRipple:C=!1,disableRipple:B=!1,fullWidth:y=!1,orientation:w="horizontal",size:R="medium",variant:S="outlined"}=o,k=(0,a.Z)(o,Z),D=(0,n.Z)({},o,{color:p,component:h,disabled:x,disableElevation:j,disableFocusRipple:C,disableRipple:B,fullWidth:y,orientation:w,size:R,variant:S}),E=(t=>{const{classes:e,color:o,disabled:a,disableElevation:n,fullWidth:i,orientation:r,variant:d}=t,s={root:["root",d,"vertical"===r&&"vertical",i&&"fullWidth",n&&"disableElevation"],grouped:["grouped","grouped".concat((0,c.Z)(r)),"grouped".concat((0,c.Z)(d)),"grouped".concat((0,c.Z)(d)).concat((0,c.Z)(r)),"grouped".concat((0,c.Z)(d)).concat((0,c.Z)(o)),a&&"disabled"],firstButton:["firstButton"],lastButton:["lastButton"],middleButton:["middleButton"]};return(0,l.Z)(s,m,e)})(D),z=i.useMemo((()=>({className:E.grouped,color:p,disabled:x,disableElevation:j,disableFocusRipple:C,disableRipple:B,fullWidth:y,size:R,variant:S})),[p,x,j,C,B,y,R,S,E.grouped]),N=function(t){return i.Children.toArray(t).filter((t=>i.isValidElement(t)))}(d),T=N.length,M=t=>{const e=0===t,o=t===T-1;return e&&o?"":e?E.firstButton:o?E.lastButton:E.middleButton};return(0,b.jsx)(f,(0,n.Z)({as:h,role:"group",className:(0,r.Z)(E.root,s),ref:e,ownerState:D},k,{children:(0,b.jsx)(g.Z.Provider,{value:z,children:N.map(((t,e)=>(0,b.jsx)(v.Z.Provider,{value:M(e),children:t},e)))})}))}))}}]);
//# sourceMappingURL=376.1b7b9e8b.chunk.js.map