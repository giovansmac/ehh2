"use strict";(self.webpackChunkflowise_ui=self.webpackChunkflowise_ui||[]).push([[1452],{42586:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(23917);const i={getAllCredentials:()=>n.Z.get("/credentials"),getCredentialsByName:e=>n.Z.get("/credentials?credentialName=".concat(e)),getAllComponentsCredentials:()=>n.Z.get("/components-credentials"),getSpecificCredential:e=>n.Z.get("/credentials/".concat(e)),getSpecificComponentCredential:e=>n.Z.get("/components-credentials/".concat(e)),createCredential:e=>n.Z.post("/credentials",e),updateCredential:(e,t)=>n.Z.put("/credentials/".concat(e),t),deleteCredential:e=>n.Z.delete("/credentials/".concat(e))}},60990:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(30969);const i=e=>{const[t,a]=(0,n.useState)(null),[i,l]=(0,n.useState)(null),[r,o]=(0,n.useState)(!1);return{data:t,error:i,loading:r,request:async function(){o(!0);try{const t=await e(...arguments);a(t.data)}catch(err){l(err||"Unexpected Error!")}finally{o(!1)}}}}},60806:(e,t,a)=>{a.d(t,{Z:()=>o});var n=a(30969),i=a(30864),l=a(2383);let r;const o=()=>{const[e,t]=(0,n.useContext)(i.Z),a=()=>{t({type:l.bA})};return{confirm:e=>(t({type:l.gN,payload:e}),new Promise((e=>{r=e}))),onConfirm:()=>{a(),r(!0)},onCancel:()=>{a(),r(!1)},confirmState:e}}},52312:(e,t,a)=>{a.d(t,{S:()=>r});var n=a(45971),i=a(46138),l=a(17897);const r=(0,n.ZP)(i.Z)((e=>{let{theme:t,color:a="primary"}=e;return{color:"white",backgroundColor:t.palette[a].main,"&:hover":{backgroundColor:t.palette[a].main,backgroundImage:"linear-gradient(rgb(0 0 0/10%) 0 0)"}}}));(0,n.ZP)(l.Z)((e=>{let{theme:t,color:a="primary"}=e;return{"&.Mui-selected, &.Mui-selected:hover":{color:"white",backgroundColor:t.palette[a].main}}}))},48349:(e,t,a)=>{a.d(t,{Z:()=>p});var n=a(15749),i=a(48886),l=a(38357),r=a(87130),o=a(91862),s=a(46138),d=a(60806),c=a(52312),u=a(37574);const p=()=>{const{onConfirm:e,onCancel:t,confirmState:a}=(0,d.Z)(),p=document.getElementById("portal"),h=a.show?(0,u.jsxs)(i.Z,{fullWidth:!0,maxWidth:"xs",open:a.show,onClose:t,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,u.jsx)(l.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:a.title}),(0,u.jsx)(r.Z,{children:(0,u.jsx)("span",{children:a.description})}),(0,u.jsxs)(o.Z,{children:[(0,u.jsx)(s.Z,{onClick:t,children:a.cancelButtonName}),(0,u.jsx)(c.S,{variant:"contained",onClick:e,children:a.confirmButtonName})]})]}):null;return(0,n.createPortal)(h,p)}},34061:(e,t,a)=>{a.d(t,{L:()=>m});var n=a(30969),i=a(69405),l=a(2847),r=a(39494),o=a(98483),s=a(38361),d=a(47915),c=a(57203),u=a(22083),p=a(45971),h=a(37574);const x=(0,p.ZP)(l.Z)({boxShadow:"0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)",borderRadius:"10px",["& .".concat(c.Z.listbox)]:{boxSizing:"border-box","& ul":{padding:10,margin:10}}}),m=e=>{let{name:t,value:a,options:l,onSelect:c,disabled:p=!1,disableClearable:m=!1}=e;const g=(0,i.v9)((e=>e.customization));let[b,j]=(0,n.useState)(null!==a&&void 0!==a?a:"choose an option");return(0,h.jsx)(r.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,h.jsx)(u.Z,{id:t,disabled:p,disableClearable:m,size:"small",options:l||[],value:function(){let e=arguments.length>1?arguments[1]:void 0;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).find((t=>t.name===e))}(l,b)||"",onChange:(e,t)=>{const a=t?t.name:"";j(a),c(a)},PopperComponent:x,renderInput:e=>(0,h.jsx)(o.Z,{...e,value:b}),renderOption:(e,t)=>(0,h.jsx)(s.Z,{component:"li",...e,children:(0,h.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,h.jsx)(d.Z,{variant:"h5",children:t.label}),t.description&&(0,h.jsx)(d.Z,{sx:{color:g.isDarkMode?"#9e9e9e":""},children:t.description})]})})})})}},84956:(e,t,a)=>{a.d(t,{x:()=>s});var n=a(45304),i=a.n(n),l=a(73835),r=(a(49015),a(61889),a(58457),a(44057),a(94702)),o=a(37574);const s=e=>{let{value:t,placeholder:a,disabled:n=!1,type:s,style:d,onValueChange:c,onMouseUp:u,onBlur:p}=e;const h=(0,r.Z)();return(0,o.jsx)(i(),{disabled:n,value:t,placeholder:a,highlight:e=>(0,l.highlight)(e,"json"===s?l.languages.json:l.languages.js),padding:10,onValueChange:c,onMouseUp:u,onBlur:p,tabSize:4,style:{...d,background:h.palette.codeEditor.main},textareaClassName:"editor__textarea"})}},94677:(e,t,a)=>{a.d(t,{d:()=>s});var n=a(45304),i=a.n(n),l=a(73835),r=(a(49015),a(61889),a(58457),a(44057),a(94702)),o=a(37574);const s=e=>{let{value:t,placeholder:a,disabled:n=!1,type:s,style:d,onValueChange:c,onMouseUp:u,onBlur:p}=e;const h=(0,r.Z)();return(0,o.jsx)(i(),{disabled:n,value:t,placeholder:a,highlight:e=>(0,l.highlight)(e,"json"===s?l.languages.json:l.languages.js),padding:10,onValueChange:c,onMouseUp:u,onBlur:p,tabSize:4,style:{...d,background:h.palette.card.main},textareaClassName:"editor__textarea"})}},30530:(e,t,a)=>{a.d(t,{I:()=>S});var n=a(30969),i=a(39494),l=a(33656),r=a(35531),o=a(15749),s=a(69405),d=a(48886),c=a(87130),u=a(47915),p=a(91862),h=a(46138),x=a(94702),m=a(42558),g=a.n(m),b=a(52312),j=a(84956),v=a(94677),y=a(2383),f=a(37574);const Z=e=>{let{show:t,dialogProps:a,onCancel:i,onConfirm:l}=e;const r=document.getElementById("portal"),m=(0,x.Z)(),Z=(0,s.I0)(),C=(0,s.v9)((e=>e.customization)),w="json",[S,k]=(0,n.useState)(""),[D,P]=(0,n.useState)(null);(0,n.useEffect)((()=>(a.value&&k(a.value),a.inputParam&&P(a.inputParam),()=>{k(""),P(null)})),[a]),(0,n.useEffect)((()=>(Z(t?{type:y.tS}:{type:y.Go}),()=>Z({type:y.Go}))),[t,Z]);const N=t?(0,f.jsxs)(d.Z,{open:t,fullWidth:!0,maxWidth:"md","aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,f.jsx)(c.Z,{children:(0,f.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:D&&"string"===D.type&&(0,f.jsxs)("div",{style:{flex:70},children:[(0,f.jsx)(u.Z,{sx:{mb:2,ml:1},variant:"h4",children:D.label}),(0,f.jsx)(g(),{style:{border:"1px solid",borderColor:m.palette.grey[500],borderRadius:"12px",height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden",backgroundColor:"white"},children:C.isDarkMode?(0,f.jsx)(j.x,{disabled:a.disabled,value:S,onValueChange:e=>k(e),placeholder:D.placeholder,type:w,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}}):(0,f.jsx)(v.d,{disabled:a.disabled,value:S,onValueChange:e=>k(e),placeholder:D.placeholder,type:w,style:{fontSize:"0.875rem",minHeight:"calc(100vh - 220px)",width:"100%"}})})]})})}),(0,f.jsxs)(p.Z,{children:[(0,f.jsx)(h.Z,{onClick:i,children:a.cancelButtonName}),(0,f.jsx)(b.S,{disabled:a.disabled,variant:"contained",onClick:()=>l(S,D.name),children:a.confirmButtonName})]})]}):null;return(0,o.createPortal)(N,r)};var C=a(75916),w=a(86115);const S=e=>{var t,a;let{inputParam:o,value:s,nodes:d,edges:c,nodeId:u,onChange:p,disabled:h=!1,showDialog:x,dialogProps:m,onDialogCancel:g,onDialogConfirm:b}=e;const[j,v]=(0,n.useState)(null!==s&&void 0!==s?s:""),[y,S]=(0,n.useState)(null),[k,D]=(0,n.useState)([]),P=(0,n.useRef)(null),N=Boolean(y),z=()=>{S(null)};return(0,n.useEffect)((()=>{if(!h&&d&&c&&u&&o){const e=null!==o&&void 0!==o&&o.acceptVariable?(0,w.Hg)(d,c,u,o.id):[];D(e)}}),[h,o,d,c,u]),(0,n.useEffect)((()=>{"string"===typeof j&&j&&j.endsWith("{{")&&S(P.current)}),[j]),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(i.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,f.jsx)(l.Z,{id:o.name,size:"small",disabled:h,type:(e=>{switch(e){case"string":default:return"text";case"password":return"password";case"number":return"number"}})(o.type),placeholder:o.placeholder,multiline:!!o.rows,rows:null!==(t=o.rows)&&void 0!==t?t:1,value:j,name:o.name,onChange:e=>{v(e.target.value),p(e.target.value)},inputProps:{step:null!==(a=o.step)&&void 0!==a?a:1,style:{height:o.rows?"90px":"inherit"}}})}),x&&(0,f.jsx)(Z,{show:x,dialogProps:m,onCancel:g,onConfirm:(e,t)=>{v(e),b(e,t)}}),(0,f.jsx)("div",{ref:P}),(null===o||void 0===o?void 0:o.acceptVariable)&&(0,f.jsx)(r.ZP,{open:N,anchorEl:y,onClose:z,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,f.jsx)(C.Z,{disabled:h,availableNodesForVariable:k,onSelectAndReturnVal:e=>{(e=>{const t=j+e.substring(2);p(t),v(t)})(e),z()}})})]})}},30306:(e,t,a)=>{a.d(t,{_:()=>p});var n=a(30969),i=a(39494),l=a(35531),r=a(46804),o=a.n(r),s=a(75916),d=a(50576),c=a(86115),u=a(37574);const p=e=>{let{value:t,onChange:a,inputParam:r,nodes:p,edges:h,nodeId:x,disabled:m=!1,isDarkMode:g=!1}=e;const[b,j]=(0,n.useState)(t?JSON.parse(t):{}),[v,y]=(0,n.useState)([]),[f,Z]=(0,n.useState)(""),[C,w]=(0,n.useState)(null),S=Boolean(C),k=()=>{w(null)},D=e=>{const t=e.src;Array.isArray(t)||"object"===typeof t?navigator.clipboard.writeText(JSON.stringify(t,null,"  ")):navigator.clipboard.writeText(t)};return(0,n.useEffect)((()=>{if(!m&&p&&h&&x&&r){const e=null!==r&&void 0!==r&&r.acceptVariable?(0,c.Hg)(p,h,x,r.id):[];y(e)}}),[m,r,p,h,x]),(0,u.jsxs)(u.Fragment,{children:[(0,u.jsxs)(i.Z,{sx:{mt:1,width:"100%"},size:"small",children:[m&&(0,u.jsx)(o(),{theme:g?"ocean":"rjv-default",style:{padding:10,borderRadius:10},src:b,name:null,enableClipboard:e=>D(e),quotesOnKeys:!1,displayDataTypes:!1}),!m&&(0,u.jsx)("div",{children:(0,u.jsx)(o(),{theme:g?"ocean":"rjv-default",style:{padding:10,borderRadius:10},src:b,name:null,quotesOnKeys:!1,displayDataTypes:!1,enableClipboard:e=>D(e),onMouseUp:e=>{null!==r&&void 0!==r&&r.acceptVariable&&(Z(e.name),w(e.currentTarget))},onEdit:e=>{j(e.updated_src),a(JSON.stringify(e.updated_src))},onAdd:()=>{},onDelete:e=>{j(e.updated_src),a(JSON.stringify(e.updated_src))}})},JSON.stringify(b))]}),(null===r||void 0===r?void 0:r.acceptVariable)&&(0,u.jsx)(l.ZP,{open:S,anchorEl:C,onClose:k,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:(0,u.jsx)(s.Z,{disabled:m,availableNodesForVariable:v,onSelectAndReturnVal:e=>{(e=>{const t=(0,d.cloneDeep)(b);t[f]=e,a(JSON.stringify(t)),j((t=>({...t,[f]:e})))})(e),k()}})})]})}},75916:(e,t,a)=>{a.d(t,{Z:()=>j});var n=a(69405),i=a(25139),l=a(47915),r=a(38361),o=a(67888),s=a(33485),d=a(54279),c=a(25599),u=a(86008),p=a(42558),h=a.n(p),x=a(47804);const m=a.p+"static/media/chathistory.c04a95d8006f2ac86a7d.png";var g=a(11021),b=a(37574);const j=e=>{let{availableNodesForVariable:t,disabled:a=!1,onSelectAndReturnVal:p}=e;const j=(0,n.v9)((e=>e.customization)),v=(e,t)=>{let a=e?"".concat(e.id,".data.instance"):t;const n="{{".concat(a,"}}");p(n)};return(0,b.jsx)(b.Fragment,{children:!a&&(0,b.jsxs)("div",{style:{flex:30},children:[(0,b.jsx)(i.Z,{flexDirection:"row",sx:{mb:1,ml:2,mt:2},children:(0,b.jsx)(l.Z,{variant:"h5",children:"Select Variable"})}),(0,b.jsx)(h(),{style:{height:"100%",maxHeight:"calc(100vh - 220px)",overflowX:"hidden"},children:(0,b.jsx)(r.Z,{sx:{pl:2,pr:2},children:(0,b.jsxs)(o.Z,{children:[(0,b.jsx)(s.Z,{sx:{p:0,borderRadius:"".concat(j.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>v(null,"question"),children:(0,b.jsxs)(d.ZP,{alignItems:"center",children:[(0,b.jsx)(c.Z,{children:(0,b.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,b.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"AI",src:x})})}),(0,b.jsx)(u.Z,{sx:{ml:1},primary:"question",secondary:"User's question from chatbox"})]})}),(0,b.jsx)(s.Z,{sx:{p:0,borderRadius:"".concat(j.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>v(null,"chat_history"),children:(0,b.jsxs)(d.ZP,{alignItems:"center",children:[(0,b.jsx)(c.Z,{children:(0,b.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,b.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:"chatHistory",src:m})})}),(0,b.jsx)(u.Z,{sx:{ml:1},primary:"chat_history",secondary:"Past conversation history between user and AI"})]})}),t&&t.length>0&&t.map(((e,t)=>{var n;const i=e.data.outputAnchors[0].options.find((t=>t.name===e.data.outputs.output));return(0,b.jsx)(s.Z,{sx:{p:0,borderRadius:"".concat(j.borderRadius,"px"),boxShadow:"0 2px 14px 0 rgb(32 40 45 / 8%)",mb:1},disabled:a,onClick:()=>v(e),children:(0,b.jsxs)(d.ZP,{alignItems:"center",children:[(0,b.jsx)(c.Z,{children:(0,b.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,b.jsx)("img",{style:{width:"100%",height:"100%",padding:10,objectFit:"contain"},alt:e.data.name,src:"".concat(g.v2,"/api/v1/node-icon/").concat(e.data.name)})})}),(0,b.jsx)(u.Z,{sx:{ml:1},primary:e.data.inputs.chainName?e.data.inputs.chainName:e.data.id,secondary:"".concat(null!==(n=null===i||void 0===i?void 0:i.label)&&void 0!==n?n:"output"," from ").concat(e.data.label)})]})},t)}))]})})})]})})}},83795:(e,t,a)=>{a.d(t,{D:()=>o});var n=a(30969),i=a(39494),l=a(70475),r=a(37574);const o=e=>{var t;let{value:a,onChange:o,disabled:s=!1}=e;const[d,c]=(0,n.useState)(null!==(t=!!a)&&void 0!==t&&t);return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(i.Z,{sx:{mt:1,width:"100%"},size:"small",children:(0,r.jsx)(l.Z,{disabled:s,checked:d,onChange:e=>{c(e.target.checked),o(e.target.checked)}})})})}},97251:(e,t,a)=>{a.d(t,{H:()=>d});var n=a(46705),i=a(6779),l=a(91243),r=a(12011),o=a(69405),s=a(37574);const d=e=>{let{title:t,style:a}=e;const d=(0,o.v9)((e=>e.customization));return(0,s.jsx)(i.Z,{title:(0,r.ZP)(t),placement:"right",children:(0,s.jsx)(l.Z,{sx:{height:15,width:15},children:(0,s.jsx)(n.Z,{style:{...a,background:"transparent",color:d.isDarkMode?"white":"inherit",height:15,width:15}})})})}},33926:(e,t,a)=>{a.d(t,{Z:()=>s});var n=a(30969),i=a(69405),l=a(47379),r=a(2383);let o=[];const s=()=>{const e=(0,i.I0)(),t=(0,i.v9)((e=>e.notifier)),{notifications:a}=t,{enqueueSnackbar:s,closeSnackbar:d}=(0,l.Ds)();n.useEffect((()=>{a.forEach((t=>{let{key:a,message:n,options:i={},dismissed:l=!1}=t;var c;l?d(a):o.includes(a)||(s(n,{key:a,...i,onClose:(e,t,a)=>{i.onClose&&i.onClose(e,t,a)},onExited:(t,a)=>{var n;e((0,r.PN)(a)),n=a,o=[...o.filter((e=>n!==e))]}}),c=a,o=[...o,c])}))}),[a,d,s,e])}},55878:(e,t,a)=>{a.d(t,{Z:()=>E});var n=a(15749),i=a(30969),l=a(69405),r=a(2383),o=a(12011),s=a(46138),d=a(48886),c=a(38357),u=a(87130),p=a(38361),h=a(25139),x=a(47915),m=a(33656),g=a(91862),b=a(52312),j=a(48349),v=a(91243),y=a(49009),f=a(34061),Z=a(30530),C=a(83795),w=a(30306),S=a(97251),k=a(37574);const D=e=>{var t,a,n,r,o,s,d,c;let{inputParam:u,data:h,disabled:m=!1}=e;const g=(0,l.v9)((e=>e.customization)),b=(0,i.useRef)(null),[j,D]=(0,i.useState)(!1),[P,N]=(0,i.useState)({});return(0,k.jsx)("div",{ref:b,children:u&&(0,k.jsx)(k.Fragment,{children:(0,k.jsxs)(p.Z,{sx:{p:2},children:[(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[(0,k.jsxs)(x.Z,{children:[u.label,!u.optional&&(0,k.jsx)("span",{style:{color:"red"},children:"\xa0*"}),u.description&&(0,k.jsx)(S.H,{style:{marginLeft:10},title:u.description})]}),(0,k.jsx)("div",{style:{flexGrow:1}}),"string"===u.type&&u.rows&&(0,k.jsx)(v.Z,{size:"small",sx:{height:25,width:25},title:"Expand",color:"primary",onClick:()=>{var e,t;return((e,t)=>{N({value:e,inputParam:t,disabled:m,confirmButtonName:"Save",cancelButtonName:"Cancel"}),D(!0)})(null!==(e=null!==(t=h[u.name])&&void 0!==t?t:u.default)&&void 0!==e?e:"",u)},children:(0,k.jsx)(y.ybr,{})})]}),u.warning&&(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",borderRadius:10,background:"rgb(254,252,191)",padding:10,marginTop:10,marginBottom:10},children:[(0,k.jsx)(y.DpU,{size:36,color:"orange"}),(0,k.jsx)("span",{style:{color:"rgb(116,66,16)",marginLeft:10},children:u.warning})]}),"boolean"===u.type&&(0,k.jsx)(C.D,{disabled:m,onChange:e=>h[u.name]=e,value:null!==(t=null!==(a=h[u.name])&&void 0!==a?a:u.default)&&void 0!==t&&t}),("string"===u.type||"password"===u.type||"number"===u.type)&&(0,k.jsx)(Z.I,{disabled:m,inputParam:u,onChange:e=>h[u.name]=e,value:null!==(n=null!==(r=h[u.name])&&void 0!==r?r:u.default)&&void 0!==n?n:"",showDialog:j,dialogProps:P,onDialogCancel:()=>D(!1),onDialogConfirm:(e,t)=>((e,t)=>{D(!1),h[t]=e})(e,t)},h[u.name]),"json"===u.type&&(0,k.jsx)(w._,{disabled:m,onChange:e=>h[u.name]=e,value:null!==(o=null!==(s=h[u.name])&&void 0!==s?s:u.default)&&void 0!==o?o:"",isDarkMode:g.isDarkMode}),"options"===u.type&&(0,k.jsx)(f.L,{disabled:m,name:u.name,options:u.options,onSelect:e=>h[u.name]=e,value:null!==(d=null!==(c=h[u.name])&&void 0!==c?c:u.default)&&void 0!==d?d:"choose an option"})]})})})};var P=a(42586),N=a(60990),z=a(33926),R=a(11021);const E=e=>{let{show:t,dialogProps:a,onCancel:v,onConfirm:f}=e;const Z=document.getElementById("portal"),C=(0,l.I0)();(0,z.Z)();const w=function(){return C((0,r.yv)(...arguments))},S=function(){return C((0,r.sy)(...arguments))},E=(0,N.Z)(P.Z.getSpecificCredential),I=(0,N.Z)(P.Z.getSpecificComponentCredential),[B,M]=(0,i.useState)({}),[V,O]=(0,i.useState)(""),[A,T]=(0,i.useState)({}),[F,_]=(0,i.useState)({});(0,i.useEffect)((()=>{E.data&&(M(E.data),E.data.name&&O(E.data.name),E.data.plainDataObj&&T(E.data.plainDataObj),I.request(E.data.credentialName))}),[E.data]),(0,i.useEffect)((()=>{I.data&&_(I.data)}),[I.data]),(0,i.useEffect)((()=>{"EDIT"===a.type&&a.data?E.request(a.data.id):"EDIT"===a.type&&a.credentialId?E.request(a.credentialId):"ADD"===a.type&&a.credentialComponent&&(O(""),M({}),T({}),_(a.credentialComponent))}),[a]),(0,i.useEffect)((()=>(C(t?{type:r.tS}:{type:r.Go}),()=>C({type:r.Go}))),[t,C]);const L=t?(0,k.jsxs)(d.Z,{fullWidth:!0,maxWidth:"sm",open:t,onClose:v,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,k.jsx)(c.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:F&&F.label&&(0,k.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,k.jsx)("div",{style:{width:50,height:50,marginRight:10,borderRadius:"50%",backgroundColor:"white"},children:(0,k.jsx)("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:F.name,src:"".concat(R.v2,"/api/v1/components-credentials-icon/").concat(F.name)})}),F.label]})}),(0,k.jsxs)(u.Z,{children:[F&&F.description&&(0,k.jsx)(p.Z,{sx:{pl:2,pr:2},children:(0,k.jsx)("div",{style:{display:"flex",flexDirection:"row",borderRadius:10,background:"rgb(254,252,191)",padding:10,marginTop:10,marginBottom:10},children:(0,k.jsx)("span",{style:{color:"rgb(116,66,16)"},children:(0,o.ZP)(F.description)})})}),F&&F.label&&(0,k.jsxs)(p.Z,{sx:{p:2},children:[(0,k.jsx)(h.Z,{sx:{position:"relative"},direction:"row",children:(0,k.jsxs)(x.Z,{variant:"overline",children:["Credential Name",(0,k.jsx)("span",{style:{color:"red"},children:"\xa0*"})]})}),(0,k.jsx)(m.Z,{id:"credName",type:"string",fullWidth:!0,placeholder:F.label,value:V,name:"name",onChange:e=>O(e.target.value)})]}),F&&F.inputs&&F.inputs.map(((e,t)=>(0,k.jsx)(D,{inputParam:e,data:A},t)))]}),(0,k.jsx)(g.Z,{children:(0,k.jsx)(b.S,{disabled:!V,variant:"contained",onClick:()=>"ADD"===a.type?(async()=>{try{const e={name:V,credentialName:F.name,plainDataObj:A},t=await P.Z.createCredential(e);t.data&&(w({message:"New Credential added",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,k.jsx)(s.Z,{style:{color:"white"},onClick:()=>S(e),children:(0,k.jsx)(y.kLi,{})})}}),f(t.data.id))}catch(e){const t="string"===typeof err?err:err.response.data||"".concat(err.response.status,": ").concat(err.response.statusText);w({message:"Failed to add new Credential: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,k.jsx)(s.Z,{style:{color:"white"},onClick:()=>S(e),children:(0,k.jsx)(y.kLi,{})})}}),v()}})():(async()=>{try{const e={name:V,credentialName:F.name};let t={};for(const n in A)A[n]!==R.iZ&&(t[n]=A[n]);Object.keys(t).length&&(e.plainDataObj=t);const a=await P.Z.updateCredential(B.id,e);a.data&&(w({message:"Credential saved",options:{key:(new Date).getTime()+Math.random(),variant:"success",action:e=>(0,k.jsx)(s.Z,{style:{color:"white"},onClick:()=>S(e),children:(0,k.jsx)(y.kLi,{})})}}),f(a.data.id))}catch(e){const t=e.response.data||"".concat(e.response.status,": ").concat(e.response.statusText);w({message:"Failed to save Credential: ".concat(t),options:{key:(new Date).getTime()+Math.random(),variant:"error",persist:!0,action:e=>(0,k.jsx)(s.Z,{style:{color:"white"},onClick:()=>S(e),children:(0,k.jsx)(y.kLi,{})})}}),v()}})(),children:a.confirmButtonName})}),(0,k.jsx)(j.Z,{})]}):null;return(0,n.createPortal)(L,Z)}},76003:(e,t,a)=>{a.d(t,{Z:()=>Z});var n=a(30969),i=a(15749),l=a(69405),r=a(48886),o=a(38357),s=a(38361),d=a(33656),c=a(11100),u=a(87130),p=a(67888),h=a(33485),x=a(54279),m=a(25599),g=a(86008),b=a(94702),j=a(49009),v=a(11021),y=a(2383),f=a(37574);const Z=e=>{let{show:t,dialogProps:a,onCancel:Z,onCredentialSelected:C}=e;const w=document.getElementById("portal"),S=(0,l.v9)((e=>e.customization)),k=(0,l.I0)(),D=(0,b.Z)(),[P,N]=(0,n.useState)(""),[z,R]=(0,n.useState)([]),E=e=>{N(e),setTimeout((()=>{if(e){const t=a.componentsCredentials.filter((t=>t.name.toLowerCase().includes(e.toLowerCase())));R(t)}else""===e&&R(a.componentsCredentials)}),500)};(0,n.useEffect)((()=>{a.componentsCredentials&&R(a.componentsCredentials)}),[a]),(0,n.useEffect)((()=>(k(t?{type:y.tS}:{type:y.Go}),()=>k({type:y.Go}))),[t,k]);const I=t?(0,f.jsxs)(r.Z,{fullWidth:!0,maxWidth:"xs",open:t,onClose:Z,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,f.jsxs)(o.Z,{sx:{fontSize:"1rem"},id:"alert-dialog-title",children:[a.title,(0,f.jsx)(s.Z,{sx:{p:2},children:(0,f.jsx)(d.Z,{sx:{width:"100%",pr:2,pl:2,my:2},id:"input-search-credential",value:P,onChange:e=>E(e.target.value),placeholder:"Search credential",startAdornment:(0,f.jsx)(c.Z,{position:"start",children:(0,f.jsx)(j.jVj,{stroke:1.5,size:"1rem",color:D.palette.grey[500]})}),endAdornment:(0,f.jsx)(c.Z,{position:"end",sx:{cursor:"pointer",color:D.palette.grey[500],"&:hover":{color:D.palette.grey[900]}},title:"Clear Search",children:(0,f.jsx)(j.kLi,{stroke:1.5,size:"1rem",onClick:()=>E(""),style:{cursor:"pointer"}})}),"aria-describedby":"search-helper-text",inputProps:{"aria-label":"weight"}})})]}),(0,f.jsx)(u.Z,{children:(0,f.jsx)(p.Z,{sx:{width:"100%",py:0,borderRadius:"10px",[D.breakpoints.down("md")]:{maxWidth:370},"& .MuiListItemSecondaryAction-root":{top:22},"& .MuiDivider-root":{my:0},"& .list-container":{pl:7}},children:[...z].map((e=>(0,f.jsx)("div",{children:(0,f.jsx)(h.Z,{onClick:()=>C(e),sx:{p:0,borderRadius:"".concat(S.borderRadius,"px")},children:(0,f.jsxs)(x.ZP,{alignItems:"center",children:[(0,f.jsx)(m.Z,{children:(0,f.jsx)("div",{style:{width:50,height:50,borderRadius:"50%",backgroundColor:"white"},children:(0,f.jsx)("img",{style:{width:"100%",height:"100%",padding:7,borderRadius:"50%",objectFit:"contain"},alt:e.name,src:"".concat(v.v2,"/api/v1/components-credentials-icon/").concat(e.name)})})}),(0,f.jsx)(g.Z,{sx:{ml:1},primary:e.label})]})})},e.name)))})})]}):null;return(0,i.createPortal)(I,w)}},47804:(e,t,a)=>{e.exports=a.p+"static/media/robot.3e38acc0493763eacabe.png"}}]);
//# sourceMappingURL=1452.6a7e8d61.chunk.js.map