{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":""},"label":"Custom Tool","loadMethod":"listTools","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":true,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1007","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-11-26 00:53:45"}
{"level":"info","message":"⬆️ POST /api/v1/tools","package":"server","request":{"body":{"color":"linear-gradient(rgb(69,239,227), rgb(237,252,219))","description":"insert data calendar\n","func":"import { google } from \"googleapis\";\nimport * as fs from 'node:fs'\n\nimport path from 'path';\nimport process from 'process';\nimport { authenticate } from '@google-cloud/local-auth';\n//import { OAuth2Client } from \"googleapis-common\";\n//import { listCollections } from \"@pinecone-database/pinecone/dist/control\";\n\n\n\n/*var event = {\n    'summary': 'Google I/O 2015',\n    'location': '800 Howard St., San Francisco, CA 94103',\n    'description': 'A chance to hear more about Google\\'s developer products.',\n    'start': {\n      'dateTime': '2023-11-28T09:00:00-07:00',\n      'timeZone': 'America/Los_Angeles',\n    },\n    'end': {\n      'dateTime': '2023-11-28T17:00:00-07:00',\n      'timeZone': 'America/Los_Angeles',\n    },\n    'recurrence': [\n      'RRULE:FREQ=DAILY;COUNT=2'\n    ],\n    'attendees': [\n      {'email': 'lpage@example.com'},\n      {'email': 'sbrin@example.com'},\n    ],\n    'reminders': {\n      'useDefault': false,\n      'overrides': [\n        {'method': 'email', 'minutes': 24 * 60},\n        {'method': 'popup', 'minutes': 10},\n      ],\n    },\n  };\n  */\n/**\n * Reads previously authorized credentials from the save file.\n *\n * @return {Promise<OAuth2Client|null>}\n * \n * */\n\n\nexport async function envJSON(data:any){\n\nconst SCOPES = ['https://www.googleapis.com/auth/calendar'];\nconst TOKEN_PATH = path.join(process.cwd(), 'token.json');\nconst CREDENTIALS_PATH = path.join(process.cwd(), 'credentials.json');\n\n    async function loadSavedCredentialsIfExist() {\n        try {\n            let content:any\n         fs.readFile(TOKEN_PATH, 'utf-8', (err, data2) => {\n            if (err) {\n              console.error('Error reading file:', err);\n              return;\n            }\n            content = data2\n            console.log('File content:', data2);\n          });\n          const credentials = JSON.parse(content);\n          return google.auth.fromJSON(credentials);\n        } catch (err) {\n          return null;\n        }\n      }\n      \n      /**\n       * Serializes credentials to a file compatible with GoogleAUth.fromJSON.\n       *\n       * @param {OAuth2Client} client\n       * @return {Promise<void>}\n       */\n      async function saveCredentials(client:any): Promise<void> {\n        let content:any\n       content = fs.readFile(CREDENTIALS_PATH, 'utf-8', (err, data3) => {\n           if (err) {\n             console.error('Error reading file:', err);\n             return;\n           }\n           content = data3\n         console.log('File content:', content);\n        const keys = JSON.parse(content);\n        const key = keys.installed || keys.web;\n        const payload = JSON.stringify({\n          type: 'authorized_user',\n          client_id: key.client_id,\n          client_secret: key.client_secret,\n          refresh_token: client.credentials.refresh_token,\n        });\n        fs.writeFile(TOKEN_PATH, payload, 'utf-8', (err) => {\n            if (err) {\n              console.error('Error writing to file:', err);\n              return;\n            }\n       \n            \n            console.log('File written successfully.');\n            return;\n          });\n      })\n    }\n      /**\n       * Load or request or authorization to call APIs.\n       *\n       */\n      async function authorize() {\n        let client: any = await loadSavedCredentialsIfExist();\n        if (client) {\n          return client;\n        }\n        client = await authenticate({\n          scopes: SCOPES,\n          keyfilePath: CREDENTIALS_PATH,\n        });\n        if (client.credentials) {\n          await saveCredentials(client);\n        }\n        return client;\n      }\n      \n      /**\n       * Lists the next 10 events on the user's primary calendar.\n       * @param {google.auth.OAuth2} auth An authorized OAuth2 client.\n       */\n      async function listEvents(auth:any) {\n        const calendar = google.calendar({version: 'v3', auth});\n         await calendar.events.insert({\n            calendarId: 'primary',\n            requestBody: data,\n        }, function (err:any, event: any) {\n            if (err) {\n                console.log('There was an error contacting the Calendar service: ' + err);\n                return;\n            }\n            console.log('Event created: %s', event);\n        })\n      };\n        authorize().then(listEvents).catch(console.error);\n   \n}","iconSrc":"","name":"calendar","schema":"[]"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"4605","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/tools","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/tools"},"timestamp":"2023-11-26 01:07:07"}
{"level":"info","message":"🖊 PUT /api/v1/tools/3b8097e1-a97e-45ad-af29-5416d0438c8e","package":"server","request":{"body":{"description":"insert data calendar\n","func":"import { google } from \"googleapis\";\nimport * as fs from 'node:fs'\n\nimport path from 'path';\nimport process from 'process';\nimport { authenticate } from '@google-cloud/local-auth';\n//import { OAuth2Client } from \"googleapis-common\";\n//import { listCollections } from \"@pinecone-database/pinecone/dist/control\";\n\n\n\n/*var event = {\n    'summary': 'Google I/O 2015',\n    'location': '800 Howard St., San Francisco, CA 94103',\n    'description': 'A chance to hear more about Google\\'s developer products.',\n    'start': {\n      'dateTime': '2023-11-28T09:00:00-07:00',\n      'timeZone': 'America/Los_Angeles',\n    },\n    'end': {\n      'dateTime': '2023-11-28T17:00:00-07:00',\n      'timeZone': 'America/Los_Angeles',\n    },\n    'recurrence': [\n      'RRULE:FREQ=DAILY;COUNT=2'\n    ],\n    'attendees': [\n      {'email': 'lpage@example.com'},\n      {'email': 'sbrin@example.com'},\n    ],\n    'reminders': {\n      'useDefault': false,\n      'overrides': [\n        {'method': 'email', 'minutes': 24 * 60},\n        {'method': 'popup', 'minutes': 10},\n      ],\n    },\n  };\n  */\n/**\n * Reads previously authorized credentials from the save file.\n *\n * @return {Promise<OAuth2Client|null>}\n * \n * */\n\n\nexport async function envJSON(data:any){\n\nconst SCOPES = ['https://www.googleapis.com/auth/calendar'];\nconst TOKEN_PATH = path.join(process.cwd(), 'token.json');\nconst CREDENTIALS_PATH = path.join(process.cwd(), 'credentials.json');\n\n    async function loadSavedCredentialsIfExist() {\n        try {\n            let content:any\n         fs.readFile(TOKEN_PATH, 'utf-8', (err, data2) => {\n            if (err) {\n              console.error('Error reading file:', err);\n              return;\n            }\n            content = data2\n            console.log('File content:', data2);\n          });\n          const credentials = JSON.parse(content);\n          return google.auth.fromJSON(credentials);\n        } catch (err) {\n          return null;\n        }\n      }\n      \n      /**\n       * Serializes credentials to a file compatible with GoogleAUth.fromJSON.\n       *\n       * @param {OAuth2Client} client\n       * @return {Promise<void>}\n       */\n      async function saveCredentials(client:any): Promise<void> {\n        let content:any\n       content = fs.readFile(CREDENTIALS_PATH, 'utf-8', (err, data3) => {\n           if (err) {\n             console.error('Error reading file:', err);\n             return;\n           }\n           content = data3\n         console.log('File content:', content);\n        const keys = JSON.parse(content);\n        const key = keys.installed || keys.web;\n        const payload = JSON.stringify({\n          type: 'authorized_user',\n          client_id: key.client_id,\n          client_secret: key.client_secret,\n          refresh_token: client.credentials.refresh_token,\n        });\n        fs.writeFile(TOKEN_PATH, payload, 'utf-8', (err) => {\n            if (err) {\n              console.error('Error writing to file:', err);\n              return;\n            }\n       \n            \n            console.log('File written successfully.');\n            return;\n          });\n      })\n    }\n      /**\n       * Load or request or authorization to call APIs.\n       *\n       */\n      async function authorize() {\n        let client: any = await loadSavedCredentialsIfExist();\n        if (client) {\n          return client;\n        }\n        client = await authenticate({\n          scopes: SCOPES,\n          keyfilePath: CREDENTIALS_PATH,\n        });\n        if (client.credentials) {\n          await saveCredentials(client);\n        }\n        return client;\n      }\n      \n      /**\n       * Lists the next 10 events on the user's primary calendar.\n       * @param {google.auth.OAuth2} auth An authorized OAuth2 client.\n       */\n      async function listEvents(auth:any) {\n        const calendar = google.calendar({version: 'v3', auth});\n         await calendar.events.insert({\n            calendarId: 'primary',\n            requestBody: data,\n        }, function (err:any, event: any) {\n            if (err) {\n                console.log('There was an error contacting the Calendar service: ' + err);\n                return;\n            }\n            console.log('Event created: %s', event);\n        })\n      };\n        authorize().then(listEvents).catch(console.error);\n   \n}","iconSrc":"","name":"calendar","schema":"[]"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"4544","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/tools","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/tools/3b8097e1-a97e-45ad-af29-5416d0438c8e"},"timestamp":"2023-11-26 01:07:23"}
{"level":"info","message":"🖊 PUT /api/v1/credentials/fb819333-df21-4987-b9b7-b02d2dd327b3","package":"server","request":{"body":{"credentialName":"openAIApi","name":"openai","plainDataObj":{"openAIApiKey":"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"}},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"132","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/credentials","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/credentials/fb819333-df21-4987-b9b7-b02d2dd327b3"},"timestamp":"2023-11-26 01:13:14"}
{"level":"info","message":"🖊 PUT /api/v1/assistants/9b7a9d99-623f-471d-ad33-7a4efd44e8df","package":"server","request":{"body":{"credential":"fb819333-df21-4987-b9b7-b02d2dd327b3","details":"{\"name\":\"google\",\"description\":\"\",\"model\":\"gpt-3.5-turbo\",\"instructions\":\"Agendar tarefas no google Calendar\",\"tools\":[\"code_interpreter\"],\"files\":[],\"uploadFiles\":\"\"}","iconSrc":"https://api.dicebear.com/7.x/bottts/svg?seed=280f2ebd-5857-45b3-94e8-2e30e4fd7982"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"353","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/assistants","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/assistants/9b7a9d99-623f-471d-ad33-7a4efd44e8df"},"timestamp":"2023-11-26 01:16:43"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["ChainTool","DynamicTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use a chain as allowed tool for agent","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\ChainTool\\ChainTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg","id":"chainTool_0","inputAnchors":[{"id":"chainTool_0-input-baseChain-BaseChain","label":"Base Chain","name":"baseChain","type":"BaseChain"}],"inputParams":[{"id":"chainTool_0-input-name-string","label":"Chain Name","name":"name","placeholder":"state-of-union-qa","type":"string"},{"id":"chainTool_0-input-description-string","label":"Chain Description","name":"description","placeholder":"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.","rows":3,"type":"string"},{"id":"chainTool_0-input-returnDirect-boolean","label":"Return Direct","name":"returnDirect","optional":true,"type":"boolean"}],"inputs":{"baseChain":"","description":"google calendar","name":"openai","returnDirect":true},"label":"Chain Tool","name":"chainTool","outputAnchors":[{"id":"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable","label":"ChainTool","name":"chainTool","type":"ChainTool | DynamicTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"ChainTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1499","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/b48a01ed-8754-4838-9d6f-90f4110a8efa","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-11-26 01:22:34"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":""},"label":"Custom Tool","loadMethod":"listTools","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":true,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1007","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/b48a01ed-8754-4838-9d6f-90f4110a8efa","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-11-26 01:23:08"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":""},"label":"Custom Tool","loadMethod":"listTools","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":true,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1007","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/b48a01ed-8754-4838-9d6f-90f4110a8efa","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-11-26 01:28:35"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_1","inputAnchors":[],"inputParams":[{"id":"customTool_1-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":"3b8097e1-a97e-45ad-af29-5416d0438c8e"},"label":"Custom Tool","loadMethod":"listTools","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_1-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1044","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/b48a01ed-8754-4838-9d6f-90f4110a8efa","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-11-26 01:29:40"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_2","inputAnchors":[],"inputParams":[{"id":"customTool_2-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":"3b8097e1-a97e-45ad-af29-5416d0438c8e"},"label":"Custom Tool","loadMethod":"listTools","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_2-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1044","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/b48a01ed-8754-4838-9d6f-90f4110a8efa","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-11-26 01:29:42"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/b48a01ed-8754-4838-9d6f-90f4110a8efa","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":651.0970497109112,\"y\":-286.0044743460636},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":651.0970497109112,\"y\":-286.0044743460636},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":89.6605409145169,\"y\":-296.4816329541758},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":89.6605409145169,\"y\":-296.4816329541758},\"dragging\":false},{\"width\":300,\"height\":278,\"id\":\"customTool_0\",\"position\":{\"x\":156.90964299547397,\"y\":-53.90278305615922},\"type\":\"customNode\",\"data\":{\"loadMethods\":{},\"label\":\"Custom Tool\",\"name\":\"customTool\",\"version\":1,\"type\":\"CustomTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg\",\"category\":\"Tools\",\"description\":\"Use custom tool you've created in Flowise within chatflow\",\"inputs\":{\"selectedTool\":\"3b8097e1-a97e-45ad-af29-5416d0438c8e\"},\"baseClasses\":[\"CustomTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\CustomTool\\\\CustomTool.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Select Tool\",\"name\":\"selectedTool\",\"type\":\"asyncOptions\",\"loadMethod\":\"listTools\",\"id\":\"customTool_0-input-selectedTool-asyncOptions\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable\",\"name\":\"customTool\",\"label\":\"CustomTool\",\"type\":\"CustomTool | Tool | StructuredTool | Runnable\"}],\"id\":\"customTool_0\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":156.90964299547397,\"y\":-53.90278305615922}}],\"edges\":[{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":225.5252153752267,\"y\":246.3910986831953,\"zoom\":0.8124088627774787}}","name":"google"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"7138","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/b48a01ed-8754-4838-9d6f-90f4110a8efa","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/b48a01ed-8754-4838-9d6f-90f4110a8efa"},"timestamp":"2023-11-26 01:29:59"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":506,\"id\":\"vectorStoreRetriever_0\",\"position\":{\"x\":712.9322670298264,\"y\":860.5462810572917},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreRetriever_0\",\"label\":\"Vector Store Retriever\",\"version\":1,\"name\":\"vectorStoreRetriever\",\"type\":\"VectorStoreRetriever\",\"baseClasses\":[\"VectorStoreRetriever\"],\"category\":\"Retrievers\",\"description\":\"Store vector store as retriever. Used with MultiRetrievalQAChain\",\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"netflix movies\",\"id\":\"vectorStoreRetriever_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"description\":\"Description of when to use the vector store retriever\",\"placeholder\":\"Good for answering questions about netflix movies\",\"id\":\"vectorStoreRetriever_0-input-description-string\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreRetriever_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{supabase_0.data.instance}}\",\"name\":\"aqua teen\",\"description\":\"Good for answering questions about Aqua Teen Hunger Force theme song\"},\"outputAnchors\":[{\"id\":\"vectorStoreRetriever_0-output-vectorStoreRetriever-VectorStoreRetriever\",\"name\":\"vectorStoreRetriever\",\"label\":\"VectorStoreRetriever\",\"type\":\"VectorStoreRetriever\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":712.9322670298264,\"y\":860.5462810572917},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"multiRetrievalQAChain_0\",\"position\":{\"x\":1563.0150452201099,\"y\":460.78375893303934},\"type\":\"customNode\",\"data\":{\"id\":\"multiRetrievalQAChain_0\",\"label\":\"Multi Retrieval QA Chain\",\"version\":1,\"name\":\"multiRetrievalQAChain\",\"type\":\"MultiRetrievalQAChain\",\"baseClasses\":[\"MultiRetrievalQAChain\",\"MultiRouteChain\",\"BaseChain\",\"BaseLangChain\"],\"category\":\"Chains\",\"description\":\"QA Chain that automatically picks an appropriate vector store from multiple retrievers\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"multiRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"VectorStoreRetriever\",\"list\":true,\"id\":\"multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":[\"{{vectorStoreRetriever_0.data.instance}}\",\"{{vectorStoreRetriever_1.data.instance}}\",\"{{vectorStoreRetriever_2.data.instance}}\"]},\"outputAnchors\":[{\"id\":\"multiRetrievalQAChain_0-output-multiRetrievalQAChain-MultiRetrievalQAChain|MultiRouteChain|BaseChain|BaseLangChain\",\"name\":\"multiRetrievalQAChain\",\"label\":\"MultiRetrievalQAChain\",\"type\":\"MultiRetrievalQAChain | MultiRouteChain | BaseChain | BaseLangChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1563.0150452201099,\"y\":460.78375893303934},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"vectorStoreRetriever_1\",\"position\":{\"x\":711.4902931206071,\"y\":315.2414600651632},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreRetriever_1\",\"label\":\"Vector Store Retriever\",\"version\":1,\"name\":\"vectorStoreRetriever\",\"type\":\"VectorStoreRetriever\",\"baseClasses\":[\"VectorStoreRetriever\"],\"category\":\"Retrievers\",\"description\":\"Store vector store as retriever. Used with MultiRetrievalQAChain\",\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"netflix movies\",\"id\":\"vectorStoreRetriever_1-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"description\":\"Description of when to use the vector store retriever\",\"placeholder\":\"Good for answering questions about netflix movies\",\"id\":\"vectorStoreRetriever_1-input-description-string\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreRetriever_1-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{chroma_0.data.instance}}\",\"name\":\"mst3k\",\"description\":\"Good for answering questions about Mystery Science Theater 3000 theme song\"},\"outputAnchors\":[{\"id\":\"vectorStoreRetriever_1-output-vectorStoreRetriever-VectorStoreRetriever\",\"name\":\"vectorStoreRetriever\",\"label\":\"VectorStoreRetriever\",\"type\":\"VectorStoreRetriever\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":711.4902931206071,\"y\":315.2414600651632},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"vectorStoreRetriever_2\",\"position\":{\"x\":706.0716220151372,\"y\":-217.51566869136752},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreRetriever_2\",\"label\":\"Vector Store Retriever\",\"version\":1,\"name\":\"vectorStoreRetriever\",\"type\":\"VectorStoreRetriever\",\"baseClasses\":[\"VectorStoreRetriever\"],\"category\":\"Retrievers\",\"description\":\"Store vector store as retriever. Used with MultiRetrievalQAChain\",\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"netflix movies\",\"id\":\"vectorStoreRetriever_2-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"description\":\"Description of when to use the vector store retriever\",\"placeholder\":\"Good for answering questions about netflix movies\",\"id\":\"vectorStoreRetriever_2-input-description-string\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreRetriever_2-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{pinecone_0.data.instance}}\",\"name\":\"animaniacs\",\"description\":\"Good for answering questions about Animaniacs theme song\"},\"outputAnchors\":[{\"id\":\"vectorStoreRetriever_2-output-vectorStoreRetriever-VectorStoreRetriever\",\"name\":\"vectorStoreRetriever\",\"label\":\"VectorStoreRetriever\",\"type\":\"VectorStoreRetriever\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":706.0716220151372,\"y\":-217.51566869136752},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-212.46977797044045,\"y\":252.45726960585722},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-212.46977797044045,\"y\":252.45726960585722},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1166.929741805626,\"y\":-297.9691758089252},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1166.929741805626,\"y\":-297.9691758089252},\"dragging\":false},{\"width\":300,\"height\":557,\"id\":\"pinecone_0\",\"position\":{\"x\":261.3144465918519,\"y\":-333.57075989595313},\"type\":\"customNode\",\"data\":{\"id\":\"pinecone_0\",\"label\":\"Pinecone\",\"version\":1,\"name\":\"pinecone\",\"type\":\"Pinecone\",\"baseClasses\":[\"Pinecone\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"category\":\"Vector Stores\",\"description\":\"Upsert embedded data and perform similarity search upon query using Pinecone, a leading fully managed hosted vector database\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"pineconeApi\"],\"id\":\"pinecone_0-input-credential-credential\"},{\"label\":\"Pinecone Index\",\"name\":\"pineconeIndex\",\"type\":\"string\",\"id\":\"pinecone_0-input-pineconeIndex-string\"},{\"label\":\"Pinecone Namespace\",\"name\":\"pineconeNamespace\",\"type\":\"string\",\"placeholder\":\"my-first-namespace\",\"additionalParams\":true,\"optional\":true,\"id\":\"pinecone_0-input-pineconeNamespace-string\"},{\"label\":\"Pinecone Metadata Filter\",\"name\":\"pineconeMetadataFilter\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"pinecone_0-input-pineconeMetadataFilter-json\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"pinecone_0-input-topK-number\"}],\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"pinecone_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"pinecone_0-input-embeddings-Embeddings\"}],\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"pineconeIndex\":\"\",\"pineconeNamespace\":\"\",\"pineconeMetadataFilter\":\"\",\"topK\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"pinecone_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Pinecone Retriever\",\"type\":\"Pinecone | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"pinecone_0-output-vectorStore-Pinecone|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Pinecone Vector Store\",\"type\":\"Pinecone | VectorStore\"}],\"default\":\"retriever\"}],\"outputs\":{\"output\":\"vectorStore\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":261.3144465918519,\"y\":-333.57075989595313},\"dragging\":false},{\"width\":300,\"height\":656,\"id\":\"chroma_0\",\"position\":{\"x\":263.5395455972911,\"y\":242.72988251281214},\"type\":\"customNode\",\"data\":{\"id\":\"chroma_0\",\"label\":\"Chroma\",\"version\":1,\"name\":\"chroma\",\"type\":\"Chroma\",\"baseClasses\":[\"Chroma\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"category\":\"Vector Stores\",\"description\":\"Upsert embedded data and perform similarity search upon query using Chroma, an open-source embedding database\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"description\":\"Only needed if you have chroma on cloud services with X-Api-key\",\"optional\":true,\"credentialNames\":[\"chromaApi\"],\"id\":\"chroma_0-input-credential-credential\"},{\"label\":\"Collection Name\",\"name\":\"collectionName\",\"type\":\"string\",\"id\":\"chroma_0-input-collectionName-string\"},{\"label\":\"Chroma URL\",\"name\":\"chromaURL\",\"type\":\"string\",\"optional\":true,\"id\":\"chroma_0-input-chromaURL-string\"},{\"label\":\"Chroma Metadata Filter\",\"name\":\"chromaMetadataFilter\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chroma_0-input-chromaMetadataFilter-json\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"chroma_0-input-topK-number\"}],\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"chroma_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"chroma_0-input-embeddings-Embeddings\"}],\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"collectionName\":\"\",\"chromaURL\":\"\",\"chromaMetadataFilter\":\"\",\"topK\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"chroma_0-output-retriever-Chroma|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Chroma Retriever\",\"type\":\"Chroma | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"chroma_0-output-vectorStore-Chroma|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Chroma Vector Store\",\"type\":\"Chroma | VectorStore\"}],\"default\":\"retriever\"}],\"outputs\":{\"output\":\"vectorStore\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":263.5395455972911,\"y\":242.72988251281214},\"dragging\":false},{\"width\":300,\"height\":755,\"id\":\"supabase_0\",\"position\":{\"x\":263.16882559270005,\"y\":920.6999513218148},\"type\":\"customNode\",\"data\":{\"id\":\"supabase_0\",\"label\":\"Supabase\",\"version\":1,\"name\":\"supabase\",\"type\":\"Supabase\",\"baseClasses\":[\"Supabase\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"category\":\"Vector Stores\",\"description\":\"Upsert embedded data and perform similarity search upon query using Supabase via pgvector extension\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"supabaseApi\"],\"id\":\"supabase_0-input-credential-credential\"},{\"label\":\"Supabase Project URL\",\"name\":\"supabaseProjUrl\",\"type\":\"string\",\"id\":\"supabase_0-input-supabaseProjUrl-string\"},{\"label\":\"Table Name\",\"name\":\"tableName\",\"type\":\"string\",\"id\":\"supabase_0-input-tableName-string\"},{\"label\":\"Query Name\",\"name\":\"queryName\",\"type\":\"string\",\"id\":\"supabase_0-input-queryName-string\"},{\"label\":\"Supabase Metadata Filter\",\"name\":\"supabaseMetadataFilter\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"supabase_0-input-supabaseMetadataFilter-json\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"supabase_0-input-topK-number\"}],\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"supabase_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"supabase_0-input-embeddings-Embeddings\"}],\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"supabaseProjUrl\":\"\",\"tableName\":\"\",\"queryName\":\"\",\"supabaseMetadataFilter\":\"\",\"topK\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"supabase_0-output-retriever-Supabase|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Supabase Retriever\",\"type\":\"Supabase | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"supabase_0-output-vectorStore-Supabase|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Supabase Vector Store\",\"type\":\"Supabase | VectorStore\"}],\"default\":\"retriever\"}],\"outputs\":{\"output\":\"vectorStore\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":263.16882559270005,\"y\":920.6999513218148},\"dragging\":false}],\"edges\":[{\"source\":\"vectorStoreRetriever_0\",\"sourceHandle\":\"vectorStoreRetriever_0-output-vectorStoreRetriever-VectorStoreRetriever\",\"target\":\"multiRetrievalQAChain_0\",\"targetHandle\":\"multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"type\":\"buttonedge\",\"id\":\"vectorStoreRetriever_0-vectorStoreRetriever_0-output-vectorStoreRetriever-VectorStoreRetriever-multiRetrievalQAChain_0-multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"vectorStoreRetriever_1\",\"sourceHandle\":\"vectorStoreRetriever_1-output-vectorStoreRetriever-VectorStoreRetriever\",\"target\":\"multiRetrievalQAChain_0\",\"targetHandle\":\"multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"type\":\"buttonedge\",\"id\":\"vectorStoreRetriever_1-vectorStoreRetriever_1-output-vectorStoreRetriever-VectorStoreRetriever-multiRetrievalQAChain_0-multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"vectorStoreRetriever_2\",\"sourceHandle\":\"vectorStoreRetriever_2-output-vectorStoreRetriever-VectorStoreRetriever\",\"target\":\"multiRetrievalQAChain_0\",\"targetHandle\":\"multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"type\":\"buttonedge\",\"id\":\"vectorStoreRetriever_2-vectorStoreRetriever_2-output-vectorStoreRetriever-VectorStoreRetriever-multiRetrievalQAChain_0-multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"multiRetrievalQAChain_0\",\"targetHandle\":\"multiRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-multiRetrievalQAChain_0-multiRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"pinecone_0\",\"sourceHandle\":\"pinecone_0-output-vectorStore-Pinecone|VectorStore\",\"target\":\"vectorStoreRetriever_2\",\"targetHandle\":\"vectorStoreRetriever_2-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"pinecone_0-pinecone_0-output-vectorStore-Pinecone|VectorStore-vectorStoreRetriever_2-vectorStoreRetriever_2-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}},{\"source\":\"chroma_0\",\"sourceHandle\":\"chroma_0-output-vectorStore-Chroma|VectorStore\",\"target\":\"vectorStoreRetriever_1\",\"targetHandle\":\"vectorStoreRetriever_1-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"chroma_0-chroma_0-output-vectorStore-Chroma|VectorStore-vectorStoreRetriever_1-vectorStoreRetriever_1-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}},{\"source\":\"supabase_0\",\"sourceHandle\":\"supabase_0-output-vectorStore-Supabase|VectorStore\",\"target\":\"vectorStoreRetriever_0\",\"targetHandle\":\"vectorStoreRetriever_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"supabase_0-supabase_0-output-vectorStore-Supabase|VectorStore-vectorStoreRetriever_0-vectorStoreRetriever_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"supabase_0\",\"targetHandle\":\"supabase_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-supabase_0-supabase_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"chroma_0\",\"targetHandle\":\"chroma_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-chroma_0-chroma_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"pinecone_0\",\"targetHandle\":\"pinecone_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-pinecone_0-pinecone_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":87.80470330398884,\"y\":137.87516407045695,\"zoom\":0.6344063103222671}}","isPublic":false,"name":"test"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"24442","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BrTZm4xpzOPpFytBvwc9dBampOE%2FsvBRRewYNV1ClT94YmnC6GWDsnHZyVkSlctZiAic9QIA%2F0uw%3D%3D; n8n-auth=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjJjN2U5ODBjLWZjNTctNDAwNy05YWE0LTY3M2M2OWVjMTQxNiIsImVtYWlsIjoicGlsb3R1bWN4QGdtYWlsLmNvbSIsInBhc3N3b3JkIjoiNDFlMDI4ZmYzYTViNjVhYjZhODIxYWE4YjI0MWY4NTRmNTIxODZkOWYzOWM0MDgxZGYxYzdkNTQ3NWE4Y2JiMyIsImlhdCI6MTcwMDg1MzE5MCwiZXhwIjoxNzAxNDU3OTkwfQ.dKPnIaKMuEp3a6M_VNf2oacy42ZzWjAMk8wiVdEY3Ys; rl_user_id=RudderEncrypt%3AU2FsdGVkX18%2FhgMyWIX7hHdVU8gAyT7fnNVb%2FIOsSqDGffs84ihtcwMpoKSwZw1PlKBpUfKdBElJyYtIFnG9XcbH6qNOkuDk6zjhq6kumbCdtsAurtK9RL89eJ9PxW1yynmfg6ILL%2BIi6vPPcAbr80PANcbdYbY01IBxe1kBOus%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vnPkubwT4NLYNdO1eAYHJaqhk6EJ1uTs3%2Bp1HE7dFiOJJ5HXCzI3fELs%2Bao13UvXOUlHphUH5NeGqH%2FwrcqiDi%2BDaXKv2TxYLGCjrUeSAXWvA07%2BLe3yXy5%2FsH%2BPUlGSelPC05Pu8kg%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19qYoCcNBpjT7lH%2FVT1JYMQ%2BtCIe7lw09XDS%2Fj%2BFWpJTC0WOlZjT%2FuUiHFUE%2BI802TRrfoWsJfJhTT1Cl2TsnYNy4Zou5M7O2xRjs%2Fpcx3lWBZWEfpNOWYnDGBflON9lplPYDcEO6G%2FdA%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1700934015633%2C%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C1700934015633%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c0791-5a91-75b2-ba81-fe03add5791b%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflow%2FOpffLB4flXxDDESG%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-11-26 02:10:04"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":"3607b477-6581-4fe9-a086-5168247be339"},"label":"Custom Tool","loadMethod":"listTools","name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"745","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-11 18:29:29"}
{"level":"info","message":"⬆️ POST /api/v1/credentials","package":"server","request":{"body":{"credentialName":"redisCacheApi","name":"perfil","plainDataObj":{"redisCacheHost":"redis-15132.c1.us-east1-2.gce.cloud.redislabs.com","redisCachePort":"15132","redisCachePwd":"iQGztgpySPZ6mmProyFVe4VSPZLvQlZv","redisCacheUser":"default"}},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"239","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/credentials"},"timestamp":"2023-12-11 18:30:25"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":"3607b477-6581-4fe9-a086-5168247be339"},"label":"Custom Tool","loadMethod":"listTools","name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"745","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-11 18:31:35"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["RetrieverTool","DynamicTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use a retriever as allowed tool for agent","id":"retrieverTool_0","inputAnchors":[{"id":"retrieverTool_0-input-retriever-BaseRetriever","label":"Retriever","name":"retriever","type":"BaseRetriever"}],"inputParams":[{"id":"retrieverTool_0-input-name-string","label":"Retriever Name","name":"name","placeholder":"search_state_of_union","type":"string"},{"description":"When should agent uses to retrieve documents","id":"retrieverTool_0-input-description-string","label":"Retriever Description","name":"description","placeholder":"Searches and returns documents regarding the state-of-the-union.","rows":3,"type":"string"}],"inputs":{"description":"UTILIZE ESTA FERRAMENTA PARA OBTER DADOS SOBRE A EMPRESA FIBER.","name":"BASE-FIBER","retriever":"{{pineconeExistingIndex_0.data.instance}}"},"label":"Retriever Tool","name":"retrieverTool","outputAnchors":[{"id":"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable","label":"RetrieverTool","name":"retrieverTool","type":"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":true,"type":"RetrieverTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1255","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-11 18:33:05"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2200.0214950361833,\"y\":94.05655098941708},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2200.0214950361833,\"y\":94.05655098941708},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1690.7922188216519,\"y\":-408.3590246670179},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":true,\"positionAbsolute\":{\"x\":1690.7922188216519,\"y\":-408.3590246670179},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1313.2106829249906,\"y\":225.71232483114414},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1313.2106829249906,\"y\":225.71232483114414},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1288.983768107647,\"y\":-513.0536245831321},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1288.983768107647,\"y\":-513.0536245831321},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":151.75371300854442,\"y\":257.717246215391,\"zoom\":0.4129860521117019}}","isPublic":false,"name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22005","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-12-11 18:41:03"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:41:12"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"31","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:42:35"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"31","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:44:02"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1731.752140805512,\"y\":-507.8037141556017},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1731.752140805512,\"y\":-507.8037141556017},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1224.6771271996076,\"y\":154.0423035296438},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1224.6771271996076,\"y\":154.0423035296438},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1288.983768107647,\"y\":-513.0536245831321},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1288.983768107647,\"y\":-513.0536245831321},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":59.987140079231494,\"y\":275.2750422959855,\"zoom\":0.41298605211170214}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22488","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:44:04"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"JF5Oon-IE5d5VDStAAAF"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:44:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"}],"question":"Saberai me dizer quantos imoveis existe disponiveis?","socketIOClientId":"JF5Oon-IE5d5VDStAAAF"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2523","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:44:34"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:47:56"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":140.50735052920328},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":140.50735052920328},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-254.35236544793042,\"y\":340.4315509291796,\"zoom\":0.6259698009234338}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22490","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:49:36"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":140.50735052920328},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":140.50735052920328},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":121.86022053537306,\"y\":354.01716278277837,\"zoom\":0.5449383654110754}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22490","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:53:29"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":true,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-6.6007409103269765,\"y\":173.75660256878336,\"zoom\":0.6259698039224756}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22495","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:55:14"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-42.60074091032698,\"y\":291.75660256878336,\"zoom\":0.6259698039224756}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22494","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:55:23"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["Document"],"category":"Document Loaders","description":"Load data from webpages","id":"cheerioWebScraper_0","inputAnchors":[{"id":"cheerioWebScraper_0-input-textSplitter-TextSplitter","label":"Text Splitter","name":"textSplitter","optional":true,"type":"TextSplitter"}],"inputParams":[{"id":"cheerioWebScraper_0-input-url-string","label":"URL","name":"url","type":"string"},{"additionalParams":true,"description":"Select a method to retrieve relative links","id":"cheerioWebScraper_0-input-relativeLinksMethod-options","label":"Get Relative Links Method","name":"relativeLinksMethod","optional":true,"options":[{"description":"Crawl relative links from HTML URL","label":"Web Crawl","name":"webCrawl"},{"description":"Scrape relative links from XML sitemap URL","label":"Scrape XML Sitemap","name":"scrapeXMLSitemap"}],"type":"options"},{"additionalParams":true,"description":"Only used when \"Get Relative Links Method\" is selected. Set 0 to retrieve all relative links, default limit is 10.","id":"cheerioWebScraper_0-input-limit-number","label":"Get Relative Links Limit","name":"limit","optional":true,"type":"number","warning":"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)"},{"additionalParams":true,"description":"Specify a CSS selector to select the content to be extracted","id":"cheerioWebScraper_0-input-selector-string","label":"Selector (CSS)","name":"selector","optional":true,"type":"string"},{"additionalParams":true,"id":"cheerioWebScraper_0-input-metadata-json","label":"Metadata","name":"metadata","optional":true,"type":"json"}],"inputs":{"limit":"20","metadata":"{}","relativeLinksMethod":"webCrawl","selector":"section","textSplitter":"{{htmlToMarkdownTextSplitter_0.data.instance}}","url":"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul"},"label":"Cheerio Web Scraper","name":"cheerioWebScraper","outputAnchors":[{"id":"cheerioWebScraper_0-output-cheerioWebScraper-Document","label":"Document","name":"cheerioWebScraper","type":"Document"}],"outputs":{},"selected":false,"type":"Document","version":1.1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2180","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-11 18:55:27"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1797.6478996716487,\"y\":-530.776177403272},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1292.9090117086919,\"y\":-512.13608962114},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":12.229826639470048,\"y\":365.3026671653897,\"zoom\":0.7190504840435645}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22493","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:55:42"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:55:44"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1947.8148876173507,\"y\":-702.9889571963218},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1947.8148876173507,\"y\":-702.9889571963218},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1249.7759407030114,\"y\":-655.912992973408},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1249.7759407030114,\"y\":-655.912992973408},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-313.99618952686114,\"y\":274.11711458937805,\"zoom\":0.5449383654110757}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22501","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:57:22"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"Saberai me dizer quantos imoveis existe disponiveis?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/6358"},"pageContent":"Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7268%2FiDZ7i1G2A_72686463d5c462720.jpg&w=3840&q=75)Desvio RizzoResidencial Puerto Madero82.23 m² - 2 dorm2 suítes - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"}],"question":"Ola","socketIOClientId":"k2Eb7Vto2tEkdfRQAAAJ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"4553","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:57:26"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"Saberai me dizer quantos imoveis existe disponiveis?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/6358"},"pageContent":"Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7268%2FiDZ7i1G2A_72686463d5c462720.jpg&w=3840&q=75)Desvio RizzoResidencial Puerto Madero82.23 m² - 2 dorm2 suítes - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"}],"question":"Boa tarde!","socketIOClientId":"O0vN1Jfkn0MQ0nboAAAL"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"4560","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:57:52"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given context. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Do not make up any information that is not in the context. Refuse to answer any question not about the info. Never break character.\",\"chainOption\":\"\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1249.7759407030114,\"y\":-655.912992973408},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1249.7759407030114,\"y\":-655.912992973408},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-209.1092576866431,\"y\":237.21795188448948,\"zoom\":0.4129860540903321}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22496","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:58:04"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"Saberai me dizer quantos imoveis existe disponiveis?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/6358"},"pageContent":"Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7268%2FiDZ7i1G2A_72686463d5c462720.jpg&w=3840&q=75)Desvio RizzoResidencial Puerto Madero82.23 m² - 2 dorm2 suítes - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"}],"question":"Ola","socketIOClientId":"M0oWhvQ73SIV0HbrAAAN"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"4553","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:58:08"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"Saberai me dizer quantos imoveis existe disponiveis?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/6358"},"pageContent":"Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7268%2FiDZ7i1G2A_72686463d5c462720.jpg&w=3840&q=75)Desvio RizzoResidencial Puerto Madero82.23 m² - 2 dorm2 suítes - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"GourmetFitnessJardimPiscina AquecidaPlaygroundPortariaPortaria24 HrsQuadra Poli EsportivaSala JogosSalao De FestasChurrasqueiraClosetEspera SplitEsquadrias Em P V CLareiraLavaboE mais...Conheça![Imagem do slider 5](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7204%2Fi2W6rv86O14624_72046440285a7be51.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"}],"question":"imoveis","socketIOClientId":"M0oWhvQ73SIV0HbrAAAN"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"6715","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:58:24"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"Saberai me dizer quantos imoveis existe disponiveis?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/6358"},"pageContent":"Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7268%2FiDZ7i1G2A_72686463d5c462720.jpg&w=3840&q=75)Desvio RizzoResidencial Puerto Madero82.23 m² - 2 dorm2 suítes - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"GourmetFitnessJardimPiscina AquecidaPlaygroundPortariaPortaria24 HrsQuadra Poli EsportivaSala JogosSalao De FestasChurrasqueiraClosetEspera SplitEsquadrias Em P V CLareiraLavaboE mais...Conheça![Imagem do slider 5](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7204%2Fi2W6rv86O14624_72046440285a7be51.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"imoveis","type":"userMessage"},{"message":"As informações que gostaria de obter sobre imóveis são as seguintes:\n\n- Revisão e atualização periódica dos imóveis no site\n- Possibilidade de alteração de informações e valores sem aviso prévio\n- Canais de atendimento ao USUÁRIO: \"Fale conosco\", Botão \"Quero Visitar\" de cada imóvel, Encontre seu imóvel, \"Venda seu imóvel\"\n- Solicitação de diferentes informações de acordo com a finalidade da coleta de dados\n- Informação sobre os dados que estão sendo coletados e possibilidade de fornecê-los ou não\n- Consequências da decisão de fornecer ou não os dados\n- Obtenção de todos os documentos necessários para o imóvel\n- Formalização do negócio por meio de registros cartoriais\n- Prêmios recebidos pela imobiliária\n- Registro e armazenamento de tela de acesso do usuário\n- Confirmação dos dados pessoais informados pelo USUÁRIO consultando órgãos públicos, empresas especializadas ou centrais de risco com a autorização do USUÁRIO.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":89,"to":89}},"source":"https://perfilimoveiscaxias.com.br/politicas\\-de\\-privacidade"},"pageContent":"conosco pelos canais de atendimento ao USUÁRIO:“Fale conosco”, Botão “Quero Visitar” de cada imóvel, Encontre seu imóvel, “Venda seu imóvel”. Para cada uma das modalidades de coleta de dados poderão ser solicitadas diferentes informações, de acordo com a finalidade da sua coleta. Assim, os USUÁRIOS serão sempre informados sobre os dados que estão sendo coletados, ficando a seu critério fornecê-los ou não, e, em cada caso, serão avisados também sobre as conseqüências de sua decisão. No PERFIL"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":107,"to":107}},"source":"https://perfilimoveiscaxias.com.br/politicas\\-de\\-privacidade"},"pageContent":"algumas situações e para melhor oferta dos serviços, o PERFIL IMÓVEIS poderá gravar a tela de acesso do usuário. Este registro é armazenado em um banco de dados protegido e sigiloso. Quanto mais informações você fornecer, melhor será a personalização da sua experiência. O SITE poderá confirmar os dados pessoais informados pelo USUÁRIO consultando órgãos públicos, empresas especializadas ou centrais de risco – neste caso, o USUÁRIO deve dar sua expressa autorização. As informações que o SITE"}],"type":"apiMessage"}],"question":"Sabe me dizer quanto imóveis disponiveis existe?","socketIOClientId":"M0oWhvQ73SIV0HbrAAAN"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"10122","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 18:59:03"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1249.7759407030114,\"y\":-655.912992973408},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1249.7759407030114,\"y\":-655.912992973408},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1113.3555696941453,\"y\":71.99959791821445,\"zoom\":0.8259721081806649}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22199","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:00:13"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"Saberai me dizer quantos imoveis existe disponiveis?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/6358"},"pageContent":"Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7268%2FiDZ7i1G2A_72686463d5c462720.jpg&w=3840&q=75)Desvio RizzoResidencial Puerto Madero82.23 m² - 2 dorm2 suítes - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"GourmetFitnessJardimPiscina AquecidaPlaygroundPortariaPortaria24 HrsQuadra Poli EsportivaSala JogosSalao De FestasChurrasqueiraClosetEspera SplitEsquadrias Em P V CLareiraLavaboE mais...Conheça![Imagem do slider 5](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7204%2Fi2W6rv86O14624_72046440285a7be51.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"imoveis","type":"userMessage"},{"message":"As informações que gostaria de obter sobre imóveis são as seguintes:\n\n- Revisão e atualização periódica dos imóveis no site\n- Possibilidade de alteração de informações e valores sem aviso prévio\n- Canais de atendimento ao USUÁRIO: \"Fale conosco\", Botão \"Quero Visitar\" de cada imóvel, Encontre seu imóvel, \"Venda seu imóvel\"\n- Solicitação de diferentes informações de acordo com a finalidade da coleta de dados\n- Informação sobre os dados que estão sendo coletados e possibilidade de fornecê-los ou não\n- Consequências da decisão de fornecer ou não os dados\n- Obtenção de todos os documentos necessários para o imóvel\n- Formalização do negócio por meio de registros cartoriais\n- Prêmios recebidos pela imobiliária\n- Registro e armazenamento de tela de acesso do usuário\n- Confirmação dos dados pessoais informados pelo USUÁRIO consultando órgãos públicos, empresas especializadas ou centrais de risco com a autorização do USUÁRIO.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":89,"to":89}},"source":"https://perfilimoveiscaxias.com.br/politicas\\-de\\-privacidade"},"pageContent":"conosco pelos canais de atendimento ao USUÁRIO:“Fale conosco”, Botão “Quero Visitar” de cada imóvel, Encontre seu imóvel, “Venda seu imóvel”. Para cada uma das modalidades de coleta de dados poderão ser solicitadas diferentes informações, de acordo com a finalidade da sua coleta. Assim, os USUÁRIOS serão sempre informados sobre os dados que estão sendo coletados, ficando a seu critério fornecê-los ou não, e, em cada caso, serão avisados também sobre as conseqüências de sua decisão. No PERFIL"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":107,"to":107}},"source":"https://perfilimoveiscaxias.com.br/politicas\\-de\\-privacidade"},"pageContent":"algumas situações e para melhor oferta dos serviços, o PERFIL IMÓVEIS poderá gravar a tela de acesso do usuário. Este registro é armazenado em um banco de dados protegido e sigiloso. Quanto mais informações você fornecer, melhor será a personalização da sua experiência. O SITE poderá confirmar os dados pessoais informados pelo USUÁRIO consultando órgãos públicos, empresas especializadas ou centrais de risco – neste caso, o USUÁRIO deve dar sua expressa autorização. As informações que o SITE"}],"type":"apiMessage"},{"message":"Sabe me dizer quanto imóveis disponiveis existe?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7189"},"pageContent":"Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7332%2Fis3Q7r7iRua673u4216_7332648b73bc8da58.jpg&w=3840&q=75)UniversitarioResidencial Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"}],"question":"Ola","socketIOClientId":"dDShxAgL664dcwwCAAAP"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"12155","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:00:16"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":815.1329124005558,\"y\":-481.1379535472765},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":true,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1249.7759407030114,\"y\":-655.912992973408},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1249.7759407030114,\"y\":-655.912992973408},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-688.5180040438247,\"y\":424.7202601725572,\"zoom\":0.6259698039224763}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22202","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:00:46"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"Saberai me dizer quantos imoveis existe disponiveis?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/6358"},"pageContent":"Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7268%2FiDZ7i1G2A_72686463d5c462720.jpg&w=3840&q=75)Desvio RizzoResidencial Puerto Madero82.23 m² - 2 dorm2 suítes - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"GourmetFitnessJardimPiscina AquecidaPlaygroundPortariaPortaria24 HrsQuadra Poli EsportivaSala JogosSalao De FestasChurrasqueiraClosetEspera SplitEsquadrias Em P V CLareiraLavaboE mais...Conheça![Imagem do slider 5](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7204%2Fi2W6rv86O14624_72046440285a7be51.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"imoveis","type":"userMessage"},{"message":"As informações que gostaria de obter sobre imóveis são as seguintes:\n\n- Revisão e atualização periódica dos imóveis no site\n- Possibilidade de alteração de informações e valores sem aviso prévio\n- Canais de atendimento ao USUÁRIO: \"Fale conosco\", Botão \"Quero Visitar\" de cada imóvel, Encontre seu imóvel, \"Venda seu imóvel\"\n- Solicitação de diferentes informações de acordo com a finalidade da coleta de dados\n- Informação sobre os dados que estão sendo coletados e possibilidade de fornecê-los ou não\n- Consequências da decisão de fornecer ou não os dados\n- Obtenção de todos os documentos necessários para o imóvel\n- Formalização do negócio por meio de registros cartoriais\n- Prêmios recebidos pela imobiliária\n- Registro e armazenamento de tela de acesso do usuário\n- Confirmação dos dados pessoais informados pelo USUÁRIO consultando órgãos públicos, empresas especializadas ou centrais de risco com a autorização do USUÁRIO.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":89,"to":89}},"source":"https://perfilimoveiscaxias.com.br/politicas\\-de\\-privacidade"},"pageContent":"conosco pelos canais de atendimento ao USUÁRIO:“Fale conosco”, Botão “Quero Visitar” de cada imóvel, Encontre seu imóvel, “Venda seu imóvel”. Para cada uma das modalidades de coleta de dados poderão ser solicitadas diferentes informações, de acordo com a finalidade da sua coleta. Assim, os USUÁRIOS serão sempre informados sobre os dados que estão sendo coletados, ficando a seu critério fornecê-los ou não, e, em cada caso, serão avisados também sobre as conseqüências de sua decisão. No PERFIL"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":107,"to":107}},"source":"https://perfilimoveiscaxias.com.br/politicas\\-de\\-privacidade"},"pageContent":"algumas situações e para melhor oferta dos serviços, o PERFIL IMÓVEIS poderá gravar a tela de acesso do usuário. Este registro é armazenado em um banco de dados protegido e sigiloso. Quanto mais informações você fornecer, melhor será a personalização da sua experiência. O SITE poderá confirmar os dados pessoais informados pelo USUÁRIO consultando órgãos públicos, empresas especializadas ou centrais de risco – neste caso, o USUÁRIO deve dar sua expressa autorização. As informações que o SITE"}],"type":"apiMessage"},{"message":"Sabe me dizer quanto imóveis disponiveis existe?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7189"},"pageContent":"Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7332%2Fis3Q7r7iRua673u4216_7332648b73bc8da58.jpg&w=3840&q=75)UniversitarioResidencial Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Based on the new context provided, it is not possible to determine how many available properties there are. The additional information only provides details about a specific property (Residencial New Space) and its features, but it does not give any indication of the total number of properties available. Therefore, the original answer remains the same: Não é possível determinar quantos imóveis disponíveis existem com base nas informações fornecidas. (It is not possible to determine how many available properties there are based on the information provided.)","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7189"},"pageContent":"Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7332%2Fis3Q7r7iRua673u4216_7332648b73bc8da58.jpg&w=3840&q=75)UniversitarioResidencial Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"}],"question":"Ola","socketIOClientId":"DuuHN-BNoXrbrKdUAAAR"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"14738","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:01:04"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section.a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-75.58569419483274,\"y\":343.6622441329998,\"zoom\":0.4743964009702814}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22245","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:02:42"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:02:48"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"section.a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-75.58569419483274,\"y\":343.6622441329998,\"zoom\":0.4743964009702814}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22247","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:03:09"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:03:18"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"20\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-75.58569419483274,\"y\":343.6622441329998,\"zoom\":0.4743964009702814}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22239","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:03:32"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:03:35"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-75.58569419483274,\"y\":343.6622441329998,\"zoom\":0.4743964009702814}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22240","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:04:23"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-75.58569419483274,\"y\":343.6622441329998,\"zoom\":0.4743964009702814}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22240","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:04:24"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:04:27"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-75.58569419483274,\"y\":343.6622441329998,\"zoom\":0.4743964009702814}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22240","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:06:07"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider 2](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53dc0eaaa.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"Saberai me dizer quantos imoveis existe disponiveis?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/6358"},"pageContent":"Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7268%2FiDZ7i1G2A_72686463d5c462720.jpg&w=3840&q=75)Desvio RizzoResidencial Puerto Madero82.23 m² - 2 dorm2 suítes - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"OfficeLareiraE mais...Conheça![Imagem do slider 20](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c5449bb714.jpg&w=3840&q=70)![Imagem do slider 1](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7161%2FiFS052lA6G7872O08_7161642c53d8c0835.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaHortaLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraDecoradoEspera SplitLavaboSacacada GourmetSemi MobiliadoSuite MasterConheça![Imagem do slider 21](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7586%2Fi6Y8m_7586654e5fb38e3c5.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitConheça![Imagem do slider 22](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7581%2Fi5sI4a91M769_7581654bbb51eb037.jpg&w=3840&q=70)![Imagem do slider"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"GourmetFitnessJardimPiscina AquecidaPlaygroundPortariaPortaria24 HrsQuadra Poli EsportivaSala JogosSalao De FestasChurrasqueiraClosetEspera SplitEsquadrias Em P V CLareiraLavaboE mais...Conheça![Imagem do slider 5](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7204%2Fi2W6rv86O14624_72046440285a7be51.jpg&w=3840&q=70)![Imagem do slider"}],"type":"apiMessage"},{"message":"imoveis","type":"userMessage"},{"message":"As informações que gostaria de obter sobre imóveis são as seguintes:\n\n- Revisão e atualização periódica dos imóveis no site\n- Possibilidade de alteração de informações e valores sem aviso prévio\n- Canais de atendimento ao USUÁRIO: \"Fale conosco\", Botão \"Quero Visitar\" de cada imóvel, Encontre seu imóvel, \"Venda seu imóvel\"\n- Solicitação de diferentes informações de acordo com a finalidade da coleta de dados\n- Informação sobre os dados que estão sendo coletados e possibilidade de fornecê-los ou não\n- Consequências da decisão de fornecer ou não os dados\n- Obtenção de todos os documentos necessários para o imóvel\n- Formalização do negócio por meio de registros cartoriais\n- Prêmios recebidos pela imobiliária\n- Registro e armazenamento de tela de acesso do usuário\n- Confirmação dos dados pessoais informados pelo USUÁRIO consultando órgãos públicos, empresas especializadas ou centrais de risco com a autorização do USUÁRIO.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":89,"to":89}},"source":"https://perfilimoveiscaxias.com.br/politicas\\-de\\-privacidade"},"pageContent":"conosco pelos canais de atendimento ao USUÁRIO:“Fale conosco”, Botão “Quero Visitar” de cada imóvel, Encontre seu imóvel, “Venda seu imóvel”. Para cada uma das modalidades de coleta de dados poderão ser solicitadas diferentes informações, de acordo com a finalidade da sua coleta. Assim, os USUÁRIOS serão sempre informados sobre os dados que estão sendo coletados, ficando a seu critério fornecê-los ou não, e, em cada caso, serão avisados também sobre as conseqüências de sua decisão. No PERFIL"},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":107,"to":107}},"source":"https://perfilimoveiscaxias.com.br/politicas\\-de\\-privacidade"},"pageContent":"algumas situações e para melhor oferta dos serviços, o PERFIL IMÓVEIS poderá gravar a tela de acesso do usuário. Este registro é armazenado em um banco de dados protegido e sigiloso. Quanto mais informações você fornecer, melhor será a personalização da sua experiência. O SITE poderá confirmar os dados pessoais informados pelo USUÁRIO consultando órgãos públicos, empresas especializadas ou centrais de risco – neste caso, o USUÁRIO deve dar sua expressa autorização. As informações que o SITE"}],"type":"apiMessage"},{"message":"Sabe me dizer quanto imóveis disponiveis existe?","type":"userMessage"},{"message":"Hmm, I am not sure.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7189"},"pageContent":"Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7332%2Fis3Q7r7iRua673u4216_7332648b73bc8da58.jpg&w=3840&q=75)UniversitarioResidencial Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Based on the new context provided, it is not possible to determine how many available properties there are. The additional information only provides details about a specific property (Residencial New Space) and its features, but it does not give any indication of the total number of properties available. Therefore, the original answer remains the same: Não é possível determinar quantos imóveis disponíveis existem com base nas informações fornecidas. (It is not possible to determine how many available properties there are based on the information provided.)","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/termos\\-de\\-uso"},"pageContent":"Termo de UsoTodos os imóveis deste site são revisados e atualizados periodicamente. Portanto, poderá haver alteração de informações e valores sem aviso prévio."},{"metadata":{"loc":{"lines":{"from":9,"to":9}},"source":"https://perfilimoveiscaxias.com.br/quem\\-somos"},"pageContent":"imóvel. Obtenção de todos os documentos necessários. Formalização do negócio por meio de registros cartoriaisNossos Prêmios2013, 2014 e 2015 - Imobiliária do ano - Domini 2014, 2015 e 2017 Prêmio Olimpo - Atena 2016 e 2017 Imobiliária Diamond - Censi 2018 e 2019 Imobiliária Destaque - Lançamentos BWBNós somos a Perfil!![Imagem de membro da equipe](/_next/image?url=http%3A%2F%2Frepos.perfilimoveiscaxias.com.br%2Fmedia%2Fcorretores%2FAle_Masiero_SerhQ9i.jpg&w=3840&q=75)Alexandra MasieroAuxiliar"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7189"},"pageContent":"Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7332%2Fis3Q7r7iRua673u4216_7332648b73bc8da58.jpg&w=3840&q=75)UniversitarioResidencial Brasil Set97.35 m² - 3 dorm1 suíte - 1 vagaR$ 650.000,00Conheça![Imagem de destaque do imóvel"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/7268"},"pageContent":"suíte - 2 vagasR$ 650.000,00Conheça![Imagem de destaque do imóvel similar](/_next/image?url=https%3A%2F%2Fcdn.vistahost.com.br%2Fperfil_imoveis2931%2Fvista.imobi%2Ffotos%2F7601%2FiKz72ot47w2Sh4mrl9599_76016557956114d6f.jpg&w=3840&q=75)Pio XResidencial New Space110.64 m² - 3 dorm1 suíte - 2 vagasR$ 655.000,00Conheça![Imagem de destaque do imóvel"}],"type":"apiMessage"}],"question":"Ola","socketIOClientId":"0HTZaHkeoQeVOFlmAAAX"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"14738","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:06:10"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=9d23c3f6-c715-4d63-80be-3e9ac5836203&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"9d23c3f6-c715-4d63-80be-3e9ac5836203","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=9d23c3f6-c715-4d63-80be-3e9ac5836203&chatType=INTERNAL"},"timestamp":"2023-12-11 19:06:27"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"OYYlYT6gxgirkBRhAAAZ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:06:34"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola, Boa tarde!","socketIOClientId":"7p_1VVHtNRAylVrFAAAb"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"85","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:06:51"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2296.986817973507,\"y\":37.14212230881384},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1758.9465245637666,\"y\":-606.133386399612},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-245.58569419483274,\"y\":335.6622441329998,\"zoom\":0.4743964009702814}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22239","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:07:07"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola, Boa tarde!","socketIOClientId":"WIkAoyhZstPWwl5tAAAd"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"85","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:07:13"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"3jTPMe8vnaoW-dOMAAAf"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:07:35"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":318.58799891315834,\"y\":-318.1253288807631},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2341.253595624115,\"y\":-9.232597134679963},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2341.253595624115,\"y\":-9.232597134679963},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":806.7011452290113,\"y\":-483.2458953401625},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1959.2009948879445,\"y\":-549.2189579916878},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1959.2009948879445,\"y\":-549.2189579916878},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1401.5477497908096,\"y\":-632.7256332516611},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-329.58569419483274,\"y\":280.6622441329998,\"zoom\":0.4743964009702814}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22245","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:07:42"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"NKiGJ1p099nPMjqgAAAh"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:07:48"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"v4-aEwjtEjy1NH6wAAAl"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:09:14"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":753.3108014068141,\"y\":67.95845337141111},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2411.473884451729,\"y\":-103.66677866147197},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2411.473884451729,\"y\":-103.66677866147197},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1099.6892468890583,\"y\":-676.957036933582},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1099.6892468890583,\"y\":-676.957036933582},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1978.5721090472866,\"y\":-648.4959180583153},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1978.5721090472866,\"y\":-648.4959180583153},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1325.1970000117717,\"y\":138.90982938084477},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-117.06280747044775,\"y\":360.5698212077949,\"zoom\":0.41298605409033246}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22240","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:09:21"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"TwjkNjfIzY-YrGHUAAAn"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:09:24"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":905.8583254116318,\"y\":-118.48852041225516},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":905.8583254116318,\"y\":-118.48852041225516},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2662.8784628330905,\"y\":-54.119890951276616},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2662.8784628330905,\"y\":-54.119890951276616},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":978.619783393171,\"y\":-681.7998154734175},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":978.619783393171,\"y\":-681.7998154734175},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2117.583064811161,\"y\":-665.2506744796342},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2117.583064811161,\"y\":-665.2506744796342},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1756.20429005713,\"y\":66.26815128331242},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1756.20429005713,\"y\":66.26815128331242},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-481.2367660696864,\"y\":400.88157873179966,\"zoom\":0.5449383654110763}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22237","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:13:00"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"aPf2NMSsjoa6M7L1AAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:13:03"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2662.8784628330905,\"y\":-54.119890951276616},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2662.8784628330905,\"y\":-54.119890951276616},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"100\",\"topP\":\"5\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":true,\"positionAbsolute\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-736.2367660696864,\"y\":355.88157873179966,\"zoom\":0.5449383654110763}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22249","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:15:00"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"8s3qD9C6lSvAFq4JAAAx"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:15:02"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2543.598918345583,\"y\":-149.5435265412825},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2543.598918345583,\"y\":-149.5435265412825},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":true,\"positionAbsolute\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-444.20470349326547,\"y\":326.45606171112564,\"zoom\":0.5449383654110767}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22242","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:21:50"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"gdbNo9zD5YMoiuKqAAAz"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:21:53"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"t1yCQIUaGb6PcXGYAAA1"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:22:01"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"Fifjp0J6ABTPcoRaAAA3"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:22:33"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2354.7305552919993,\"y\":-55.10934501449057},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2354.7305552919993,\"y\":-55.10934501449057},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-148.47452721622517,\"y\":327.18153829883596,\"zoom\":0.4129860540903329}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22243","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:25:41"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2354.7305552919993,\"y\":-55.10934501449057},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2354.7305552919993,\"y\":-55.10934501449057},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-136.90756141837153,\"y\":377.6818302651749,\"zoom\":0.500555256620305}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22241","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:26:57"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2354.7305552919993,\"y\":-55.10934501449057},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{redis_0.data.instance}}\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"refine\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2354.7305552919993,\"y\":-55.10934501449057},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2023.9944991363473,\"y\":-689.1065833771356},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-136.90756141837153,\"y\":377.6818302651749,\"zoom\":0.500555256620305}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"22241","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:26:57"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"0K4UlTkRODp6fi8TAAAB"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:27:00"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"c8efa157-018e-4874-8794-799b83d743aa","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudá-lo(a) a encontrar o imóvel perfeito com características como cozinha gourmet, academia, piscina aquecida, terraço e churrasqueira?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"m²1 dorm1 suíte1 vagaFrenteBicicletarioBrinquedotecaFitnessJardimLounge ExternoPiscinaPiscina AquecidaPlaygroundPortaria24 HrsRooftopSala De ReunioesSala JogosSalao De FestasDecoradoEsquadrias Em P V CLavaboMobiliadoE mais..."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"PermutaImóvel com vídeo140.00 m²3 dorm1 suíte2 vagasBicicletarioBrinquedotecaEspaco GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitEssence Life ResidenceExposicao Caxias do Sul, RSR$ 1.390.000,00#7581Imóvel com vídeo142.67 m²3 dorm1 suíte3 vagasFrenteSalao De FestasChurrasqueiraEsquadrias Em P V CLareiraLavaboMobiliadoSacada FechadaSplitVidros DuplosResidencial Tessália - Último AndarMadureira/Altos"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimLounge ExternoPlaygroundPortaria24 HrsQuiosqueSalao De FestasChurrasqueiraDecoradoEspera SplitMobiliadoSacadaEssenziale LoftsCentro Caxias do Sul, RSR$ 620.000,00#7438Imóvel com vídeo85.85 m²2 dorm1 suíte2 vagasFitnessSalao De FestasDecoradoEspera SplitMobiliado"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis"},"pageContent":"GourmetFitnessPiscina AquecidaRooftopSala FitnessChurrasqueiraEspera SplitEsquadrias Em P V CHome OfficeLavaboSacacada GourmetTerracoVaranda GourmetVidros DuplosFlora VidacasaabertaExposicao Caxias do Sul, RSR$ 2.999.000,00#7568Avalia Permuta270.19 m²3 dorm3 suítes3 vagasFrenteBicicletarioBrinquedotecaEspaco GourmetFitnessLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraClosetEspera CalefacaoEspera SplitLavaboSacacada GourmetSuite MasterTerracoVidros"}],"type":"apiMessage"}],"question":"Quantos disponiveis existem?","socketIOClientId":"0K4UlTkRODp6fi8TAAAB"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2426","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:28:23"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"c8efa157-018e-4874-8794-799b83d743aa","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudá-lo(a) a encontrar o imóvel perfeito com características como cozinha gourmet, academia, piscina aquecida, terraço e churrasqueira?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"m²1 dorm1 suíte1 vagaFrenteBicicletarioBrinquedotecaFitnessJardimLounge ExternoPiscinaPiscina AquecidaPlaygroundPortaria24 HrsRooftopSala De ReunioesSala JogosSalao De FestasDecoradoEsquadrias Em P V CLavaboMobiliadoE mais..."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"PermutaImóvel com vídeo140.00 m²3 dorm1 suíte2 vagasBicicletarioBrinquedotecaEspaco GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitEssence Life ResidenceExposicao Caxias do Sul, RSR$ 1.390.000,00#7581Imóvel com vídeo142.67 m²3 dorm1 suíte3 vagasFrenteSalao De FestasChurrasqueiraEsquadrias Em P V CLareiraLavaboMobiliadoSacada FechadaSplitVidros DuplosResidencial Tessália - Último AndarMadureira/Altos"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimLounge ExternoPlaygroundPortaria24 HrsQuiosqueSalao De FestasChurrasqueiraDecoradoEspera SplitMobiliadoSacadaEssenziale LoftsCentro Caxias do Sul, RSR$ 620.000,00#7438Imóvel com vídeo85.85 m²2 dorm1 suíte2 vagasFitnessSalao De FestasDecoradoEspera SplitMobiliado"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis"},"pageContent":"GourmetFitnessPiscina AquecidaRooftopSala FitnessChurrasqueiraEspera SplitEsquadrias Em P V CHome OfficeLavaboSacacada GourmetTerracoVaranda GourmetVidros DuplosFlora VidacasaabertaExposicao Caxias do Sul, RSR$ 2.999.000,00#7568Avalia Permuta270.19 m²3 dorm3 suítes3 vagasFrenteBicicletarioBrinquedotecaEspaco GourmetFitnessLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraClosetEspera CalefacaoEspera SplitLavaboSacacada GourmetSuite MasterTerracoVidros"}],"type":"apiMessage"},{"message":"Quantos disponiveis existem?","type":"userMessage"},{"message":"Based on the new context provided, we can see that there are at least two properties mentioned with characteristics like a gourmet kitchen, fitness area, heated pool, terrace, and barbecue. However, we still cannot determine the exact quantity of properties with these features available as we do not have a comprehensive list or database of all properties. Therefore, the original answer remains the same: it is necessary to have access to a specific database or property listing to obtain that information.Based on the additional context provided, we can see that there are at least two properties mentioned with characteristics such as a gourmet kitchen, terrace, and barbecue. However, we still cannot determine the exact quantity of properties with all the specified features like a gourmet kitchen, fitness area, heated pool, terrace, and barbecue, as the new context does not mention these specific features. Therefore, the original answer remains the same: it is necessary to have access to a specific database or property listing to obtain that information.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis"},"pageContent":"GourmetFitnessPiscina AquecidaRooftopSala FitnessChurrasqueiraEspera SplitEsquadrias Em P V CHome OfficeLavaboSacacada GourmetTerracoVaranda GourmetVidros DuplosFlora VidacasaabertaExposicao Caxias do Sul, RSR$ 2.999.000,00#7568Avalia Permuta270.19 m²3 dorm3 suítes3 vagasFrenteBicicletarioBrinquedotecaEspaco GourmetFitnessLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraClosetEspera CalefacaoEspera SplitLavaboSacacada GourmetSuite MasterTerracoVidros"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"PermutaImóvel com vídeo140.00 m²3 dorm1 suíte2 vagasBicicletarioBrinquedotecaEspaco GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitEssence Life ResidenceExposicao Caxias do Sul, RSR$ 1.390.000,00#7581Imóvel com vídeo142.67 m²3 dorm1 suíte3 vagasFrenteSalao De FestasChurrasqueiraEsquadrias Em P V CLareiraLavaboMobiliadoSacada FechadaSplitVidros DuplosResidencial Tessália - Último AndarMadureira/Altos"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis"},"pageContent":"m²3 dorm3 suítes2 vagasBicicletarioEspaco GourmetFitnessLounge ExternoPiscina AquecidaSala JogosSalao De FestasChurrasqueiraEspera CalefacaoEspera SplitLavaboSacadaSuite MasterCristal ExposiçãoExposicao Caxias do Sul, RSR$ 3.950.000,00#7330Avalia PermutaImóvel com vídeo322.56 m²4 dorm4 suítes5 vagasFrenteBrinquedotecaEspaco GourmetFitnessJardimLounge ExternoPiscinaPlaygroundCalefacaoChurrasqueiraClosetEspera CalefacaoEspera SplitHidromassagemLareiraLavaboSacadaSemi MobiliadoE mais...Iandé"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"Poli EsportivaSalao De FestasChurrasqueiraClosetEspera CalefacaoEspera SplitLavaboSacacada GourmetSuite MasterTerracoVidros DuplosResidencial TeggianoVinhedos Caxias do Sul, RSR$ 790.000,00#7566136.00 m²2 dorm2 suítes2 vagasFrenteJardimSalao De FestasChurrasqueiraClosetMobiliadoSacada FechadaSplitSuite MasterTerracoVaranda GourmetMy Place ResidencePanazzolo Caxias do Sul, RSR$ 450.000,00#7539Imóvel com vídeo56.37 m²2 dorm1 suíte2 vagasBicicletarioBrinquedotecaEspaco"}],"type":"apiMessage"}],"question":"Poderia,listar eles?","socketIOClientId":"0K4UlTkRODp6fi8TAAAB"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"6079","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:28:55"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":"3607b477-6581-4fe9-a086-5168247be339"},"label":"Custom Tool","loadMethod":"listTools","name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"745","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-11 19:30:04"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1030.2121601629835,\"y\":539.3462223041183},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.2\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1030.2121601629835,\"y\":539.3462223041183}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"type\":\"customNode\",\"data\":{\"id\":\"bufferWindowMemory_0\",\"label\":\"Buffer Window Memory\",\"version\":1,\"name\":\"bufferWindowMemory\",\"type\":\"BufferWindowMemory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forths to use as memory\",\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forths to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"inputAnchors\":[],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":1837.2931722590176,\"y\":165.8369353310585},\"type\":\"customNode\",\"data\":{\"id\":\"openAIFunctionAgent_0\",\"label\":\"OpenAI Function Agent\",\"version\":1,\"name\":\"openAIFunctionAgent\",\"type\":\"AgentExecutor\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"category\":\"Agents\",\"description\":\"An agent that uses OpenAI's Function Calling functionality to pick the tool and args to call\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI Chat Model\",\"name\":\"model\",\"description\":\"Only works with gpt-3.5-turbo-0613 and gpt-4-0613. Refer <a target=\\\"_blank\\\" href=\\\"https://platform.openai.com/docs/guides/gpt/function-calling\\\">docs</a> for more info\",\"type\":\"BaseChatModel\",\"id\":\"openAIFunctionAgent_0-input-model-BaseChatModel\"}],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\",\"{{retrieverTool_0.data.instance}}\",\"{{customTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual em forma de chatbot para a empresa Fiber.\\nSiga rigorosamente todas as seguintes regras:\\n\\n- Você deve relacionar todas as solicitações dos usuários a empresa Fiber;\\n- Limite sua resposta a um máximo de 100 palavras por resposta;\\n- Sempre responda o usuário de maneira organizada e usando a linguagem Markdown, separando em sessões quando necessário e criando listas para um melhor entendimento visual do usuário;\\n- Instruções para Markdown, tente sempre utilizar caso possível: titulação, lista de itens, tabela e ênfase;\\n- Garanta que sua mensagem tenha a estrutura necessária para que o usuário compreenda o conteúdo apresentando em tópico, sessões e listas;\\n- SEMPRE escreva todas palavras e termos em português (PT-BR), verifique antes de escrever;\\n- Quando não souber a resposta, direcione a pessoa para o WhatsApp (51) 9 9692122;\\n- Quando alguma solicitação de produto for relacionada a alguma patologia, informe se o produto é recomendado para o caso da pessoa, falando de uma forma que não influencie a pessoa, que o recomendado seria ela procurar um profissional. Caso o produto seja recomendado para ela, explique de forma técnica e baseada em fundamentos.\"},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1837.2931722590176,\"y\":165.8369353310585}},{\"width\":300,\"height\":278,\"id\":\"customTool_0\",\"position\":{\"x\":926.54032174591,\"y\":-381.5763909472579},\"type\":\"customNode\",\"data\":{\"id\":\"customTool_0\",\"label\":\"Custom Tool\",\"version\":1,\"name\":\"customTool\",\"type\":\"CustomTool\",\"baseClasses\":[\"CustomTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"category\":\"Tools\",\"description\":\"Use custom tool you've created in Flowise within chatflow\",\"inputParams\":[{\"label\":\"Select Tool\",\"name\":\"selectedTool\",\"type\":\"asyncOptions\",\"loadMethod\":\"listTools\",\"id\":\"customTool_0-input-selectedTool-asyncOptions\"}],\"inputAnchors\":[],\"inputs\":{\"selectedTool\":\"3607b477-6581-4fe9-a086-5168247be339\"},\"outputAnchors\":[{\"id\":\"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable\",\"name\":\"customTool\",\"label\":\"CustomTool\",\"type\":\"CustomTool | Tool | StructuredTool | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":926.54032174591,\"y\":-381.5763909472579}},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1521.9204602370917,\"y\":-631.1806520819737},\"type\":\"customNode\",\"data\":{\"id\":\"retrieverTool_0\",\"label\":\"Retriever Tool\",\"version\":1,\"name\":\"retrieverTool\",\"type\":\"RetrieverTool\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputs\":{\"name\":\"BASE-FIBER\",\"description\":\"UTILIZE ESTA FERRAMENTA PARA OBTER DADOS SOBRE A EMPRESA FIBER.\",\"retriever\":\"{{pineconeExistingIndex_0.data.instance}}\"},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1521.9204602370917,\"y\":-631.1806520819737},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"pineconeExistingIndex_0\",\"position\":{\"x\":1056.4262359085326,\"y\":-979.5269241536585},\"type\":\"customNode\",\"data\":{\"id\":\"pineconeExistingIndex_0\",\"label\":\"Pinecone Load Existing Index\",\"version\":1,\"name\":\"pineconeExistingIndex\",\"type\":\"Pinecone\",\"baseClasses\":[\"Pinecone\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"category\":\"Vector Stores\",\"description\":\"Load existing index from Pinecone (i.e: Document has been upserted)\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"pineconeApi\"],\"id\":\"pineconeExistingIndex_0-input-credential-credential\"},{\"label\":\"Pinecone Index\",\"name\":\"pineconeIndex\",\"type\":\"string\",\"id\":\"pineconeExistingIndex_0-input-pineconeIndex-string\"},{\"label\":\"Pinecone Namespace\",\"name\":\"pineconeNamespace\",\"type\":\"string\",\"placeholder\":\"my-first-namespace\",\"additionalParams\":true,\"optional\":true,\"id\":\"pineconeExistingIndex_0-input-pineconeNamespace-string\"},{\"label\":\"Pinecone Metadata Filter\",\"name\":\"pineconeMetadataFilter\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"pineconeExistingIndex_0-input-pineconeMetadataFilter-json\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"pineconeExistingIndex_0-input-topK-number\"}],\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"pineconeExistingIndex_0-input-embeddings-Embeddings\"}],\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"pineconeIndex\":\"iatondin\",\"pineconeNamespace\":\"FIBER3\",\"pineconeMetadataFilter\":\"\",\"topK\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"pineconeExistingIndex_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Pinecone Retriever\",\"type\":\"Pinecone | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"pineconeExistingIndex_0-output-vectorStore-Pinecone|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Pinecone Vector Store\",\"type\":\"Pinecone | VectorStore\"}],\"default\":\"retriever\"}],\"outputs\":{\"output\":\"retriever\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1056.4262359085326,\"y\":-979.5269241536585},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949}},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"type\":\"customNode\",\"data\":{\"id\":\"inMemoryCache_0\",\"label\":\"InMemory Cache\",\"version\":1,\"name\":\"inMemoryCache\",\"type\":\"InMemoryCache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"category\":\"Cache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"inputParams\":[],\"inputAnchors\":[],\"inputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"dragging\":false}],\"edges\":[{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-BaseChatModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-BaseChatModel\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"pineconeExistingIndex_0\",\"sourceHandle\":\"pineconeExistingIndex_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"pineconeExistingIndex_0-pineconeExistingIndex_0-output-retriever-Pinecone|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"pineconeExistingIndex_0\",\"targetHandle\":\"pineconeExistingIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-pineconeExistingIndex_0-pineconeExistingIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"customTool_0\",\"sourceHandle\":\"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"customTool_0-customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-416.63264143831475,\"y\":385.3862565715066,\"zoom\":0.7241470760827854}}","isPublic":false,"name":"chatflow Cenoura"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19485","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-12-11 19:32:54"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"tVk9dbUugg0_CMX_AAAF"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"73","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-11 19:32:59"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":481,\"id\":\"conversationalRetrievalQAChain_0\",\"position\":{\"x\":2830.4537234790287,\"y\":-166.47581476542715},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalRetrievalQAChain_0\",\"label\":\"Conversational Retrieval QA Chain\",\"version\":1,\"name\":\"conversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain\",\"baseClasses\":[\"ConversationalRetrievalQAChain\",\"BaseChain\"],\"category\":\"Chains\",\"description\":\"Document QA - built on RetrievalQAChain to provide a chat history component\",\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-returnSourceDocuments-boolean\"},{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"additionalParams\":true,\"optional\":true,\"placeholder\":\"I want you to act as a document that I am having a conversation with. Your name is \\\"AI Assistant\\\". You will provide me with answers from the given info. If the answer is not included, say exactly \\\"Hmm, I am not sure.\\\" and stop after that. Refuse to answer any question not about the info. Never break character.\",\"id\":\"conversationalRetrievalQAChain_0-input-systemMessagePrompt-string\"},{\"label\":\"Chain Option\",\"name\":\"chainOption\",\"type\":\"options\",\"options\":[{\"label\":\"MapReduceDocumentsChain\",\"name\":\"map_reduce\",\"description\":\"Suitable for QA tasks over larger documents and can run the preprocessing step in parallel, reducing the running time\"},{\"label\":\"RefineDocumentsChain\",\"name\":\"refine\",\"description\":\"Suitable for QA tasks over a large number of documents.\"},{\"label\":\"StuffDocumentsChain\",\"name\":\"stuff\",\"description\":\"Suitable for QA tasks over a small number of documents.\"}],\"additionalParams\":true,\"optional\":true,\"id\":\"conversationalRetrievalQAChain_0-input-chainOption-options\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"conversationalRetrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseMemory\",\"optional\":true,\"description\":\"If left empty, a default BufferMemory will be used\",\"id\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"\",\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"returnSourceDocuments\":true,\"systemMessagePrompt\":\"Você é assisntente da imobiliaria perfil, ajude os clientes a encontrar imóveis\",\"chainOption\":\"stuff\"},\"outputAnchors\":[{\"id\":\"conversationalRetrievalQAChain_0-output-conversationalRetrievalQAChain-ConversationalRetrievalQAChain|BaseChain\",\"name\":\"conversationalRetrievalQAChain\",\"label\":\"ConversationalRetrievalQAChain\",\"type\":\"ConversationalRetrievalQAChain | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":2830.4537234790287,\"y\":-166.47581476542715},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1825.9369468344419,\"y\":53.42266187696549},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2039.5501753621152,\"y\":-578.7209832158698},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"\",\"description\":\"\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2039.5501753621152,\"y\":-578.7209832158698},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalRetrievalQAChain_0\",\"targetHandle\":\"conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-conversationalRetrievalQAChain_0-conversationalRetrievalQAChain_0-input-memory-BaseMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2104.927519417027,\"y\":143.78050030136183,\"zoom\":1.001110513240611}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24028","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:33:43"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"c8efa157-018e-4874-8794-799b83d743aa","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudá-lo(a) a encontrar o imóvel perfeito com características como cozinha gourmet, academia, piscina aquecida, terraço e churrasqueira?","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"m²1 dorm1 suíte1 vagaFrenteBicicletarioBrinquedotecaFitnessJardimLounge ExternoPiscinaPiscina AquecidaPlaygroundPortaria24 HrsRooftopSala De ReunioesSala JogosSalao De FestasDecoradoEsquadrias Em P V CLavaboMobiliadoE mais..."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"PermutaImóvel com vídeo140.00 m²3 dorm1 suíte2 vagasBicicletarioBrinquedotecaEspaco GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitEssence Life ResidenceExposicao Caxias do Sul, RSR$ 1.390.000,00#7581Imóvel com vídeo142.67 m²3 dorm1 suíte3 vagasFrenteSalao De FestasChurrasqueiraEsquadrias Em P V CLareiraLavaboMobiliadoSacada FechadaSplitVidros DuplosResidencial Tessália - Último AndarMadureira/Altos"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"GourmetFitnessGuaritaJardimLounge ExternoPlaygroundPortaria24 HrsQuiosqueSalao De FestasChurrasqueiraDecoradoEspera SplitMobiliadoSacadaEssenziale LoftsCentro Caxias do Sul, RSR$ 620.000,00#7438Imóvel com vídeo85.85 m²2 dorm1 suíte2 vagasFitnessSalao De FestasDecoradoEspera SplitMobiliado"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis"},"pageContent":"GourmetFitnessPiscina AquecidaRooftopSala FitnessChurrasqueiraEspera SplitEsquadrias Em P V CHome OfficeLavaboSacacada GourmetTerracoVaranda GourmetVidros DuplosFlora VidacasaabertaExposicao Caxias do Sul, RSR$ 2.999.000,00#7568Avalia Permuta270.19 m²3 dorm3 suítes3 vagasFrenteBicicletarioBrinquedotecaEspaco GourmetFitnessLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraClosetEspera CalefacaoEspera SplitLavaboSacacada GourmetSuite MasterTerracoVidros"}],"type":"apiMessage"},{"message":"Quantos disponiveis existem?","type":"userMessage"},{"message":"Based on the additional context provided, we can see that there are at least two properties mentioned with characteristics such as a gourmet kitchen, terrace, and barbecue. However, we still cannot determine the exact quantity of properties with all the specified features like a gourmet kitchen, fitness area, heated pool, terrace, and barbecue, as the new context does not mention these specific features. Therefore, the original answer remains the same: it is necessary to have access to a specific database or property listing to obtain that information.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis"},"pageContent":"GourmetFitnessPiscina AquecidaRooftopSala FitnessChurrasqueiraEspera SplitEsquadrias Em P V CHome OfficeLavaboSacacada GourmetTerracoVaranda GourmetVidros DuplosFlora VidacasaabertaExposicao Caxias do Sul, RSR$ 2.999.000,00#7568Avalia Permuta270.19 m²3 dorm3 suítes3 vagasFrenteBicicletarioBrinquedotecaEspaco GourmetFitnessLounge ExternoPet PlacePlaygroundQuadra Poli EsportivaSalao De FestasChurrasqueiraClosetEspera CalefacaoEspera SplitLavaboSacacada GourmetSuite MasterTerracoVidros"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"PermutaImóvel com vídeo140.00 m²3 dorm1 suíte2 vagasBicicletarioBrinquedotecaEspaco GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitEssence Life ResidenceExposicao Caxias do Sul, RSR$ 1.390.000,00#7581Imóvel com vídeo142.67 m²3 dorm1 suíte3 vagasFrenteSalao De FestasChurrasqueiraEsquadrias Em P V CLareiraLavaboMobiliadoSacada FechadaSplitVidros DuplosResidencial Tessália - Último AndarMadureira/Altos"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis"},"pageContent":"m²3 dorm3 suítes2 vagasBicicletarioEspaco GourmetFitnessLounge ExternoPiscina AquecidaSala JogosSalao De FestasChurrasqueiraEspera CalefacaoEspera SplitLavaboSacadaSuite MasterCristal ExposiçãoExposicao Caxias do Sul, RSR$ 3.950.000,00#7330Avalia PermutaImóvel com vídeo322.56 m²4 dorm4 suítes5 vagasFrenteBrinquedotecaEspaco GourmetFitnessJardimLounge ExternoPiscinaPlaygroundCalefacaoChurrasqueiraClosetEspera CalefacaoEspera SplitHidromassagemLareiraLavaboSacadaSemi MobiliadoE mais...Iandé"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"Poli EsportivaSalao De FestasChurrasqueiraClosetEspera CalefacaoEspera SplitLavaboSacacada GourmetSuite MasterTerracoVidros DuplosResidencial TeggianoVinhedos Caxias do Sul, RSR$ 790.000,00#7566136.00 m²2 dorm2 suítes2 vagasFrenteJardimSalao De FestasChurrasqueiraClosetMobiliadoSacada FechadaSplitSuite MasterTerracoVaranda GourmetMy Place ResidencePanazzolo Caxias do Sul, RSR$ 450.000,00#7539Imóvel com vídeo56.37 m²2 dorm1 suíte2 vagasBicicletarioBrinquedotecaEspaco"}],"type":"apiMessage"},{"message":"Poderia,listar eles?","type":"userMessage"},{"message":"The original answer still stands as the provided context does not give any specific properties to list.","sourceDocuments":[{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/mobiliados"},"pageContent":"PermutaImóvel com vídeo140.00 m²3 dorm1 suíte2 vagasBicicletarioBrinquedotecaEspaco GourmetFitnessGuaritaJardimPet PlacePiscina AquecidaPlaygroundQuiosqueSala JogosSalao De FestasChurrasqueiraLavaboMobiliadoSacada FechadaSplitEssence Life ResidenceExposicao Caxias do Sul, RSR$ 1.390.000,00#7581Imóvel com vídeo142.67 m²3 dorm1 suíte3 vagasFrenteSalao De FestasChurrasqueiraEsquadrias Em P V CLareiraLavaboMobiliadoSacada FechadaSplitVidros DuplosResidencial Tessália - Último AndarMadureira/Altos"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"m²1 dorm1 suíte1 vagaFrenteBicicletarioBrinquedotecaFitnessJardimLounge ExternoPiscinaPiscina AquecidaPlaygroundPortaria24 HrsRooftopSala De ReunioesSala JogosSalao De FestasDecoradoEsquadrias Em P V CLavaboMobiliadoE mais..."},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis"},"pageContent":"m²3 dorm3 suítes2 vagasBicicletarioEspaco GourmetFitnessLounge ExternoPiscina AquecidaSala JogosSalao De FestasChurrasqueiraEspera CalefacaoEspera SplitLavaboSacadaSuite MasterCristal ExposiçãoExposicao Caxias do Sul, RSR$ 3.950.000,00#7330Avalia PermutaImóvel com vídeo322.56 m²4 dorm4 suítes5 vagasFrenteBrinquedotecaEspaco GourmetFitnessJardimLounge ExternoPiscinaPlaygroundCalefacaoChurrasqueiraClosetEspera CalefacaoEspera SplitHidromassagemLareiraLavaboSacadaSemi MobiliadoE mais...Iandé"},{"metadata":{"loc":{"lines":{"from":1,"to":1}},"source":"https://perfilimoveiscaxias.com.br/imoveis/lancamentos"},"pageContent":"JogosSalao De FestasChurrasqueiraClosetEspera CalefacaoEspera SplitEsquadrias Em P V CHome OfficeLareiraLavaboE mais...Casa Garden Ii - Condomínio Le ParcInterlagos Caxias do Sul, RSR$ 2.100.000,00#7206Avalia Permuta269.08 m²3 dorm3 suítes2 vagasFrenteBrinquedotecaEspaco GourmetFitnessJardimPiscina AquecidaPlaygroundPortariaPortaria24 HrsQuadra Poli EsportivaSala JogosSalao De FestasChurrasqueiraClosetEspera SplitEsquadrias Em P V CLavaboPatioE mais...Casa Garden - Condomínio Le ParcInterlagos"}],"type":"apiMessage"}],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"7979","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:33:47"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=c8efa157-018e-4874-8794-799b83d743aa&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"c8efa157-018e-4874-8794-799b83d743aa","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=c8efa157-018e-4874-8794-799b83d743aa&chatType=INTERNAL"},"timestamp":"2023-12-11 19:33:50"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"31","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:33:57"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":true,\"positionAbsolute\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1694.083371975145,\"y\":159.3050780518554},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1694.083371975145,\"y\":159.3050780518554},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1989.9770441211283,\"y\":-386.666576637139},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1989.9770441211283,\"y\":-386.666576637139},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3133.084062708396,\"y\":-225.68276282448227},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3133.084062708396,\"y\":-225.68276282448227},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-806.3368719748007,\"y\":362.6366365633171,\"zoom\":0.5005552566203054}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"23192","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:36:44"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"a2iusLf00xPXaXS-AAAN"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:36:49"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1694.083371975145,\"y\":159.3050780518554},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1694.083371975145,\"y\":159.3050780518554},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1989.9770441211283,\"y\":-386.666576637139},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1989.9770441211283,\"y\":-386.666576637139},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3133.084062708396,\"y\":-225.68276282448227},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":3133.084062708396,\"y\":-225.68276282448227},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-859.3368719748007,\"y\":351.6366365633171,\"zoom\":0.5005552566203054}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"23257","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:37:14"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"XmCTyisNQ_e6tbBBAAAP"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:37:17"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"F9FXMn21TJHrExR4AAAR"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:37:24"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"AZ7Yqq23toJdFcWRAAAT"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:39:03"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1694.083371975145,\"y\":159.3050780518554},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1694.083371975145,\"y\":159.3050780518554},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1989.9770441211283,\"y\":-386.666576637139},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1989.9770441211283,\"y\":-386.666576637139},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3133.084062708396,\"y\":-225.68276282448227},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":3133.084062708396,\"y\":-225.68276282448227},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1295.7022824751261,\"y\":271.25747960802676,\"zoom\":0.7138996713890849}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"23308","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:39:45"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"JXR29P9Wszj-Q6wMAAAV"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:39:48"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1017.7975902383694,\"y\":-101.97289117552337},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":621.2616576528762,\"y\":-562.6856451424553},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1044.6823003400982,\"y\":-698.3154447101493},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2407.568535090666,\"y\":-687.1088019398735},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"RedisBackedChatMemory_0\",\"position\":{\"x\":1694.083371975145,\"y\":159.3050780518554},\"type\":\"customNode\",\"data\":{\"id\":\"RedisBackedChatMemory_0\",\"label\":\"Redis-Backed Chat Memory\",\"version\":2,\"name\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory\",\"baseClasses\":[\"RedisBackedChatMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Summarizes the conversation and stores the memory in Redis server\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"optional\":true,\"credentialNames\":[\"redisCacheApi\",\"redisCacheUrlApi\"],\"id\":\"RedisBackedChatMemory_0-input-credential-credential\"},{\"label\":\"Session Id\",\"name\":\"sessionId\",\"type\":\"string\",\"description\":\"If not specified, the first CHAT_MESSAGE_ID will be used as sessionId\",\"default\":\"\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionId-string\"},{\"label\":\"Session Timeouts\",\"name\":\"sessionTTL\",\"type\":\"number\",\"description\":\"Omit this parameter to make sessions never expire\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisBackedChatMemory_0-input-sessionTTL-number\"},{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"additionalParams\":true,\"id\":\"RedisBackedChatMemory_0-input-memoryKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"sessionId\":\"chat\",\"sessionTTL\":\"\",\"memoryKey\":\"chat_history\"},\"outputAnchors\":[{\"id\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"name\":\"RedisBackedChatMemory\",\"label\":\"RedisBackedChatMemory\",\"type\":\"RedisBackedChatMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false,\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\"},\"selected\":false,\"positionAbsolute\":{\"x\":1694.083371975145,\"y\":159.3050780518554},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1481.4535956980953,\"y\":-698.10314353944},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2011.926781272345,\"y\":-574.4587722642134},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2011.926781272345,\"y\":-574.4587722642134},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3133.084062708396,\"y\":-225.68276282448227},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{RedisBackedChatMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3133.084062708396,\"y\":-225.68276282448227},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisBackedChatMemory_0\",\"sourceHandle\":\"RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"RedisBackedChatMemory_0-RedisBackedChatMemory_0-output-RedisBackedChatMemory-RedisBackedChatMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-425.2729119471244,\"y\":337.6851318613705,\"zoom\":0.4100276890787829}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"23307","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:40:56"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"QhGz-beu6wVxcouWAAAX"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:41:10"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1829.9951184169536,\"y\":-793.4309723654205},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1829.9951184169536,\"y\":-793.4309723654205},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3308.4959053091598,\"y\":607.8108588363082},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3308.4959053091598,\"y\":607.8108588363082},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2488.702644970584,\"y\":-744.4414775253414},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2488.702644970584,\"y\":-744.4414775253414},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3788.9094646638428,\"y\":-175.08158231647053},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3788.9094646638428,\"y\":-175.08158231647053},\"dragging\":false},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":3448.359953746211,\"y\":-843.7741836134878},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"\",\"prompt\":\"\",\"outputParser\":\"\",\"inputModeration\":\"\",\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3448.359953746211,\"y\":-843.7741836134878},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2967.9626649408397,\"y\":25.39788826533126},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":2967.9626649408397,\"y\":25.39788826533126},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2061.308060743556,\"y\":106.87255049644028,\"zoom\":0.8200553781575669}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"25443","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:44:20"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"5eyOnLGULzPPq0D7AAAZ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:44:23"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"c5592242-5187-4bc1-bcac-52c3f4633e87","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Sabe me dizer quantos imoveis disponiveis existem?","socketIOClientId":"5eyOnLGULzPPq0D7AAAZ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"276","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:45:15"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1829.9951184169536,\"y\":-793.4309723654205},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1829.9951184169536,\"y\":-793.4309723654205},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2490.311692293385,\"y\":-746.0505248481422},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2490.311692293385,\"y\":-746.0505248481422},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":3448.359953746211,\"y\":-843.7741836134878},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"\",\"prompt\":\"\",\"outputParser\":\"\",\"inputModeration\":\"\",\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3448.359953746211,\"y\":-843.7741836134878},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1504.0946774397898,\"y\":448.06750318464674,\"zoom\":0.6214857610646867}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"25445","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:45:37"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=c5592242-5187-4bc1-bcac-52c3f4633e87&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"c5592242-5187-4bc1-bcac-52c3f4633e87","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=c5592242-5187-4bc1-bcac-52c3f4633e87&chatType=INTERNAL"},"timestamp":"2023-12-11 19:45:40"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"c5H4ZrrMP2PbgjRGAAAd"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:45:43"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"uAdwLORaoBM-XuLMAAAf"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:46:04"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"ac69e5ee-8037-47a3-8867-29c207678c59","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"POderia me listar os imoveis?","socketIOClientId":"uAdwLORaoBM-XuLMAAAf"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"255","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:46:13"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"ac69e5ee-8037-47a3-8867-29c207678c59","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"POderia me listar os imoveis?","type":"userMessage"},{"message":"Claro! Aqui está a lista dos imóveis disponíveis:\n\n1. Apartamento na Avenida Paulista, nº 123 - 2 quartos, 1 banheiro, área de 80m², valor do aluguel: R$ 2.000,00/mês.\n2. Casa no bairro Morumbi - 3 quartos, 2 banheiros, área de 150m², valor do aluguel: R$ 3.500,00/mês.\n3. Sobrado na Rua Augusta, nº 456 - 4 quartos, 3 banheiros, área de 200m², valor do aluguel: R$ 4.000,00/mês.\n4. Kitnet na Vila Madalena - 1 quarto, 1 banheiro, área de 40m², valor do aluguel: R$ 1.200,00/mês.\n5. Cobertura no bairro Vila Mariana - 3 quartos, 3 banheiros, área de 180m², valor do aluguel: R$ 5.000,00/mês.\n\nSe você desejar mais informações sobre algum imóvel específico, é só me dizer o número correspondente.","type":"apiMessage"}],"question":"Você tem o link da página deles?","socketIOClientId":"uAdwLORaoBM-XuLMAAAf"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1091","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 19:46:31"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"W0zhfD6CXwyFcao0AAAh"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"73","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-11 20:20:55"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1829.9951184169536,\"y\":-793.4309723654205},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1829.9951184169536,\"y\":-793.4309723654205},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2490.311692293385,\"y\":-746.0505248481422},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2490.311692293385,\"y\":-746.0505248481422},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":3433.7267956453998,\"y\":-680.3705848210986},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"\",\"prompt\":\"\",\"outputParser\":\"\",\"inputModeration\":\"\",\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":3433.7267956453998,\"y\":-680.3705848210986},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-378.6317345227129,\"y\":390.2654210172342,\"zoom\":0.41002768907878334}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"25445","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:21:12"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"fac884ba-f992-4fe0-85cb-778d4a81ed73","history":[{"message":"Ola","type":"userMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"POderia me listar os imoveis?","type":"userMessage"},{"message":"Claro! Aqui está a lista dos imóveis disponíveis:\n\n1. Apartamento na Avenida Paulista, nº 123 - 2 quartos, 1 banheiro, área de 80m², valor do aluguel: R$ 2.000,00/mês.\n2. Casa no bairro Morumbi - 3 quartos, 2 banheiros, área de 150m², valor do aluguel: R$ 3.500,00/mês.\n3. Sobrado na Rua Augusta, nº 456 - 4 quartos, 3 banheiros, área de 200m², valor do aluguel: R$ 4.000,00/mês.\n4. Kitnet na Vila Madalena - 1 quarto, 1 banheiro, área de 40m², valor do aluguel: R$ 1.200,00/mês.\n5. Cobertura no bairro Vila Mariana - 3 quartos, 3 banheiros, área de 180m², valor do aluguel: R$ 5.000,00/mês.\n\nSe você desejar mais informações sobre algum imóvel específico, é só me dizer o número correspondente.","type":"apiMessage"},{"message":"Você tem o link da página deles?","type":"userMessage"},{"message":"Infelizmente, como sou um assistente de texto, não tenho a capacidade de fornecer links diretos para os imóveis. No entanto, você pode visitar o site da imobiliária Perfil para encontrar mais informações e detalhes sobre os imóveis disponíveis. Basta acessar www.imobiliariaperfil.com.br e procurar pela seção de imóveis para aluguel. Lá você encontrará fotos, descrições detalhadas e todas as informações necessárias.","type":"apiMessage"}],"question":"Ola","socketIOClientId":"5MnoUwDGxnzneOruAAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1711","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:21:16"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"fac884ba-f992-4fe0-85cb-778d4a81ed73","history":[{"message":"Ola","type":"userMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"POderia me listar os imoveis?","type":"userMessage"},{"message":"Claro! Aqui está a lista dos imóveis disponíveis:\n\n1. Apartamento na Avenida Paulista, nº 123 - 2 quartos, 1 banheiro, área de 80m², valor do aluguel: R$ 2.000,00/mês.\n2. Casa no bairro Morumbi - 3 quartos, 2 banheiros, área de 150m², valor do aluguel: R$ 3.500,00/mês.\n3. Sobrado na Rua Augusta, nº 456 - 4 quartos, 3 banheiros, área de 200m², valor do aluguel: R$ 4.000,00/mês.\n4. Kitnet na Vila Madalena - 1 quarto, 1 banheiro, área de 40m², valor do aluguel: R$ 1.200,00/mês.\n5. Cobertura no bairro Vila Mariana - 3 quartos, 3 banheiros, área de 180m², valor do aluguel: R$ 5.000,00/mês.\n\nSe você desejar mais informações sobre algum imóvel específico, é só me dizer o número correspondente.","type":"apiMessage"},{"message":"Você tem o link da página deles?","type":"userMessage"},{"message":"Infelizmente, como sou um assistente de texto, não tenho a capacidade de fornecer links diretos para os imóveis. No entanto, você pode visitar o site da imobiliária Perfil para encontrar mais informações e detalhes sobre os imóveis disponíveis. Basta acessar www.imobiliariaperfil.com.br e procurar pela seção de imóveis para aluguel. Lá você encontrará fotos, descrições detalhadas e todas as informações necessárias.","type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"liste 2 imoveis","socketIOClientId":"EUuHFyzYogBv-eWPAAAn"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1832","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:22:01"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1810.4842409492055,\"y\":-791.7713476440853},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1810.4842409492055,\"y\":-791.7713476440853},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2491.9207396161855,\"y\":-747.6595721709431},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2491.9207396161855,\"y\":-747.6595721709431},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-843.5802468808672,\"y\":548.4625292341725,\"zoom\":0.6214857610646867}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"23060","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:28:31"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:28:34"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"dragging\":false},{\"width\":300,\"height\":378,\"id\":\"htmlToMarkdownTextSplitter_0\",\"position\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"type\":\"customNode\",\"data\":{\"id\":\"htmlToMarkdownTextSplitter_0\",\"label\":\"HtmlToMarkdown Text Splitter\",\"version\":1,\"name\":\"htmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter\",\"baseClasses\":[\"HtmlToMarkdownTextSplitter\",\"MarkdownTextSplitter\",\"RecursiveCharacterTextSplitter\",\"TextSplitter\",\"BaseDocumentTransformer\"],\"category\":\"Text Splitters\",\"description\":\"Converts Html to Markdown and then split your content into documents based on the Markdown headers\",\"inputParams\":[{\"label\":\"Chunk Size\",\"name\":\"chunkSize\",\"type\":\"number\",\"default\":1000,\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkSize-number\"},{\"label\":\"Chunk Overlap\",\"name\":\"chunkOverlap\",\"type\":\"number\",\"optional\":true,\"id\":\"htmlToMarkdownTextSplitter_0-input-chunkOverlap-number\"}],\"inputAnchors\":[],\"inputs\":{\"chunkSize\":\"500\",\"chunkOverlap\":\"20\"},\"outputAnchors\":[{\"id\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"name\":\"htmlToMarkdownTextSplitter\",\"label\":\"HtmlToMarkdownTextSplitter\",\"type\":\"HtmlToMarkdownTextSplitter | MarkdownTextSplitter | RecursiveCharacterTextSplitter | TextSplitter | BaseDocumentTransformer\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1311.4589480744603,\"y\":-699.261787416691},\"dragging\":false},{\"width\":300,\"height\":382,\"id\":\"cheerioWebScraper_0\",\"position\":{\"x\":1810.4842409492055,\"y\":-791.7713476440853},\"type\":\"customNode\",\"data\":{\"id\":\"cheerioWebScraper_0\",\"label\":\"Cheerio Web Scraper\",\"version\":1.1,\"name\":\"cheerioWebScraper\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Load data from webpages\",\"inputParams\":[{\"label\":\"URL\",\"name\":\"url\",\"type\":\"string\",\"id\":\"cheerioWebScraper_0-input-url-string\"},{\"label\":\"Get Relative Links Method\",\"name\":\"relativeLinksMethod\",\"type\":\"options\",\"description\":\"Select a method to retrieve relative links\",\"options\":[{\"label\":\"Web Crawl\",\"name\":\"webCrawl\",\"description\":\"Crawl relative links from HTML URL\"},{\"label\":\"Scrape XML Sitemap\",\"name\":\"scrapeXMLSitemap\",\"description\":\"Scrape relative links from XML sitemap URL\"}],\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-relativeLinksMethod-options\"},{\"label\":\"Get Relative Links Limit\",\"name\":\"limit\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"description\":\"Only used when \\\"Get Relative Links Method\\\" is selected. Set 0 to retrieve all relative links, default limit is 10.\",\"warning\":\"Retrieving all links might take long time, and all links will be upserted again if the flow's state changed (eg: different URL, chunk size, etc)\",\"id\":\"cheerioWebScraper_0-input-limit-number\"},{\"label\":\"Selector (CSS)\",\"name\":\"selector\",\"type\":\"string\",\"description\":\"Specify a CSS selector to select the content to be extracted\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-selector-string\"},{\"label\":\"Metadata\",\"name\":\"metadata\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"cheerioWebScraper_0-input-metadata-json\"}],\"inputAnchors\":[{\"label\":\"Text Splitter\",\"name\":\"textSplitter\",\"type\":\"TextSplitter\",\"optional\":true,\"id\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\"}],\"inputs\":{\"url\":\"https://perfilimoveiscaxias.com.br/imoveis?pesquisa=filtro&cidade=Caxias%20Do%20Sul&bairros=Exposi%C3%A7%C3%A3o\",\"textSplitter\":\"{{htmlToMarkdownTextSplitter_0.data.instance}}\",\"relativeLinksMethod\":\"webCrawl\",\"limit\":\"100\",\"metadata\":\"{}\",\"selector\":\"a.PropertiesListItem_propertyLink__wOw5m\"},\"outputAnchors\":[{\"id\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"name\":\"cheerioWebScraper\",\"label\":\"Document\",\"type\":\"Document\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1810.4842409492055,\"y\":-791.7713476440853},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2491.9207396161855,\"y\":-747.6595721709431},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[\"{{cheerioWebScraper_0.data.instance}}\"],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2491.9207396161855,\"y\":-747.6595721709431},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"dragging\":false}],\"edges\":[{\"source\":\"htmlToMarkdownTextSplitter_0\",\"sourceHandle\":\"htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer\",\"target\":\"cheerioWebScraper_0\",\"targetHandle\":\"cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"type\":\"buttonedge\",\"id\":\"htmlToMarkdownTextSplitter_0-htmlToMarkdownTextSplitter_0-output-htmlToMarkdownTextSplitter-HtmlToMarkdownTextSplitter|MarkdownTextSplitter|RecursiveCharacterTextSplitter|TextSplitter|BaseDocumentTransformer-cheerioWebScraper_0-cheerioWebScraper_0-input-textSplitter-TextSplitter\",\"data\":{\"label\":\"\"}},{\"source\":\"cheerioWebScraper_0\",\"sourceHandle\":\"cheerioWebScraper_0-output-cheerioWebScraper-Document\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-document-Document\",\"type\":\"buttonedge\",\"id\":\"cheerioWebScraper_0-cheerioWebScraper_0-output-cheerioWebScraper-Document-redis_0-redis_0-input-document-Document\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-843.5802468808672,\"y\":548.4625292341725,\"zoom\":0.6214857610646867}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"23135","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:41:02"}
{"level":"info","message":"⬆️ POST /api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"stopNodeId":"redis_0"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"24","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/vector/internal-upsert/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:41:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"fac884ba-f992-4fe0-85cb-778d4a81ed73","history":[{"message":"Ola","type":"userMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"POderia me listar os imoveis?","type":"userMessage"},{"message":"Claro! Aqui está a lista dos imóveis disponíveis:\n\n1. Apartamento na Avenida Paulista, nº 123 - 2 quartos, 1 banheiro, área de 80m², valor do aluguel: R$ 2.000,00/mês.\n2. Casa no bairro Morumbi - 3 quartos, 2 banheiros, área de 150m², valor do aluguel: R$ 3.500,00/mês.\n3. Sobrado na Rua Augusta, nº 456 - 4 quartos, 3 banheiros, área de 200m², valor do aluguel: R$ 4.000,00/mês.\n4. Kitnet na Vila Madalena - 1 quarto, 1 banheiro, área de 40m², valor do aluguel: R$ 1.200,00/mês.\n5. Cobertura no bairro Vila Mariana - 3 quartos, 3 banheiros, área de 180m², valor do aluguel: R$ 5.000,00/mês.\n\nSe você desejar mais informações sobre algum imóvel específico, é só me dizer o número correspondente.","type":"apiMessage"},{"message":"Você tem o link da página deles?","type":"userMessage"},{"message":"Infelizmente, como sou um assistente de texto, não tenho a capacidade de fornecer links diretos para os imóveis. No entanto, você pode visitar o site da imobiliária Perfil para encontrar mais informações e detalhes sobre os imóveis disponíveis. Basta acessar www.imobiliariaperfil.com.br e procurar pela seção de imóveis para aluguel. Lá você encontrará fotos, descrições detalhadas e todas as informações necessárias.","type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"liste 2 imoveis","type":"userMessage"},{"message":"Claro! Aqui estão dois imóveis disponíveis:\n\n1. Apartamento na Avenida Paulista, nº 123 - 2 quartos, 1 banheiro, área de 80m², valor do aluguel: R$ 2.000,00/mês.\n2. Casa no bairro Morumbi - 3 quartos, 2 banheiros, área de 150m², valor do aluguel: R$ 3.500,00/mês.\n\nEsses são apenas dois exemplos, temos outros imóveis disponíveis. Se você tiver alguma preferência específica, posso refinar a busca.","type":"apiMessage"}],"question":"Ola","socketIOClientId":"NIP00G-K-4XParX_AAAp"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2325","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:42:42"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=fac884ba-f992-4fe0-85cb-778d4a81ed73&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"fac884ba-f992-4fe0-85cb-778d4a81ed73","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=fac884ba-f992-4fe0-85cb-778d4a81ed73&chatType=INTERNAL"},"timestamp":"2023-12-11 20:43:01"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"31","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:43:05"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"6c9e84ad-c61e-43f3-a1f1-de8d2881f9b8","history":[{"message":"Ola","type":"userMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"POderia me listar os imoveis?","type":"userMessage"},{"message":"Claro! Aqui está a lista dos imóveis disponíveis:\n\n1. Apartamento na Avenida Paulista, nº 123 - 2 quartos, 1 banheiro, área de 80m², valor do aluguel: R$ 2.000,00/mês.\n2. Casa no bairro Morumbi - 3 quartos, 2 banheiros, área de 150m², valor do aluguel: R$ 3.500,00/mês.\n3. Sobrado na Rua Augusta, nº 456 - 4 quartos, 3 banheiros, área de 200m², valor do aluguel: R$ 4.000,00/mês.\n4. Kitnet na Vila Madalena - 1 quarto, 1 banheiro, área de 40m², valor do aluguel: R$ 1.200,00/mês.\n5. Cobertura no bairro Vila Mariana - 3 quartos, 3 banheiros, área de 180m², valor do aluguel: R$ 5.000,00/mês.\n\nSe você desejar mais informações sobre algum imóvel específico, é só me dizer o número correspondente.","type":"apiMessage"},{"message":"Você tem o link da página deles?","type":"userMessage"},{"message":"Infelizmente, como sou um assistente de texto, não tenho a capacidade de fornecer links diretos para os imóveis. No entanto, você pode visitar o site da imobiliária Perfil para encontrar mais informações e detalhes sobre os imóveis disponíveis. Basta acessar www.imobiliariaperfil.com.br e procurar pela seção de imóveis para aluguel. Lá você encontrará fotos, descrições detalhadas e todas as informações necessárias.","type":"apiMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Saberia me dizer quanto imoveis disponiveis existem?","socketIOClientId":"6dlApYMrysIW1PiCAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1760","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:43:30"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"6c9e84ad-c61e-43f3-a1f1-de8d2881f9b8","history":[{"message":"Ola","type":"userMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"POderia me listar os imoveis?","type":"userMessage"},{"message":"Claro! Aqui está a lista dos imóveis disponíveis:\n\n1. Apartamento na Avenida Paulista, nº 123 - 2 quartos, 1 banheiro, área de 80m², valor do aluguel: R$ 2.000,00/mês.\n2. Casa no bairro Morumbi - 3 quartos, 2 banheiros, área de 150m², valor do aluguel: R$ 3.500,00/mês.\n3. Sobrado na Rua Augusta, nº 456 - 4 quartos, 3 banheiros, área de 200m², valor do aluguel: R$ 4.000,00/mês.\n4. Kitnet na Vila Madalena - 1 quarto, 1 banheiro, área de 40m², valor do aluguel: R$ 1.200,00/mês.\n5. Cobertura no bairro Vila Mariana - 3 quartos, 3 banheiros, área de 180m², valor do aluguel: R$ 5.000,00/mês.\n\nSe você desejar mais informações sobre algum imóvel específico, é só me dizer o número correspondente.","type":"apiMessage"},{"message":"Você tem o link da página deles?","type":"userMessage"},{"message":"Infelizmente, como sou um assistente de texto, não tenho a capacidade de fornecer links diretos para os imóveis. No entanto, você pode visitar o site da imobiliária Perfil para encontrar mais informações e detalhes sobre os imóveis disponíveis. Basta acessar www.imobiliariaperfil.com.br e procurar pela seção de imóveis para aluguel. Lá você encontrará fotos, descrições detalhadas e todas as informações necessárias.","type":"apiMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Saberia me dizer quanto imoveis disponiveis existem?","type":"userMessage"},{"message":"Existem atualmente 8 imóveis disponíveis para locação. Posso ajudar com alguma informação específica sobre algum imóvel em particular?","type":"apiMessage"}],"question":"algum no exposição","socketIOClientId":"6dlApYMrysIW1PiCAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1993","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:43:49"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"6c9e84ad-c61e-43f3-a1f1-de8d2881f9b8","history":[{"message":"Ola","type":"userMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"POderia me listar os imoveis?","type":"userMessage"},{"message":"Claro! Aqui está a lista dos imóveis disponíveis:\n\n1. Apartamento na Avenida Paulista, nº 123 - 2 quartos, 1 banheiro, área de 80m², valor do aluguel: R$ 2.000,00/mês.\n2. Casa no bairro Morumbi - 3 quartos, 2 banheiros, área de 150m², valor do aluguel: R$ 3.500,00/mês.\n3. Sobrado na Rua Augusta, nº 456 - 4 quartos, 3 banheiros, área de 200m², valor do aluguel: R$ 4.000,00/mês.\n4. Kitnet na Vila Madalena - 1 quarto, 1 banheiro, área de 40m², valor do aluguel: R$ 1.200,00/mês.\n5. Cobertura no bairro Vila Mariana - 3 quartos, 3 banheiros, área de 180m², valor do aluguel: R$ 5.000,00/mês.\n\nSe você desejar mais informações sobre algum imóvel específico, é só me dizer o número correspondente.","type":"apiMessage"},{"message":"Você tem o link da página deles?","type":"userMessage"},{"message":"Infelizmente, como sou um assistente de texto, não tenho a capacidade de fornecer links diretos para os imóveis. No entanto, você pode visitar o site da imobiliária Perfil para encontrar mais informações e detalhes sobre os imóveis disponíveis. Basta acessar www.imobiliariaperfil.com.br e procurar pela seção de imóveis para aluguel. Lá você encontrará fotos, descrições detalhadas e todas as informações necessárias.","type":"apiMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Saberia me dizer quanto imoveis disponiveis existem?","type":"userMessage"},{"message":"Existem atualmente 8 imóveis disponíveis para locação. Posso ajudar com alguma informação específica sobre algum imóvel em particular?","type":"apiMessage"},{"message":"algum no exposição","type":"userMessage"},{"message":"Desculpe, mas não tenho acesso ao banco de dados de imóveis disponíveis no momento. Sugiro entrar em contato diretamente com a imobiliária Perfil para obter informações sobre os imóveis disponíveis no Exposição.","type":"apiMessage"}],"question":"Me liste algum imovel","socketIOClientId":"6dlApYMrysIW1PiCAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2306","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:44:07"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=ac69e5ee-8037-47a3-8867-29c207678c59&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"ac69e5ee-8037-47a3-8867-29c207678c59","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=ac69e5ee-8037-47a3-8867-29c207678c59&chatType=INTERNAL"},"timestamp":"2023-12-11 20:44:30"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=fac884ba-f992-4fe0-85cb-778d4a81ed73&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"fac884ba-f992-4fe0-85cb-778d4a81ed73","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=fac884ba-f992-4fe0-85cb-778d4a81ed73&chatType=INTERNAL"},"timestamp":"2023-12-11 20:44:39"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=6c9e84ad-c61e-43f3-a1f1-de8d2881f9b8&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"6c9e84ad-c61e-43f3-a1f1-de8d2881f9b8","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=6c9e84ad-c61e-43f3-a1f1-de8d2881f9b8&chatType=INTERNAL"},"timestamp":"2023-12-11 20:44:45"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":"3607b477-6581-4fe9-a086-5168247be339"},"label":"Custom Tool","loadMethod":"listTools","name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"745","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-11 20:45:27"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"s1qTkBJ4x9yWd6cPAAA8"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:50:33"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"d39c7cd6-a00c-492b-a516-0c0f91f57663","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"um imovel em Caxas do Sul?","socketIOClientId":"s1qTkBJ4x9yWd6cPAAA8"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"252","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:50:40"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"d39c7cd6-a00c-492b-a516-0c0f91f57663","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"um imovel em Caxas do Sul?","type":"userMessage"},{"message":"Claro! Temos alguns imóveis disponíveis em Caxias do Sul. Poderia fornecer mais detalhes sobre o tipo de imóvel que você está procurando? Por exemplo, número de quartos, tamanho, faixa de preço, entre outros. Assim, poderei lhe oferecer opções mais adequadas às suas necessidades.","type":"apiMessage"}],"question":"me liste um por favor","socketIOClientId":"s1qTkBJ4x9yWd6cPAAA8"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"634","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:50:57"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"d39c7cd6-a00c-492b-a516-0c0f91f57663","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"um imovel em Caxas do Sul?","type":"userMessage"},{"message":"Claro! Temos alguns imóveis disponíveis em Caxias do Sul. Poderia fornecer mais detalhes sobre o tipo de imóvel que você está procurando? Por exemplo, número de quartos, tamanho, faixa de preço, entre outros. Assim, poderei lhe oferecer opções mais adequadas às suas necessidades.","type":"apiMessage"},{"message":"me liste um por favor","type":"userMessage"},{"message":"Desculpe, não consigo listar os imóveis disponíveis no momento. Por favor, entre em contato com nossa equipe para obter informações atualizadas sobre os imóveis em Caxias do Sul.","type":"apiMessage"}],"question":"Residencial São Leopoldo","socketIOClientId":"s1qTkBJ4x9yWd6cPAAA8"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"914","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:51:30"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=d39c7cd6-a00c-492b-a516-0c0f91f57663&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"d39c7cd6-a00c-492b-a516-0c0f91f57663","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=d39c7cd6-a00c-492b-a516-0c0f91f57663&chatType=INTERNAL"},"timestamp":"2023-12-11 20:51:38"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"interlagos","socketIOClientId":"lT2krl5uBOErQn2ZAABA"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-11 20:51:52"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=c76f5341-23a2-4976-920b-0365085dba6e&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"c76f5341-23a2-4976-920b-0365085dba6e","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=c76f5341-23a2-4976-920b-0365085dba6e&chatType=INTERNAL"},"timestamp":"2023-12-11 20:51:59"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":""},"label":"Custom Tool","loadMethod":"listTools","name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"709","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/marketplace/24","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-12 20:13:40"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/openAIAssistant","package":"server","request":{"body":{"baseClasses":["OpenAIAssistant"],"category":"Agents","description":"An agent that uses OpenAI Assistant API to pick the tool and args to call","id":"openAIAssistant_0","inputAnchors":[{"id":"openAIAssistant_0-input-tools-Tool","label":"Allowed Tools","list":true,"name":"tools","type":"Tool"}],"inputParams":[{"id":"openAIAssistant_0-input-selectedAssistant-asyncOptions","label":"Select Assistant","loadMethod":"listAssistants","name":"selectedAssistant","type":"asyncOptions"}],"inputs":{"selectedAssistant":"","tools":["{{calculator_0.data.instance}}","{{serper_0.data.instance}}","{{customTool_0.data.instance}}"]},"label":"OpenAI Assistant","loadMethod":"listAssistants","name":"openAIAssistant","outputAnchors":[{"id":"openAIAssistant_0-output-openAIAssistant-OpenAIAssistant","label":"OpenAIAssistant","name":"openAIAssistant","type":"OpenAIAssistant"}],"outputs":{},"selected":false,"type":"OpenAIAssistant","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"930","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/marketplace/24","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/openAIAssistant"},"timestamp":"2023-12-12 20:13:40"}
{"level":"info","message":"⬆️ POST /api/v1/tools","package":"server","request":{"body":{"color":"linear-gradient(rgb(208,80,53), rgb(172,129,198))","description":"crap para o Redis","func":"import fetch from 'node-fetch';\nimport { redisset } from './lib/redis';\nimport {getUserEmbedding} from './utils/exporttest'\n//import cheerio from 'cheerio';\n\nimport * as cheerio from 'cheerio';\nimport Crawler, { CrawlerRequestResponse } from 'crawler';\nimport { stderr } from 'node:process';\nimport { Writable } from 'node:stream';\nimport type { Options } from 'ora';\nimport { stdout as output } from 'node:process';\nimport { nodeKeyToRedisOptions } from 'ioredis/built/cluster/util';\n\n\n//import resolveURL from '../utils/resolveURL.js';\n\n// import TurndownService from 'turndown';\n\n// const turndownService = new TurndownService();\n\nfunction resolve(from: string, to: string) {\n  const resolvedUrl = new URL(to, new URL(from, 'resolve://'));\n  if (resolvedUrl.protocol === 'resolve:') {\n    // `from` is a relative URL.\n    const { pathname, search, hash } = resolvedUrl;\n    return pathname + search + hash;\n  }\n  return resolvedUrl.toString();\n}\n\n\n\n\ninterface imovel {\n  name: string,\n  code: string,\n  url: string,\n  neighborhood: string,\n  city: string,\n  price: string,\n  change: string,\n  descriptionMain: any,\n  descriptionOthers: any,\n}\n\ninterface Page {\n  url: string;\n  text: string;\n  title: string;\n  codigo: string;\n}\n\n/* The WebCrawler class is a TypeScript implementation of a web crawler that can extract text from web\npages and follow links to crawl more pages. */\nclass WebCrawler {\n  pages: Page[];\n\n  limit: number;\n\n  urls: string[];\n\n  count: number;\n\n  textLengthMinimum: number;\n\n  selector: string;\n\n  crawler: Crawler;\n\n  constructor(\n    urls: string[],\n    selector = 'body',\n    limit = 20,\n    textLengthMinimum = 200\n  ) {\n    this.urls = urls;\n    this.selector = selector;\n    this.limit = limit;\n    this.textLengthMinimum = textLengthMinimum;\n    this.count = 0;\n    this.pages = [];\n    this.crawler = new Crawler({\n      maxConnections: 10,\n      callback: this.handleRequest,\n      userAgent: 'node-crawler',\n    });\n  }\n\n  /* `handleRequest` is a method that handles the response of a web page request made by the `crawler`\nobject. It takes in three parameters: `error`, `res`, and `done`. */\n  handleRequest = (error: Error | null, res: CrawlerRequestResponse, done: () => void) => {\n    if (error) {\n      stderr.write(error.message);\n      done();\n      return;\n    }\n\n    const $ = cheerio.load(res.body);\n    // Remove obviously superfluous elements\n    $('script').remove();\n    $('header').remove();\n    $('nav').remove();\n    $('style').remove();\n    $('img').remove();\n    $('svg').remove();\n    $('span').remove();\n    $('footer').remove();\n    $('nav').remove();\n  \n    \n    const title = $('title').text() || '';\n    const text = $(this.selector).text();\n    const codigo = $('p.PropertyDetails_propertyInfoAddress___r2XR').text()\n    // const text = turndownService.turndown(html || '');\n\n    const page: Page = {\n      url: res.request.uri.href,\n      text,\n      title,\n      codigo,\n    };\n    if (text.length > this.textLengthMinimum) {\n      this.pages.push(page);\n    }\n\n    $('a').each((_i: number, elem: cheerio.Element) => {\n      if (this.count >= this.limit) {\n        return false; // Stop iterating once the limit is reached\n      }\n\n      const href = $(elem).attr('href')?.split('#')[0];\n      const uri = res.request.uri.href;\n      const url = href && resolve(uri, href);\n      // crawl more\n      if (url && this.urls.some((u) => url.includes(u))) {\n        this.crawler.queue(url,);\n        this.count += 1;\n      }\n      return true; // Continue iterating when the limit is not reached\n    });\n\n    done();\n  };\n\n  start = async () => {\n    this.pages = [];\n    return new Promise((resolve) => {\n      this.crawler.on('drain', () => {\n        resolve(this.pages);\n      });\n      this.urls.forEach((url) => {\n        this.crawler.queue(url);\n      });\n    });\n  };\n}\n\n(async () => {\nconst siteUrl = 'https://perfilimoveiscaxias.com.br'\nconst crawler = new WebCrawler([siteUrl], 'body', 10, 50);\nconst pages = (await crawler.start()) as Page[];\n/*let pagesCaxias: Page[] = [];\nfor(let page of pages){\n  if(page.text.includes('Planalto')){\n    pagesCaxias.push(page)\n  }\n}*/\n//let pagesCode:any[] = [];\n\n\nlet imoveis: imovel [] = [];\nfor(let page of pages){\n      const urlcode = `https://perfilimoveiscaxias.com.br/imoveis/${page.codigo.replace('#','')}`\n      try {  \n        const response = await fetch(urlcode);\n        const html = await response.text();\n        const $ = cheerio.load(html);\n        // Personalize esta parte para corresponder à estrutura da página da imobiliária\n        \n        // Exemplo: Extrair informações de imóveis de elementos HTML específicos\n          const nomeImovel = $('h2.PropertyDetails_propertyInfoName__tGDgr').text();\n          const precoImovel = $('p.PropertyDetails_propertyInfoPrice__7ABo9').text();\n          const bairroCidade = $('h3.PropertyDetails_propertyInfoAddress___r2XR').text()\n          const partes = bairroCidade.split(/\\s{2,}/);\n          const bairro = partes[0];\n          const cidade_estado = partes.slice(1).join(' ');\n          const permuta = $('p.PropertyDetails_propertyInfoEvaluateExchange__7oBlk').text()\n          const descriçãoMain: any = [];\n          $('li.PropertyDetails_propertyFeaturesMainItem__FtSDW').each((_i, elem) => {\n            const desc = $(elem).text();\n            descriçãoMain.push(desc);\n          });\n          const descriçãoOthers: any = [];\n          $('li.PropertyDetails_propertyFeaturesOthersItem__CHUMw').each((_i, elem) => {\n            const desc = $(elem).text();\n            descriçãoOthers.push(desc);\n          });\n          //const descriçãoMain = $('ul.PropertyDetails_propertyFeaturesMain__vpQPZ').text()\n          //const descriptionOthers = $('ul.PropertyDetails_propertyFeaturesOthers__1Jopm').text()\n\n\n          //onst outros= $(element).find('ul.PropertiesListItem_propertyFeaturesOthers__Fn4yr').text();\n          const code = page.codigo\n          const imovel: imovel = {\n            name: nomeImovel,\n            code: code ,\n            url: urlcode,\n            neighborhood: bairro ,\n            city: cidade_estado ,\n            price: precoImovel,\n            change: permuta,\n            descriptionMain: descriçãoMain ,\n            descriptionOthers: descriçãoOthers\n            // Adicione mais campos conforme necessário\n          };\n            if(imovel.neighborhood!= ''){\n              const rediskey = imovel.neighborhood+':'+imovel.code\n              const imovelstring = JSON.stringify(imovel)\n              const embedding = await getUserEmbedding(imovelstring)\n              const df = {\n                content: imovelstring,\n                embedding: embedding\n              }\n              const imovelredis = JSON.stringify(df) \n              await redisset.set(`perfil:${rediskey}`,imovelredis) \n            }\n\n\n          console.log(imovel)\n          \n          imoveis.push(imovel)\n\n          \n          // Adicione mais campos conforme necessário\n      } catch (error:any) {\n        console.error(`Erro: ${error.message}`);\n      }\n    }\n    console.log(imoveis)\n  }\n)()\n","iconSrc":"","name":"scrap","schema":"[]"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"7506","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/tools","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/tools"},"timestamp":"2023-12-12 20:17:47"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":""},"label":"Custom Tool","loadMethod":"listTools","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":true,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1007","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-12 20:18:19"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1030.2121601629835,\"y\":539.3462223041183},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.2\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1030.2121601629835,\"y\":539.3462223041183}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"type\":\"customNode\",\"data\":{\"id\":\"bufferWindowMemory_0\",\"label\":\"Buffer Window Memory\",\"version\":1,\"name\":\"bufferWindowMemory\",\"type\":\"BufferWindowMemory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forths to use as memory\",\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forths to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"inputAnchors\":[],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":1946.7463332433122,\"y\":113.48977138204796},\"type\":\"customNode\",\"data\":{\"id\":\"openAIFunctionAgent_0\",\"label\":\"OpenAI Function Agent\",\"version\":1,\"name\":\"openAIFunctionAgent\",\"type\":\"AgentExecutor\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"category\":\"Agents\",\"description\":\"An agent that uses OpenAI's Function Calling functionality to pick the tool and args to call\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI Chat Model\",\"name\":\"model\",\"description\":\"Only works with gpt-3.5-turbo-0613 and gpt-4-0613. Refer <a target=\\\"_blank\\\" href=\\\"https://platform.openai.com/docs/guides/gpt/function-calling\\\">docs</a> for more info\",\"type\":\"BaseChatModel\",\"id\":\"openAIFunctionAgent_0-input-model-BaseChatModel\"}],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\",\"{{retrieverTool_0.data.instance}}\",\"{{customTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual em forma de chatbot para a empresa Fiber.\\nSiga rigorosamente todas as seguintes regras:\\n\\n- Você deve relacionar todas as solicitações dos usuários a empresa Fiber;\\n- Limite sua resposta a um máximo de 100 palavras por resposta;\\n- Sempre responda o usuário de maneira organizada e usando a linguagem Markdown, separando em sessões quando necessário e criando listas para um melhor entendimento visual do usuário;\\n- Instruções para Markdown, tente sempre utilizar caso possível: titulação, lista de itens, tabela e ênfase;\\n- Garanta que sua mensagem tenha a estrutura necessária para que o usuário compreenda o conteúdo apresentando em tópico, sessões e listas;\\n- SEMPRE escreva todas palavras e termos em português (PT-BR), verifique antes de escrever;\\n- Quando não souber a resposta, direcione a pessoa para o WhatsApp (51) 9 9692122;\\n- Quando alguma solicitação de produto for relacionada a alguma patologia, informe se o produto é recomendado para o caso da pessoa, falando de uma forma que não influencie a pessoa, que o recomendado seria ela procurar um profissional. Caso o produto seja recomendado para ela, explique de forma técnica e baseada em fundamentos.\"},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1946.7463332433122,\"y\":113.48977138204796}},{\"width\":300,\"height\":278,\"id\":\"customTool_0\",\"position\":{\"x\":926.54032174591,\"y\":-381.5763909472579},\"type\":\"customNode\",\"data\":{\"id\":\"customTool_0\",\"label\":\"Custom Tool\",\"version\":1,\"name\":\"customTool\",\"type\":\"CustomTool\",\"baseClasses\":[\"CustomTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"category\":\"Tools\",\"description\":\"Use custom tool you've created in Flowise within chatflow\",\"inputParams\":[{\"label\":\"Select Tool\",\"name\":\"selectedTool\",\"type\":\"asyncOptions\",\"loadMethod\":\"listTools\",\"id\":\"customTool_0-input-selectedTool-asyncOptions\"}],\"inputAnchors\":[],\"inputs\":{\"selectedTool\":\"3607b477-6581-4fe9-a086-5168247be339\"},\"outputAnchors\":[{\"id\":\"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable\",\"name\":\"customTool\",\"label\":\"CustomTool\",\"type\":\"CustomTool | Tool | StructuredTool | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":926.54032174591,\"y\":-381.5763909472579}},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1579.5357841607897,\"y\":-767.8995215569505},\"type\":\"customNode\",\"data\":{\"id\":\"retrieverTool_0\",\"label\":\"Retriever Tool\",\"version\":1,\"name\":\"retrieverTool\",\"type\":\"RetrieverTool\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputs\":{\"name\":\"perfil\",\"description\":\"UTILIZE ESTA FERRAMENTA PARA OBTER DADOS SOBRE A EMPRESA FIBER.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1579.5357841607897,\"y\":-767.8995215569505},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949}},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"type\":\"customNode\",\"data\":{\"id\":\"inMemoryCache_0\",\"label\":\"InMemory Cache\",\"version\":1,\"name\":\"inMemoryCache\",\"type\":\"InMemoryCache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"category\":\"Cache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"inputParams\":[],\"inputAnchors\":[],\"inputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1073.6274795712543,\"y\":-1017.202535654969},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1073.6274795712543,\"y\":-1017.202535654969}}],\"edges\":[{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-BaseChatModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-BaseChatModel\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"customTool_0\",\"sourceHandle\":\"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"customTool_0-customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-59.90976402777744,\"y\":320.3307026523188,\"zoom\":0.47775889772714825}}","name":"chatflow Cenoura"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"20123","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:09:59"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1030.2121601629835,\"y\":539.3462223041183},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.2\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1030.2121601629835,\"y\":539.3462223041183}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"type\":\"customNode\",\"data\":{\"id\":\"bufferWindowMemory_0\",\"label\":\"Buffer Window Memory\",\"version\":1,\"name\":\"bufferWindowMemory\",\"type\":\"BufferWindowMemory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forths to use as memory\",\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forths to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"inputAnchors\":[],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":1946.7463332433122,\"y\":113.48977138204796},\"type\":\"customNode\",\"data\":{\"id\":\"openAIFunctionAgent_0\",\"label\":\"OpenAI Function Agent\",\"version\":1,\"name\":\"openAIFunctionAgent\",\"type\":\"AgentExecutor\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"category\":\"Agents\",\"description\":\"An agent that uses OpenAI's Function Calling functionality to pick the tool and args to call\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI Chat Model\",\"name\":\"model\",\"description\":\"Only works with gpt-3.5-turbo-0613 and gpt-4-0613. Refer <a target=\\\"_blank\\\" href=\\\"https://platform.openai.com/docs/guides/gpt/function-calling\\\">docs</a> for more info\",\"type\":\"BaseChatModel\",\"id\":\"openAIFunctionAgent_0-input-model-BaseChatModel\"}],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\",\"{{retrieverTool_0.data.instance}}\",\"{{customTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual em forma de chatbot para a empresa Fiber.\\nSiga rigorosamente todas as seguintes regras:\\n\\n- Você deve relacionar todas as solicitações dos usuários a empresa Fiber;\\n- Limite sua resposta a um máximo de 100 palavras por resposta;\\n- Sempre responda o usuário de maneira organizada e usando a linguagem Markdown, separando em sessões quando necessário e criando listas para um melhor entendimento visual do usuário;\\n- Instruções para Markdown, tente sempre utilizar caso possível: titulação, lista de itens, tabela e ênfase;\\n- Garanta que sua mensagem tenha a estrutura necessária para que o usuário compreenda o conteúdo apresentando em tópico, sessões e listas;\\n- SEMPRE escreva todas palavras e termos em português (PT-BR), verifique antes de escrever;\\n- Quando não souber a resposta, direcione a pessoa para o WhatsApp (51) 9 9692122;\\n- Quando alguma solicitação de produto for relacionada a alguma patologia, informe se o produto é recomendado para o caso da pessoa, falando de uma forma que não influencie a pessoa, que o recomendado seria ela procurar um profissional. Caso o produto seja recomendado para ela, explique de forma técnica e baseada em fundamentos.\"},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1946.7463332433122,\"y\":113.48977138204796}},{\"width\":300,\"height\":278,\"id\":\"customTool_0\",\"position\":{\"x\":1075.1508454593766,\"y\":-381.5763909472579},\"type\":\"customNode\",\"data\":{\"id\":\"customTool_0\",\"label\":\"Custom Tool\",\"version\":1,\"name\":\"customTool\",\"type\":\"CustomTool\",\"baseClasses\":[\"CustomTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"category\":\"Tools\",\"description\":\"Use custom tool you've created in Flowise within chatflow\",\"inputParams\":[{\"label\":\"Select Tool\",\"name\":\"selectedTool\",\"type\":\"asyncOptions\",\"loadMethod\":\"listTools\",\"id\":\"customTool_0-input-selectedTool-asyncOptions\"}],\"inputAnchors\":[],\"inputs\":{\"selectedTool\":\"3607b477-6581-4fe9-a086-5168247be339\"},\"outputAnchors\":[{\"id\":\"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable\",\"name\":\"customTool\",\"label\":\"CustomTool\",\"type\":\"CustomTool | Tool | StructuredTool | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1075.1508454593766,\"y\":-381.5763909472579}},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1579.5357841607897,\"y\":-767.8995215569505},\"type\":\"customNode\",\"data\":{\"id\":\"retrieverTool_0\",\"label\":\"Retriever Tool\",\"version\":1,\"name\":\"retrieverTool\",\"type\":\"RetrieverTool\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputs\":{\"name\":\"perfil\",\"description\":\"UTILIZE ESTA FERRAMENTA PARA OBTER DADOS SOBRE A EMPRESA FIBER.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1579.5357841607897,\"y\":-767.8995215569505},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949}},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"type\":\"customNode\",\"data\":{\"id\":\"inMemoryCache_0\",\"label\":\"InMemory Cache\",\"version\":1,\"name\":\"inMemoryCache\",\"type\":\"InMemoryCache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"category\":\"Cache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"inputParams\":[],\"inputAnchors\":[],\"inputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1073.6274795712543,\"y\":-1017.202535654969},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1073.6274795712543,\"y\":-1017.202535654969}}],\"edges\":[{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-BaseChatModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-BaseChatModel\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"customTool_0\",\"sourceHandle\":\"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"customTool_0-customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-89.90976402777733,\"y\":213.3307026523188,\"zoom\":0.47775889772714825}}","name":"chatflow Cenoura"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"20185","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:10:29"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"7RCoJXny4wU0cOZ4AABC"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"73","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:10:33"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1030.2121601629835,\"y\":539.3462223041183},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.2\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1030.2121601629835,\"y\":539.3462223041183}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"type\":\"customNode\",\"data\":{\"id\":\"bufferWindowMemory_0\",\"label\":\"Buffer Window Memory\",\"version\":1,\"name\":\"bufferWindowMemory\",\"type\":\"BufferWindowMemory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forths to use as memory\",\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forths to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"inputAnchors\":[],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":1946.7463332433122,\"y\":113.48977138204796},\"type\":\"customNode\",\"data\":{\"id\":\"openAIFunctionAgent_0\",\"label\":\"OpenAI Function Agent\",\"version\":1,\"name\":\"openAIFunctionAgent\",\"type\":\"AgentExecutor\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"category\":\"Agents\",\"description\":\"An agent that uses OpenAI's Function Calling functionality to pick the tool and args to call\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI Chat Model\",\"name\":\"model\",\"description\":\"Only works with gpt-3.5-turbo-0613 and gpt-4-0613. Refer <a target=\\\"_blank\\\" href=\\\"https://platform.openai.com/docs/guides/gpt/function-calling\\\">docs</a> for more info\",\"type\":\"BaseChatModel\",\"id\":\"openAIFunctionAgent_0-input-model-BaseChatModel\"}],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\",\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual em forma de chatbot para a empresa Fiber.\\nSiga rigorosamente todas as seguintes regras:\\n\\n- Você deve relacionar todas as solicitações dos usuários a empresa Fiber;\\n- Limite sua resposta a um máximo de 100 palavras por resposta;\\n- Sempre responda o usuário de maneira organizada e usando a linguagem Markdown, separando em sessões quando necessário e criando listas para um melhor entendimento visual do usuário;\\n- Instruções para Markdown, tente sempre utilizar caso possível: titulação, lista de itens, tabela e ênfase;\\n- Garanta que sua mensagem tenha a estrutura necessária para que o usuário compreenda o conteúdo apresentando em tópico, sessões e listas;\\n- SEMPRE escreva todas palavras e termos em português (PT-BR), verifique antes de escrever;\\n- Quando não souber a resposta, direcione a pessoa para o WhatsApp (51) 9 9692122;\\n- Quando alguma solicitação de produto for relacionada a alguma patologia, informe se o produto é recomendado para o caso da pessoa, falando de uma forma que não influencie a pessoa, que o recomendado seria ela procurar um profissional. Caso o produto seja recomendado para ela, explique de forma técnica e baseada em fundamentos.\"},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1946.7463332433122,\"y\":113.48977138204796}},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1579.5357841607897,\"y\":-767.8995215569505},\"type\":\"customNode\",\"data\":{\"id\":\"retrieverTool_0\",\"label\":\"Retriever Tool\",\"version\":1,\"name\":\"retrieverTool\",\"type\":\"RetrieverTool\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputs\":{\"name\":\"perfil\",\"description\":\"UTILIZE ESTA FERRAMENTA PARA OBTER DADOS SOBRE A EMPRESA FIBER.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1579.5357841607897,\"y\":-767.8995215569505},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949}},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"type\":\"customNode\",\"data\":{\"id\":\"inMemoryCache_0\",\"label\":\"InMemory Cache\",\"version\":1,\"name\":\"inMemoryCache\",\"type\":\"InMemoryCache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"category\":\"Cache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"inputParams\":[],\"inputAnchors\":[],\"inputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1073.6274795712543,\"y\":-1017.202535654969},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1073.6274795712543,\"y\":-1017.202535654969}}],\"edges\":[{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-BaseChatModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-BaseChatModel\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-70.90976402777733,\"y\":272.3307026523188,\"zoom\":0.47775889772714825}}","name":"chatflow Cenoura"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"18652","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:10:43"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"ON1wXBU_Q3OkpaeQAABE"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"73","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:10:47"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"chatId":"f9756bfa-3c41-404f-845f-68ff7f73d172","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me lista um imove?","socketIOClientId":"ON1wXBU_Q3OkpaeQAABE"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"252","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:10:59"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":1030.2121601629835,\"y\":539.3462223041183},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.2\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1030.2121601629835,\"y\":539.3462223041183}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"type\":\"customNode\",\"data\":{\"id\":\"bufferWindowMemory_0\",\"label\":\"Buffer Window Memory\",\"version\":1,\"name\":\"bufferWindowMemory\",\"type\":\"BufferWindowMemory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forths to use as memory\",\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forths to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"inputAnchors\":[],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":762.1088129571492,\"y\":-64.30536760548796},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":2265.0728658455146,\"y\":-114.71692094007891},\"type\":\"customNode\",\"data\":{\"id\":\"openAIFunctionAgent_0\",\"label\":\"OpenAI Function Agent\",\"version\":1,\"name\":\"openAIFunctionAgent\",\"type\":\"AgentExecutor\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"category\":\"Agents\",\"description\":\"An agent that uses OpenAI's Function Calling functionality to pick the tool and args to call\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI Chat Model\",\"name\":\"model\",\"description\":\"Only works with gpt-3.5-turbo-0613 and gpt-4-0613. Refer <a target=\\\"_blank\\\" href=\\\"https://platform.openai.com/docs/guides/gpt/function-calling\\\">docs</a> for more info\",\"type\":\"BaseChatModel\",\"id\":\"openAIFunctionAgent_0-input-model-BaseChatModel\"}],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\",\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual em forma de chatbot para a empresa Fiber.\\nSiga rigorosamente todas as seguintes regras:\\n\\n- Você deve relacionar todas as solicitações dos usuários a empresa Fiber;\\n- Limite sua resposta a um máximo de 100 palavras por resposta;\\n- Sempre responda o usuário de maneira organizada e usando a linguagem Markdown, separando em sessões quando necessário e criando listas para um melhor entendimento visual do usuário;\\n- Instruções para Markdown, tente sempre utilizar caso possível: titulação, lista de itens, tabela e ênfase;\\n- Garanta que sua mensagem tenha a estrutura necessária para que o usuário compreenda o conteúdo apresentando em tópico, sessões e listas;\\n- SEMPRE escreva todas palavras e termos em português (PT-BR), verifique antes de escrever;\\n- Quando não souber a resposta, direcione a pessoa para o WhatsApp (51) 9 9692122;\\n- Quando alguma solicitação de produto for relacionada a alguma patologia, informe se o produto é recomendado para o caso da pessoa, falando de uma forma que não influencie a pessoa, que o recomendado seria ela procurar um profissional. Caso o produto seja recomendado para ela, explique de forma técnica e baseada em fundamentos.\"},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2265.0728658455146,\"y\":-114.71692094007891}},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1737.100150069825,\"y\":-643.7667093002012},\"type\":\"customNode\",\"data\":{\"id\":\"retrieverTool_0\",\"label\":\"Retriever Tool\",\"version\":1,\"name\":\"retrieverTool\",\"type\":\"RetrieverTool\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputs\":{\"name\":\"perfil\",\"description\":\"Você é um assistente da imobiliaria perfil ajude os clientes a encontrarem os imoveis , utilie a ferramente perfil para responder\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1737.100150069825,\"y\":-643.7667093002012},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":534.5643071810663,\"y\":-1018.3615570633949}},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"type\":\"customNode\",\"data\":{\"id\":\"inMemoryCache_0\",\"label\":\"InMemory Cache\",\"version\":1,\"name\":\"inMemoryCache\",\"type\":\"InMemoryCache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"category\":\"Cache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"inputParams\":[],\"inputAnchors\":[],\"inputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":462.4819940716817,\"y\":525.5935209745335},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1102.6983957906336,\"y\":-873.301500369042},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1102.6983957906336,\"y\":-873.301500369042}}],\"edges\":[{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-BaseChatModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-BaseChatModel\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-615.2300601999996,\"y\":228.0162118193391,\"zoom\":0.6879728127270934}}","name":"chatflow Cenoura"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"18717","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:12:26"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/1778158a-8f00-4d29-90ec-0c4522ba7550?chatId=f9756bfa-3c41-404f-845f-68ff7f73d172&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"f9756bfa-3c41-404f-845f-68ff7f73d172","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/1778158a-8f00-4d29-90ec-0c4522ba7550?chatId=f9756bfa-3c41-404f-845f-68ff7f73d172&chatType=INTERNAL"},"timestamp":"2023-12-12 21:12:31"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"JzWuRRqJ5FZNSEJ_AABI"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"73","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:12:36"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550","package":"server","request":{"body":{"chatId":"a7156bab-aa43-4394-a6c8-f7affb9ec443","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje com os produtos e serviços da Fiber?","type":"apiMessage"}],"question":"Poderia me informar um imovel em caxias do Sul?","socketIOClientId":"JzWuRRqJ5FZNSEJ_AABI"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"310","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1778158a-8f00-4d29-90ec-0c4522ba7550"},"timestamp":"2023-12-12 21:13:04"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2491.9207396161855,\"y\":-747.6595721709431},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2491.9207396161855,\"y\":-747.6595721709431},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-515.9722754762375,\"y\":529.9414286819851,\"zoom\":0.4242224064672836}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17630","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:18:42"}
{"level":"info","message":"🖊 PUT /api/v1/tools/33df82b4-feea-4918-aa44-1bab37ae40a4","package":"server","request":{"body":{"description":"crap para o Redis","func":"import fetch from 'node-fetch';\nimport dotenv from \"dotenv\"\n//import { redisset } from './lib/redis';\n//import {getUserEmbedding} from './utils/exporttest'\nimport { createClient } from \"redis\";\nimport { Document } from \"langchain/document\";\nimport { OpenAIEmbeddings } from \"langchain/embeddings/openai\";\nimport { RedisVectorStore } from \"langchain/vectorstores/redis\";\nimport * as cheerio from 'cheerio';\nimport Crawler, { CrawlerRequestResponse } from 'crawler';\nimport { stderr } from 'node:process';\n\ndotenv.config()\n\n\nfunction resolve(from: string, to: string) {\n  const resolvedUrl = new URL(to, new URL(from, 'resolve://'));\n  if (resolvedUrl.protocol === 'resolve:') {\n    // `from` is a relative URL.\n    const { pathname, search, hash } = resolvedUrl;\n    return pathname + search + hash;\n  }\n  return resolvedUrl.toString();\n}\n\nconst client = createClient({\n  username: 'default', // use your Redis user. More info https://redis.io/docs/management/security/acl/\n  password: 'iQGztgpySPZ6mmProyFVe4VSPZLvQlZv', // use your password here\n  socket: {\n      host: 'redis-15132.c1.us-east1-2.gce.cloud.redislabs.com',\n      port: 15132,\n      tls: false,\n  }\n});\n\n\ninterface imovel {\n  nome: string,\n  codigo: string,\n  url: string,\n  bairro: string,\n  cidade: string,\n  preco: string,\n  change: string,\n  descriptionMain: any,\n  descriptionOthers: any,\n}\n\ninterface Page {\n  url: string;\n  text: string;\n  title: string;\n  codigo: string;\n}\n\n\nclass WebCrawler {\n  pages: Page[];\n\n  limit: number;\n\n  urls: string[];\n\n  count: number;\n\n  textLengthMinimum: number;\n\n  selector: string;\n\n  crawler: Crawler;\n\n  constructor(\n    urls: string[],\n    selector = 'body',\n    limit = 20,\n    textLengthMinimum = 200\n  ) {\n    this.urls = urls;\n    this.selector = selector;\n    this.limit = limit;\n    this.textLengthMinimum = textLengthMinimum;\n    this.count = 0;\n    this.pages = [];\n    this.crawler = new Crawler({\n      maxConnections: 10,\n      callback: this.handleRequest,\n      userAgent: 'node-crawler',\n    });\n  }\n\n\n  handleRequest = (error: Error | null, res: CrawlerRequestResponse, done: () => void) => {\n    if (error) {\n      stderr.write(error.message);\n      done();\n      return;\n    }\n\n    const $ = cheerio.load(res.body);\n    // Remove obviously superfluous elements\n    $('script').remove();\n    $('header').remove();\n    $('nav').remove();\n    $('style').remove();\n    $('img').remove();\n    $('svg').remove();\n    $('span').remove();\n    $('footer').remove();\n    $('nav').remove();\n  \n    \n    const title = $('title').text() || '';\n    const text = $(this.selector).text();\n    const codigo = $('p.PropertyDetails_propertyInfoAddress___r2XR').text()\n    // const text = turndownService.turndown(html || '');\n\n    const page: Page = {\n      url: res.request.uri.href,\n      text,\n      title,\n      codigo,\n    };\n    if (text.length > this.textLengthMinimum) {\n      this.pages.push(page);\n    }\n\n    $('a').each((_i: number, elem: cheerio.Element) => {\n      if (this.count >= this.limit) {\n        return false; // Stop iterating once the limit is reached\n      }\n\n      const href = $(elem).attr('href')?.split('#')[0];\n      const uri = res.request.uri.href;\n      const url = href && resolve(uri, href);\n      // crawl more\n      if (url && this.urls.some((u) => url.includes(u))) {\n        this.crawler.queue(url,);\n        this.count += 1;\n      }\n      return true; // Continue iterating when the limit is not reached\n    });\n\n    done();\n  };\n\n  start = async () => {\n    this.pages = [];\n    return new Promise((resolve) => {\n      this.crawler.on('drain', () => {\n        resolve(this.pages);\n      });\n      this.urls.forEach((url) => {\n        this.crawler.queue(url);\n      });\n    });\n  };\n}\n\n(async () => {\nawait client.connect()\nconst siteUrl = 'https://perfilimoveiscaxias.com.br'\nconst crawler = new WebCrawler([siteUrl], 'body',200, 50);\nconst pages = (await crawler.start()) as Page[];\n/*let pagesCaxias: Page[] = [];\nfor(let page of pages){\n  if(page.text.includes('Planalto')){\n    pagesCaxias.push(page)\n  }\n}*/\n//let pagescodigo:any[] = [];\n\n\nlet imoveis: imovel [] = [];\nlet docs: any [] = []\nfor(let page of pages){\n      const urlcodigo = `https://perfilimoveiscaxias.com.br/imoveis/${page.codigo.replace('#','')}`\n      try {  \n        const response = await fetch(urlcodigo);\n        const html = await response.text();\n        const $ = cheerio.load(html);\n        // Personalize esta parte para corresponder à estrutura da página da imobiliária\n        // Exemplo: Extrair informações de imóveis de elementos HTML específicos\n          const nomeImovel = $('h2.PropertyDetails_propertyInfoName__tGDgr').text();\n          const precoImovel = $('p.PropertyDetails_propertyInfoPrice__7ABo9').text();\n          const bairroCidade = $('h3.PropertyDetails_propertyInfoAddress___r2XR').text()\n          const partes = bairroCidade.split(/\\s{2,}/);\n          const bairro = partes[0];\n          const cidade_estado = partes.slice(1).join(' ');\n          const permuta = $('p.PropertyDetails_propertyInfoEvaluateExchange__7oBlk').text()\n          const descriçãoMain: any = [];\n          $('li.PropertyDetails_propertyFeaturesMainItem__FtSDW').each((_i, elem) => {\n            const desc = $(elem).text();\n            descriçãoMain.push(desc);\n          });\n          const descriçãoOthers: any = [];\n          $('li.PropertyDetails_propertyFeaturesOthersItem__CHUMw').each((_i, elem) => {\n            const desc = $(elem).text();\n            descriçãoOthers.push(desc);\n          });\n\n          const codigo = page.codigo\n          const imovel: imovel = {\n            nome: nomeImovel,\n            codigo: codigo ,\n            url: urlcodigo,\n            bairro: bairro ,\n            cidade: cidade_estado ,\n            preco: precoImovel,\n            change: permuta,\n            descriptionMain: descriçãoMain ,\n            descriptionOthers: descriçãoOthers\n            // Adicione mais campos conforme necessário\n          };\n            if(imovel.bairro!= ''){\n              const imovelstring = JSON.stringify(imovel)\n\n              docs.push(\n                new Document({\n                         metadata: {\n                         nome: `${imovel.nome}`,\n                         codigo:`${imovel.codigo}`,\n                         url: `${imovel.url}`,\n                         bairro: `${imovel.bairro}`,\n                         cidade: `${imovel.cidade}`,\n                         },\n                         pageContent: imovelstring, \n                       })\n                        )\n                      }\n                    }\n                      catch (error:any) {\n                       console.error(`Erro: ${error.message}`);\n                  }\n                }\n              \n            const vectorStore = await RedisVectorStore.fromDocuments(\n              docs,\n              new OpenAIEmbeddings(),\n              {\n                redisClient: client,\n                indexName: 'perfil',\n              }\n            );\n          })()","iconSrc":"","name":"scrap","schema":"[{\"id\":1,\"property\":\"url\",\"description\":\"url do site \",\"type\":\"string\",\"required\":false}]"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"7491","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/tools","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/tools/33df82b4-feea-4918-aa44-1bab37ae40a4"},"timestamp":"2023-12-13 02:20:21"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":""},"label":"Custom Tool","loadMethod":"listTools","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":true,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1007","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-13 02:20:47"}
{"level":"info","message":"🖊 PUT /api/v1/tools/33df82b4-feea-4918-aa44-1bab37ae40a4","package":"server","request":{"body":{"description":"crap para o Redis","func":"import fetch from 'node-fetch';\nimport dotenv from \"dotenv\"\n//import { redisset } from './lib/redis';\n//import {getUserEmbedding} from './utils/exporttest'\nimport { createClient } from \"redis\";\nimport { Document } from \"langchain/document\";\nimport { OpenAIEmbeddings } from \"langchain/embeddings/openai\";\nimport { RedisVectorStore } from \"langchain/vectorstores/redis\";\nimport * as cheerio from 'cheerio';\nimport Crawler, { CrawlerRequestResponse } from 'crawler';\nimport { stderr } from 'node:process';\n\ndotenv.config()\n\n\nfunction resolve(from: string, to: string) {\n  const resolvedUrl = new URL(to, new URL(from, 'resolve://'));\n  if (resolvedUrl.protocol === 'resolve:') {\n    // `from` is a relative URL.\n    const { pathname, search, hash } = resolvedUrl;\n    return pathname + search + hash;\n  }\n  return resolvedUrl.toString();\n}\n\nconst client = createClient({\n  username: 'default', // use your Redis user. More info https://redis.io/docs/management/security/acl/\n  password: 'iQGztgpySPZ6mmProyFVe4VSPZLvQlZv', // use your password here\n  socket: {\n      host: 'redis-15132.c1.us-east1-2.gce.cloud.redislabs.com',\n      port: 15132,\n      tls: false,\n  }\n});\n\n\ninterface imovel {\n  nome: string,\n  codigo: string,\n  url: string,\n  bairro: string,\n  cidade: string,\n  preco: string,\n  change: string,\n  descriptionMain: any,\n  descriptionOthers: any,\n}\n\ninterface Page {\n  url: string;\n  text: string;\n  title: string;\n  codigo: string;\n}\n\n\nclass WebCrawler {\n  pages: Page[];\n\n  limit: number;\n\n  urls: string[];\n\n  count: number;\n\n  textLengthMinimum: number;\n\n  selector: string;\n\n  crawler: Crawler;\n\n  constructor(\n    urls: string[],\n    selector = 'body',\n    limit = 20,\n    textLengthMinimum = 200\n  ) {\n    this.urls = urls;\n    this.selector = selector;\n    this.limit = limit;\n    this.textLengthMinimum = textLengthMinimum;\n    this.count = 0;\n    this.pages = [];\n    this.crawler = new Crawler({\n      maxConnections: 10,\n      callback: this.handleRequest,\n      userAgent: 'node-crawler',\n    });\n  }\n\n\n  handleRequest = (error: Error | null, res: CrawlerRequestResponse, done: () => void) => {\n    if (error) {\n      stderr.write(error.message);\n      done();\n      return;\n    }\n\n    const $ = cheerio.load(res.body);\n    // Remove obviously superfluous elements\n    $('script').remove();\n    $('header').remove();\n    $('nav').remove();\n    $('style').remove();\n    $('img').remove();\n    $('svg').remove();\n    $('span').remove();\n    $('footer').remove();\n    $('nav').remove();\n  \n    \n    const title = $('title').text() || '';\n    const text = $(this.selector).text();\n    const codigo = $('p.PropertyDetails_propertyInfoAddress___r2XR').text()\n    // const text = turndownService.turndown(html || '');\n\n    const page: Page = {\n      url: res.request.uri.href,\n      text,\n      title,\n      codigo,\n    };\n    if (text.length > this.textLengthMinimum) {\n      this.pages.push(page);\n    }\n\n    $('a').each((_i: number, elem: cheerio.Element) => {\n      if (this.count >= this.limit) {\n        return false; // Stop iterating once the limit is reached\n      }\n\n      const href = $(elem).attr('href')?.split('#')[0];\n      const uri = res.request.uri.href;\n      const url = href && resolve(uri, href);\n      // crawl more\n      if (url && this.urls.some((u) => url.includes(u))) {\n        this.crawler.queue(url,);\n        this.count += 1;\n      }\n      return true; // Continue iterating when the limit is not reached\n    });\n\n    done();\n  };\n\n  start = async () => {\n    this.pages = [];\n    return new Promise((resolve) => {\n      this.crawler.on('drain', () => {\n        resolve(this.pages);\n      });\n      this.urls.forEach((url) => {\n        this.crawler.queue(url);\n      });\n    });\n  };\n}\n\n(async () => {\nawait client.connect()\nconst siteUrl = 'https://perfilimoveiscaxias.com.br'\nconst crawler = new WebCrawler([siteUrl], 'body',200, 50);\nconst pages = (await crawler.start()) as Page[];\n/*let pagesCaxias: Page[] = [];\nfor(let page of pages){\n  if(page.text.includes('Planalto')){\n    pagesCaxias.push(page)\n  }\n}*/\n//let pagescodigo:any[] = [];\n\n\nlet imoveis: imovel [] = [];\nlet docs: any [] = []\nfor(let page of pages){\n      const urlcodigo = `https://perfilimoveiscaxias.com.br/imoveis/${page.codigo.replace('#','')}`\n      try {  \n        const response = await fetch(urlcodigo);\n        const html = await response.text();\n        const $ = cheerio.load(html);\n        // Personalize esta parte para corresponder à estrutura da página da imobiliária\n        // Exemplo: Extrair informações de imóveis de elementos HTML específicos\n          const nomeImovel = $('h2.PropertyDetails_propertyInfoName__tGDgr').text();\n          const precoImovel = $('p.PropertyDetails_propertyInfoPrice__7ABo9').text();\n          const bairroCidade = $('h3.PropertyDetails_propertyInfoAddress___r2XR').text()\n          const partes = bairroCidade.split(/\\s{2,}/);\n          const bairro = partes[0];\n          const cidade_estado = partes.slice(1).join(' ');\n          const permuta = $('p.PropertyDetails_propertyInfoEvaluateExchange__7oBlk').text()\n          const descriçãoMain: any = [];\n          $('li.PropertyDetails_propertyFeaturesMainItem__FtSDW').each((_i, elem) => {\n            const desc = $(elem).text();\n            descriçãoMain.push(desc);\n          });\n          const descriçãoOthers: any = [];\n          $('li.PropertyDetails_propertyFeaturesOthersItem__CHUMw').each((_i, elem) => {\n            const desc = $(elem).text();\n            descriçãoOthers.push(desc);\n          });\n\n          const codigo = page.codigo\n          const imovel: imovel = {\n            nome: nomeImovel,\n            codigo: codigo ,\n            url: urlcodigo,\n            bairro: bairro ,\n            cidade: cidade_estado ,\n            preco: precoImovel,\n            change: permuta,\n            descriptionMain: descriçãoMain ,\n            descriptionOthers: descriçãoOthers\n            // Adicione mais campos conforme necessário\n          };\n            if(imovel.bairro!= ''){\n              const imovelstring = JSON.stringify(imovel)\n\n              docs.push(\n                new Document({\n                         metadata: {\n                         nome: `${imovel.nome}`,\n                         codigo:`${imovel.codigo}`,\n                         url: `${imovel.url}`,\n                         bairro: `${imovel.bairro}`,\n                         cidade: `${imovel.cidade}`,\n                         },\n                         pageContent: imovelstring, \n                       })\n                        )\n                      }\n                    }\n                      catch (error:any) {\n                       console.error(`Erro: ${error.message}`);\n                  }\n                }\n              \n            const vectorStore = await RedisVectorStore.fromDocuments(\n              docs,\n              new OpenAIEmbeddings(),\n              {\n                redisClient: client,\n                indexName: 'perfil',\n              }\n            );\n          })()","iconSrc":"","name":"scrap","schema":"[{\"id\":0,\"property\":\"url\",\"description\":\"url do site \",\"type\":\"string\",\"required\":false}]"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"7491","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/tools","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/tools/33df82b4-feea-4918-aa44-1bab37ae40a4"},"timestamp":"2023-12-13 02:28:56"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1790.9161098978823,\"y\":-77.58429434083843},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2491.9207396161855,\"y\":-747.6595721709431},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2491.9207396161855,\"y\":-747.6595721709431},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Contexto para imobiliaria\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2941.132320673842,\"y\":-684.2074580202957},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3099.307046058398,\"y\":-94.53142939701773},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-719.8434571767486,\"y\":340.86300426028595,\"zoom\":0.4351901487035756}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17631","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:29:23"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":""},"label":"Custom Tool","loadMethod":"listTools","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":true,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1007","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-13 02:30:17"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\tools\\CustomTool\\CustomTool.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/CustomTool/customtool.svg","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":"33df82b4-feea-4918-aa44-1bab37ae40a4"},"label":"Custom Tool","loadMethods":{},"name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":true,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1018","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-13 02:30:34"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1905.8512637469478,\"y\":-154.20773024021534},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1905.8512637469478,\"y\":-154.20773024021534},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2793.294533329776,\"y\":-675.8081690596866},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":[],\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"replaceIndex\":true,\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2793.294533329776,\"y\":-675.8081690596866},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3432.6405628087477,\"y\":-520.5889416779728},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\\n\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":3432.6405628087477,\"y\":-520.5889416779728},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2131.695314400901,\"y\":339.6246715785226,\"zoom\":0.7577100581896441}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"18045","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:33:48"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"euhmH8fn6IzsYnhJAABK"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:33:53"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"62c940a3-bc4d-463a-bf96-5aacb0c344fb","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia listar um imovel no bairro Pedancino?","socketIOClientId":"euhmH8fn6IzsYnhJAABK"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"271","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:34:12"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1955.8610448673087,\"y\":-256.2276837257514},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1955.8610448673087,\"y\":-256.2276837257514},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3403.0360534839883,\"y\":-530.1668711653949},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\\n\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3403.0360534839883,\"y\":-530.1668711653949},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2827.4772103947953,\"y\":-577.4601843218012},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"\",\"indexName\":\"perfil\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2827.4772103947953,\"y\":-577.4601843218012},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1602.5996179183785,\"y\":339.11325585149655,\"zoom\":0.6596249179721339}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17202","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:36:22"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=62c940a3-bc4d-463a-bf96-5aacb0c344fb&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"62c940a3-bc4d-463a-bf96-5aacb0c344fb","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=62c940a3-bc4d-463a-bf96-5aacb0c344fb&chatType=INTERNAL"},"timestamp":"2023-12-13 02:36:28"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"lNySIACfJvNH5EuhAABO"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:36:32"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"58000b3f-947c-48da-9e7b-8396771c6331","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia listar um imovel no Centro de Caxias do Sul?","socketIOClientId":"lNySIACfJvNH5EuhAABO"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"278","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:36:47"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/customTool","package":"server","request":{"body":{"baseClasses":["CustomTool","Tool","StructuredTool","Runnable"],"category":"Tools","description":"Use custom tool you've created in Flowise within chatflow","id":"customTool_0","inputAnchors":[],"inputParams":[{"id":"customTool_0-input-selectedTool-asyncOptions","label":"Select Tool","loadMethod":"listTools","name":"selectedTool","type":"asyncOptions"}],"inputs":{"selectedTool":"3607b477-6581-4fe9-a086-5168247be339"},"label":"Custom Tool","loadMethod":"listTools","name":"customTool","outputAnchors":[{"id":"customTool_0-output-customTool-CustomTool|Tool|StructuredTool|Runnable","label":"CustomTool","name":"customTool","type":"CustomTool | Tool | StructuredTool | Runnable"}],"outputs":{},"selected":false,"type":"CustomTool","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"745","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1778158a-8f00-4d29-90ec-0c4522ba7550","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/customTool"},"timestamp":"2023-12-13 02:38:11"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":true,\"positionAbsolute\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3394.993592021048,\"y\":-491.1034869168252},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3394.993592021048,\"y\":-491.1034869168252},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2827.4772103947953,\"y\":-577.4601843218012},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2827.4772103947953,\"y\":-577.4601843218012},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1439.4929765378665,\"y\":353.7395323980103,\"zoom\":0.6596249179721339}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17220","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:38:38"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=58000b3f-947c-48da-9e7b-8396771c6331&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"58000b3f-947c-48da-9e7b-8396771c6331","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=58000b3f-947c-48da-9e7b-8396771c6331&chatType=INTERNAL"},"timestamp":"2023-12-13 02:38:41"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"hr1_ByZtsBkGJakNAABS"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:38:44"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"f6c5c1c3-1d09-4cb1-8485-c472b8a132e2","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia listar um imovel no bairro pedancio?","socketIOClientId":"hr1_ByZtsBkGJakNAABS"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"270","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:39:05"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3448.483022392836,\"y\":382.5442336441853},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3284.3246375727804,\"y\":-465.3312646480507},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":3284.3246375727804,\"y\":-465.3312646480507},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2827.4772103947953,\"y\":-577.4601843218012},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2827.4772103947953,\"y\":-577.4601843218012},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1629.4929765378665,\"y\":292.7395323980103,\"zoom\":0.6596249179721339}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17299","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:40:00"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=f6c5c1c3-1d09-4cb1-8485-c472b8a132e2&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"f6c5c1c3-1d09-4cb1-8485-c472b8a132e2","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=f6c5c1c3-1d09-4cb1-8485-c472b8a132e2&chatType=INTERNAL"},"timestamp":"2023-12-13 02:40:03"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"p7eoTE9FPof42AodAABW"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:40:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"e9835c55-ca53-4f60-af8e-0e2b8cf448aa","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia listar um imovel no bairro pedancino?","socketIOClientId":"p7eoTE9FPof42AodAABW"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"283","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:40:24"}
{"level":"info","message":"🖊 PUT /api/v1/credentials/cec8a35d-f905-499f-af10-298e1a8f4c73","package":"server","request":{"body":{"credentialName":"redisCacheApi","name":"perfil","plainDataObj":{"redisCacheHost":"redis-15132.c1.us-east1-2.gce.cloud.redislabs.com","redisCachePort":"15132","redisCacheUser":"default"}},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"188","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/credentials/cec8a35d-f905-499f-af10-298e1a8f4c73"},"timestamp":"2023-12-13 02:41:47"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=e9835c55-ca53-4f60-af8e-0e2b8cf448aa&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"e9835c55-ca53-4f60-af8e-0e2b8cf448aa","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=e9835c55-ca53-4f60-af8e-0e2b8cf448aa&chatType=INTERNAL"},"timestamp":"2023-12-13 02:43:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"Yqy0VYfRFrmlL07WAABa"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:43:16"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"05865040-502b-46df-ad20-a45611c93959","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me informar um imovel no bairro pedancino?","socketIOClientId":"Yqy0VYfRFrmlL07WAABa"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"288","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:43:38"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"05865040-502b-46df-ad20-a45611c93959","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro pedancino?","type":"userMessage"},{"message":"Claro! Temos um imóvel disponível no bairro Pedancino. Trata-se de uma casa com 3 quartos, 2 banheiros, sala de estar, cozinha, área de serviço e garagem para 2 carros. O imóvel possui também um amplo quintal. O valor do aluguel mensal é de R$ 2.500,00. Gostaria de agendar uma visita para conhecer o imóvel?","type":"apiMessage"}],"question":"Você tem o link da página do imovel?","socketIOClientId":"Yqy0VYfRFrmlL07WAABa"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"713","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-13 02:44:16"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3434.091214230327,\"y\":378.2266911954325},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":true,\"positionAbsolute\":{\"x\":3434.091214230327,\"y\":378.2266911954325},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":\"\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1729.3832955716334,\"y\":164.42190239347116,\"zoom\":0.6948397232010148}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17684","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:44:07"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=05865040-502b-46df-ad20-a45611c93959&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"05865040-502b-46df-ad20-a45611c93959","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=05865040-502b-46df-ad20-a45611c93959&chatType=INTERNAL"},"timestamp":"2023-12-15 00:44:13"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3434.091214230327,\"y\":378.2266911954325},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3434.091214230327,\"y\":378.2266911954325},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":\"\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1682.3832955716334,\"y\":330.42190239347116,\"zoom\":0.6948397232010148}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17685","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:45:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"GWeTmFWTYhYfMlWCAAAD"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:45:15"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2354.5724834959974,\"y\":-348.7044812784129},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3434.091214230327,\"y\":378.2266911954325},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3434.091214230327,\"y\":378.2266911954325},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3832.3537423794664,\"y\":-138.07349389205035},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":\"\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1407.224682043091,\"y\":338.42554581573415,\"zoom\":0.6048931124331665}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17685","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:45:33"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3852.191958013515,\"y\":-147.99260170907468},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3852.191958013515,\"y\":-147.99260170907468},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":\"\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1380.224682043091,\"y\":370.42554581573415,\"zoom\":0.6048931124331665}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17691","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:45:52"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-473.9663831817607},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3852.191958013515,\"y\":-147.99260170907468},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3852.191958013515,\"y\":-147.99260170907468},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"replaceIndex\":\"\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2820.116624804972,\"y\":-627.1271260750248},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2867.8008567493407,\"y\":358.23531018860035,\"zoom\":0.9168465114829873}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17692","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:46:31"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"uEx-RDbECGHv7s6SAAAF"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:47:35"}
{"level":"info","message":"🖊 PUT /api/v1/credentials/cec8a35d-f905-499f-af10-298e1a8f4c73","package":"server","request":{"body":{"credentialName":"redisCacheApi","name":"perfil","plainDataObj":{"redisCacheHost":"redis-15132.c1.us-east1-2.gce.cloud.redislabs.com","redisCachePort":"15132","redisCachePwd":"iQGztgpySPZ6mmProyFVe4VSPZLvQlZv","redisCacheUser":"default"}},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"239","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/credentials/cec8a35d-f905-499f-af10-298e1a8f4c73"},"timestamp":"2023-12-15 00:49:12"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"PXSH3iLRKRjGFtg6AAAH"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:49:26"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"8c8b907a-b250-4edb-ae2c-cb5c23ce4245","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar?","type":"apiMessage"}],"question":"Poderia me infromar 2 imóveis em Caxias do Sul?","socketIOClientId":"PXSH3iLRKRjGFtg6AAAH"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"263","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:49:50"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"8c8b907a-b250-4edb-ae2c-cb5c23ce4245","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me infromar 2 imóveis em Caxias do Sul?","type":"userMessage"},{"message":"Claro! Aqui estão 2 imóveis em Caxias do Sul:\n\n1. Casa no bairro São Pelegrino\n   - Descrição: Linda casa com 3 quartos, sala ampla, cozinha, área de serviço e garagem.\n   - Valor: R$ 350.000,00\n   - Imagem: [link para a imagem]\n\n2. Apartamento no bairro Panazzolo\n   - Descrição: Excelente apartamento com 2 quartos, sala de estar, cozinha, banheiro e vaga de garagem.\n   - Valor: R$ 250.000,00\n   - Imagem: [link para a imagem]\n\nCaso tenha interesse em algum desses imóveis ou precise de mais informações, é só me avisar!","type":"apiMessage"}],"question":"consegue me enviar os links ?","socketIOClientId":"PXSH3iLRKRjGFtg6AAAH"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"912","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:51:05"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"8c8b907a-b250-4edb-ae2c-cb5c23ce4245","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me infromar 2 imóveis em Caxias do Sul?","type":"userMessage"},{"message":"Claro! Aqui estão 2 imóveis em Caxias do Sul:\n\n1. Casa no bairro São Pelegrino\n   - Descrição: Linda casa com 3 quartos, sala ampla, cozinha, área de serviço e garagem.\n   - Valor: R$ 350.000,00\n   - Imagem: [link para a imagem]\n\n2. Apartamento no bairro Panazzolo\n   - Descrição: Excelente apartamento com 2 quartos, sala de estar, cozinha, banheiro e vaga de garagem.\n   - Valor: R$ 250.000,00\n   - Imagem: [link para a imagem]\n\nCaso tenha interesse em algum desses imóveis ou precise de mais informações, é só me avisar!","type":"apiMessage"},{"message":"consegue me enviar os links ?","type":"userMessage"},{"message":"Infelizmente, como sou um assistente de texto, não consigo enviar links diretamente. No entanto, você pode pesquisar por \"imobiliária Perfil Caxias do Sul\" no seu navegador de preferência para encontrar o site da imobiliária e ver mais detalhes sobre os imóveis mencionados. Lá você provavelmente encontrará as imagens dos imóveis.","type":"apiMessage"}],"question":"Consegue, me enviar dois imoveis no bairro Lourdes?","socketIOClientId":"PXSH3iLRKRjGFtg6AAAH"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1377","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:51:57"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=8c8b907a-b250-4edb-ae2c-cb5c23ce4245&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"8c8b907a-b250-4edb-ae2c-cb5c23ce4245","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=8c8b907a-b250-4edb-ae2c-cb5c23ce4245&chatType=INTERNAL"},"timestamp":"2023-12-15 00:52:47"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola, Boa noite!","socketIOClientId":"QMisczoHPhFtDQWmAAAN"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"85","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:52:59"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"5bc9d38a-83c6-479b-8374-bd2588edc145","history":[{"message":"Ola, Boa noite!","type":"userMessage"},{"message":"Olá! Boa noite! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me passar as informações do Residencial Jardim Margarida","socketIOClientId":"QMisczoHPhFtDQWmAAAN"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"315","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:54:05"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=5bc9d38a-83c6-479b-8374-bd2588edc145&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"5bc9d38a-83c6-479b-8374-bd2588edc145","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=5bc9d38a-83c6-479b-8374-bd2588edc145&chatType=INTERNAL"},"timestamp":"2023-12-15 00:56:12"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"jcmtCxhGwv3NMhrhAAAT"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:56:17"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"be08d1d6-833a-4ced-b5f6-9c82b01fba07","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me passara as informações sobre o Residencial Águas de Maio?","socketIOClientId":"jcmtCxhGwv3NMhrhAAAT"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"309","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:56:59"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"be08d1d6-833a-4ced-b5f6-9c82b01fba07","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me passara as informações sobre o Residencial Águas de Maio?","type":"userMessage"},{"message":"O Residencial Águas de Maio é um condomínio residencial localizado na cidade de São Paulo. Ele oferece apartamentos de diferentes tamanhos, com opções de 2 a 4 quartos. O condomínio conta com diversas áreas de lazer, como piscina, quadra esportiva, salão de festas e playground. Além disso, o Residencial Águas de Maio está localizado próximo a escolas, supermercados e outras facilidades. Para mais informações sobre esse empreendimento, sugerimos entrar em contato com nossa equipe de vendas.","type":"apiMessage"}],"question":"Poderia me passara as informações sobre o Residencial Águas de Maio?\n\n","socketIOClientId":"t6GWpSnVoZK8gTIEAAAV"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"964","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:58:52"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=be08d1d6-833a-4ced-b5f6-9c82b01fba07&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"be08d1d6-833a-4ced-b5f6-9c82b01fba07","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=be08d1d6-833a-4ced-b5f6-9c82b01fba07&chatType=INTERNAL"},"timestamp":"2023-12-15 00:59:06"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-475.86539365383646},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil. Se não encontrar informações nos documentos, Responda que não possui informações, sobre o imovel.\",\"retriever\":\"{{redis_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-475.86539365383646},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3852.191958013515,\"y\":-147.99260170907468},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3852.191958013515,\"y\":-147.99260170907468},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":654,\"id\":\"redis_0\",\"position\":{\"x\":2820.116624804972,\"y\":-642.1616821182913},\"type\":\"customNode\",\"data\":{\"vectorStoreMethods\":{},\"label\":\"Redis\",\"name\":\"redis\",\"version\":1,\"description\":\"Upsert embedded data and perform similarity search upon query using Redis, an open source, in-memory data structure store\",\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"NEW\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":\"\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil2\",\"replaceIndex\":\"\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"optional\":true,\"id\":\"redis_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"redis_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"redis_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"redis_0-input-indexName-string\"},{\"label\":\"Replace Index on Upsert\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one when upserting\",\"default\":false,\"type\":\"boolean\",\"id\":\"redis_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"redis_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"redis_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"redis_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2820.116624804972,\"y\":-642.1616821182913},\"dragging\":false}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"},\"selected\":false},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"redis_0\",\"targetHandle\":\"redis_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-redis_0-redis_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"redis_0\",\"sourceHandle\":\"redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"redis_0-redis_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-759.9383947648878,\"y\":312.8246730780538,\"zoom\":0.4584232557414937}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17820","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 00:59:36"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-475.86539365383646},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil. Se não encontrar informações nos documentos, Responda que não possui informações, sobre o imovel.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-475.86539365383646},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3852.191958013515,\"y\":-147.99260170907468},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3852.191958013515,\"y\":-147.99260170907468},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2786.9067581915183,\"y\":-477.8368612317322},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2786.9067581915183,\"y\":-477.8368612317322}}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"},\"selected\":false},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1291.1119896111563,\"y\":306.061942931079,\"zoom\":0.545463288172837}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17430","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:01:26"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"wudpUg_zaUsIL4uFAAAX"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:01:29"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"93f919b9-36c2-46bc-b8e7-8610826f511a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me passar informações sobre o Residencial Águas de Maio","socketIOClientId":"wudpUg_zaUsIL4uFAAAX"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"292","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:02:12"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=93f919b9-36c2-46bc-b8e7-8610826f511a&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"93f919b9-36c2-46bc-b8e7-8610826f511a","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=93f919b9-36c2-46bc-b8e7-8610826f511a&chatType=INTERNAL"},"timestamp":"2023-12-15 01:02:41"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"E43GaL72vm21NYyKAAAd"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:02:44"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"1c2379d1-8148-4405-a1b9-8e622913d904","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me pssar informações sobre Residencial Águas de Maio\"","socketIOClientId":"E43GaL72vm21NYyKAAAd"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"291","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:03:09"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-475.86539365383646},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil. Se não encontrar informações nos documentos, Responda que não possui informações, sobre o imovel.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-475.86539365383646},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3755.026848740008,\"y\":-124.15965037783717},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3755.026848740008,\"y\":-124.15965037783717},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2818.719628448301,\"y\":-484.9327568625115},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2818.719628448301,\"y\":-484.9327568625115}}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"},\"selected\":false},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"},\"selected\":false}],\"viewport\":{\"x\":-1357.2936194036238,\"y\":333.06569497631074,\"zoom\":0.6265727818354115}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17454","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:03:29"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"1c2379d1-8148-4405-a1b9-8e622913d904","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me pssar informações sobre Residencial Águas de Maio\"","type":"userMessage"},{"message":"Desculpe, mas não possuo informações sobre o \"Residencial Águas de Maio\". Você pode fornecer mais detalhes sobre o que deseja saber? Posso ajudar com informações gerais sobre residenciais ou imóveis em outras localidades.","type":"apiMessage"}],"question":"Poderia me pssar informações sobre Residencial Águas de Maio\"","socketIOClientId":"j4E14ef4SRVV1fasAAAf"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"658","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:03:38"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2364.4915913130217,\"y\":-352.01085055075436},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3458.8889837728875,\"y\":374.92032192309114},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":3277.1287054613554,\"y\":-475.86539365383646},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Utilize as ferramentas para responder as perguntas para a imobiliária Perfil. Se não encontrar informações nos documentos, Responda que não possui informações, sobre o imovel.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3277.1287054613554,\"y\":-475.86539365383646},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":3755.026848740008,\"y\":-124.15965037783717},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Você é um assistente da imobiliária perfil, ajude os clientes use o {chat_history} para histórico de conversas\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3755.026848740008,\"y\":-124.15965037783717},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2933.267953521459,\"y\":52.516021073244985},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2818.719628448301,\"y\":-484.9327568625115},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2818.719628448301,\"y\":-484.9327568625115}}],\"edges\":[{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"},\"selected\":false},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"},\"selected\":false}],\"viewport\":{\"x\":-1357.2936194036238,\"y\":333.06569497631074,\"zoom\":0.6265727818354115}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"17452","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:04:03"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["RetrievalQAChain","BaseChain","Runnable"],"category":"Chains","description":"QA chain to answer a question based on the retrieved documents","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\chains\\RetrievalQAChain\\RetrievalQAChain.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg","id":"retrievalQAChain_1","inputAnchors":[{"id":"retrievalQAChain_1-input-model-BaseLanguageModel","label":"Language Model","name":"model","type":"BaseLanguageModel"},{"id":"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever","label":"Vector Store Retriever","name":"vectorStoreRetriever","type":"BaseRetriever"}],"inputParams":[],"inputs":{"model":"{{chatOpenAI_0.data.instance}}","vectorStoreRetriever":"{{RedisIndex_0.data.instance}}"},"label":"Retrieval QA Chain","name":"retrievalQAChain","outputAnchors":[{"id":"retrievalQAChain_1-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable","label":"RetrievalQAChain","name":"retrievalQAChain","type":"RetrievalQAChain | BaseChain | Runnable"}],"outputs":{},"selected":false,"type":"RetrievalQAChain","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1234","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-15 01:20:44"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3268.6126551055177,\"y\":-527.4480510377808},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3268.6126551055177,\"y\":-527.4480510377808},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":3351.658645579897,\"y\":303.73197539025927},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":3351.658645579897,\"y\":303.73197539025927},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2851.243000086514,\"y\":-158.6155307415904},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2851.243000086514,\"y\":-158.6155307415904}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_1\",\"position\":{\"x\":3743.7982920875124,\"y\":-33.25867470007674},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_1-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3743.7982920875124,\"y\":-33.25867470007674},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_1-retrievalQAChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_1-retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1670.6335244728784,\"y\":169.55958954958362,\"zoom\":0.6489209730062576}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"13812","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:22:24"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=1c2379d1-8148-4405-a1b9-8e622913d904&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"1c2379d1-8148-4405-a1b9-8e622913d904","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=1c2379d1-8148-4405-a1b9-8e622913d904&chatType=INTERNAL"},"timestamp":"2023-12-15 01:22:29"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"fiPTWhMxyiirnE6qAAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:22:35"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3268.6126551055177,\"y\":-527.4480510377808},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3268.6126551055177,\"y\":-527.4480510377808},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2851.243000086514,\"y\":-158.6155307415904},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2851.243000086514,\"y\":-158.6155307415904}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_1\",\"position\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_1-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_1-retrievalQAChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_1-retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1433.0892547887934,\"y\":98.9486107765398,\"zoom\":0.5649185185852665}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"11947","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:23:10"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"xka-1b2FQsE0xbzsAAAl"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:23:15"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"mxAPWs0rYPkbuN2ZAAAn"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:23:32"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3268.6126551055177,\"y\":-527.4480510377808},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3268.6126551055177,\"y\":-527.4480510377808},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2877.795501919105,\"y\":-156.84536395275097},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2877.795501919105,\"y\":-156.84536395275097}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_1\",\"position\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_1-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_1-retrievalQAChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_1-retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1615.5658349616801,\"y\":158.74364245513146,\"zoom\":0.6489209730062577}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"11949","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:23:46"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3314.843245960085,\"y\":-631.0045745520115},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3314.843245960085,\"y\":-631.0045745520115},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2877.795501919105,\"y\":-156.84536395275097},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2877.795501919105,\"y\":-156.84536395275097}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_1\",\"position\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_1-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_1-retrievalQAChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_1-retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2270.1398866087793,\"y\":297.239124806935,\"zoom\":0.8562563573482013}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"11949","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:24:04"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"mxAjXHDjvmU4cWSGAAAp"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:24:10"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3314.843245960085,\"y\":-631.0045745520115},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3314.843245960085,\"y\":-631.0045745520115},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2877.795501919105,\"y\":-156.84536395275097},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"doc:perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2877.795501919105,\"y\":-156.84536395275097}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_1\",\"position\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_1-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_1-retrievalQAChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_1-retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2465.1398866087793,\"y\":259.239124806935,\"zoom\":0.8562563573482013}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"11947","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:24:24"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"twXbkMVuvd3fH4KOAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:24:28"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3314.843245960085,\"y\":-631.0045745520115},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3314.843245960085,\"y\":-631.0045745520115},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2877.795501919105,\"y\":-156.84536395275097},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":2877.795501919105,\"y\":-156.84536395275097}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_1\",\"position\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_1-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_1-retrievalQAChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_1-retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2380.1398866087793,\"y\":255.23912480693502,\"zoom\":0.8562563573482013}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"11944","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:24:53"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"6NCdZrnqSa88MfahAAAt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:25:00"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar?","type":"apiMessage"}],"question":"Poderia me listar 2 imoveis no bairro Lourdes?","socketIOClientId":"6NCdZrnqSa88MfahAAAt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"273","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:25:25"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me listar 2 imoveis no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, eu não tenho essa informação.","type":"apiMessage"}],"question":"Poderia listar algum imovel em Caxias do Sul?","socketIOClientId":"6NCdZrnqSa88MfahAAAt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"431","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:25:51"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me listar 2 imoveis no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, eu não tenho essa informação.","type":"apiMessage"},{"message":"Poderia listar algum imovel em Caxias do Sul?","type":"userMessage"},{"message":"Sim, posso listar um imóvel em Caxias do Sul. Um exemplo é a \"Casa Cinquentenário\", localizada no bairro Cinqüentenário. O imóvel possui as seguintes características principais: área de 874.00 m², 4 dormitórios, 2 suítes e 6 vagas de garagem. Além disso, possui alguns outros atrativos como espaço gourmet, academia, jardim, sala de jogos, churrasqueira, closet, hidromassagem, home office, lavabo, etc. O preço do imóvel é de R$ 4.950.000,00. Você pode obter mais informações sobre esse imóvel através deste link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/7636).","type":"apiMessage"}],"question":"Poderia listar um imovel no centro de Caxias do Sul?","socketIOClientId":"drUtM4frwNnGJRAhAAAv"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1164","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:26:39"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me listar 2 imoveis no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, eu não tenho essa informação.","type":"apiMessage"},{"message":"Poderia listar algum imovel em Caxias do Sul?","type":"userMessage"},{"message":"Sim, posso listar um imóvel em Caxias do Sul. Um exemplo é a \"Casa Cinquentenário\", localizada no bairro Cinqüentenário. O imóvel possui as seguintes características principais: área de 874.00 m², 4 dormitórios, 2 suítes e 6 vagas de garagem. Além disso, possui alguns outros atrativos como espaço gourmet, academia, jardim, sala de jogos, churrasqueira, closet, hidromassagem, home office, lavabo, etc. O preço do imóvel é de R$ 4.950.000,00. Você pode obter mais informações sobre esse imóvel através deste link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/7636).","type":"apiMessage"},{"message":"Poderia listar um imovel no centro de Caxias do Sul?","type":"userMessage"},{"message":"Sim, atualmente temos o seguinte imóvel disponível no centro de Caxias do Sul:\n\n- Nome: Box Ed. Garagem Center\n- Código: 6859\n- Bairro: Centro\n- Cidade: Caxias do Sul, RS\n- Preço: R$ 20.000,00\n- Tamanho: 17.00 m²\n- Link: [Clique aqui para mais informações](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nEssas são as informações disponíveis sobre o imóvel atualmente.","type":"apiMessage"}],"question":"Poderia me informar um imovel no bairro Lourdes?","socketIOClientId":"oNtrUwu-Ryjws1h-AAAx"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1675","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:28:47"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me listar 2 imoveis no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, eu não tenho essa informação.","type":"apiMessage"},{"message":"Poderia listar algum imovel em Caxias do Sul?","type":"userMessage"},{"message":"Sim, posso listar um imóvel em Caxias do Sul. Um exemplo é a \"Casa Cinquentenário\", localizada no bairro Cinqüentenário. O imóvel possui as seguintes características principais: área de 874.00 m², 4 dormitórios, 2 suítes e 6 vagas de garagem. Além disso, possui alguns outros atrativos como espaço gourmet, academia, jardim, sala de jogos, churrasqueira, closet, hidromassagem, home office, lavabo, etc. O preço do imóvel é de R$ 4.950.000,00. Você pode obter mais informações sobre esse imóvel através deste link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/7636).","type":"apiMessage"},{"message":"Poderia listar um imovel no centro de Caxias do Sul?","type":"userMessage"},{"message":"Sim, atualmente temos o seguinte imóvel disponível no centro de Caxias do Sul:\n\n- Nome: Box Ed. Garagem Center\n- Código: 6859\n- Bairro: Centro\n- Cidade: Caxias do Sul, RS\n- Preço: R$ 20.000,00\n- Tamanho: 17.00 m²\n- Link: [Clique aqui para mais informações](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nEssas são as informações disponíveis sobre o imóvel atualmente.","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, mas não posso fornecer essa informação com base nos dados fornecidos.","type":"apiMessage"}],"question":"bairro lourdes?","socketIOClientId":"oNtrUwu-Ryjws1h-AAAx"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1843","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:28:59"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me listar 2 imoveis no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, eu não tenho essa informação.","type":"apiMessage"},{"message":"Poderia listar algum imovel em Caxias do Sul?","type":"userMessage"},{"message":"Sim, posso listar um imóvel em Caxias do Sul. Um exemplo é a \"Casa Cinquentenário\", localizada no bairro Cinqüentenário. O imóvel possui as seguintes características principais: área de 874.00 m², 4 dormitórios, 2 suítes e 6 vagas de garagem. Além disso, possui alguns outros atrativos como espaço gourmet, academia, jardim, sala de jogos, churrasqueira, closet, hidromassagem, home office, lavabo, etc. O preço do imóvel é de R$ 4.950.000,00. Você pode obter mais informações sobre esse imóvel através deste link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/7636).","type":"apiMessage"},{"message":"Poderia listar um imovel no centro de Caxias do Sul?","type":"userMessage"},{"message":"Sim, atualmente temos o seguinte imóvel disponível no centro de Caxias do Sul:\n\n- Nome: Box Ed. Garagem Center\n- Código: 6859\n- Bairro: Centro\n- Cidade: Caxias do Sul, RS\n- Preço: R$ 20.000,00\n- Tamanho: 17.00 m²\n- Link: [Clique aqui para mais informações](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nEssas são as informações disponíveis sobre o imóvel atualmente.","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, mas não posso fornecer essa informação com base nos dados fornecidos.","type":"apiMessage"},{"message":"bairro lourdes?","type":"userMessage"},{"message":"Não há informações sobre o bairro Lourdes nos dados fornecidos.","type":"apiMessage"}],"question":"E no bairro Santa Lucia?","socketIOClientId":"oNtrUwu-Ryjws1h-AAAx"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2005","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:29:13"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me listar 2 imoveis no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, eu não tenho essa informação.","type":"apiMessage"},{"message":"Poderia listar algum imovel em Caxias do Sul?","type":"userMessage"},{"message":"Sim, posso listar um imóvel em Caxias do Sul. Um exemplo é a \"Casa Cinquentenário\", localizada no bairro Cinqüentenário. O imóvel possui as seguintes características principais: área de 874.00 m², 4 dormitórios, 2 suítes e 6 vagas de garagem. Além disso, possui alguns outros atrativos como espaço gourmet, academia, jardim, sala de jogos, churrasqueira, closet, hidromassagem, home office, lavabo, etc. O preço do imóvel é de R$ 4.950.000,00. Você pode obter mais informações sobre esse imóvel através deste link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/7636).","type":"apiMessage"},{"message":"Poderia listar um imovel no centro de Caxias do Sul?","type":"userMessage"},{"message":"Sim, atualmente temos o seguinte imóvel disponível no centro de Caxias do Sul:\n\n- Nome: Box Ed. Garagem Center\n- Código: 6859\n- Bairro: Centro\n- Cidade: Caxias do Sul, RS\n- Preço: R$ 20.000,00\n- Tamanho: 17.00 m²\n- Link: [Clique aqui para mais informações](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nEssas são as informações disponíveis sobre o imóvel atualmente.","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, mas não posso fornecer essa informação com base nos dados fornecidos.","type":"apiMessage"},{"message":"bairro lourdes?","type":"userMessage"},{"message":"Não há informações sobre o bairro Lourdes nos dados fornecidos.","type":"apiMessage"},{"message":"E no bairro Santa Lucia?","type":"userMessage"},{"message":"Desculpe, não tenho informações sobre o bairro Santa Lúcia.","type":"apiMessage"}],"question":"São Luiz?","socketIOClientId":"oNtrUwu-Ryjws1h-AAAx"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2149","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:29:20"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar?","type":"apiMessage"},{"message":"Poderia me listar 2 imoveis no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, eu não tenho essa informação.","type":"apiMessage"},{"message":"Poderia listar algum imovel em Caxias do Sul?","type":"userMessage"},{"message":"Sim, posso listar um imóvel em Caxias do Sul. Um exemplo é a \"Casa Cinquentenário\", localizada no bairro Cinqüentenário. O imóvel possui as seguintes características principais: área de 874.00 m², 4 dormitórios, 2 suítes e 6 vagas de garagem. Além disso, possui alguns outros atrativos como espaço gourmet, academia, jardim, sala de jogos, churrasqueira, closet, hidromassagem, home office, lavabo, etc. O preço do imóvel é de R$ 4.950.000,00. Você pode obter mais informações sobre esse imóvel através deste link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/7636).","type":"apiMessage"},{"message":"Poderia listar um imovel no centro de Caxias do Sul?","type":"userMessage"},{"message":"Sim, atualmente temos o seguinte imóvel disponível no centro de Caxias do Sul:\n\n- Nome: Box Ed. Garagem Center\n- Código: 6859\n- Bairro: Centro\n- Cidade: Caxias do Sul, RS\n- Preço: R$ 20.000,00\n- Tamanho: 17.00 m²\n- Link: [Clique aqui para mais informações](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nEssas são as informações disponíveis sobre o imóvel atualmente.","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro Lourdes?","type":"userMessage"},{"message":"Desculpe, mas não posso fornecer essa informação com base nos dados fornecidos.","type":"apiMessage"},{"message":"bairro lourdes?","type":"userMessage"},{"message":"Não há informações sobre o bairro Lourdes nos dados fornecidos.","type":"apiMessage"},{"message":"E no bairro Santa Lucia?","type":"userMessage"},{"message":"Desculpe, não tenho informações sobre o bairro Santa Lúcia.","type":"apiMessage"},{"message":"São Luiz?","type":"userMessage"},{"message":"Não, a casa está localizada em Caxias do Sul, no bairro de Petrópolis, no Rio Grande do Sul.","type":"apiMessage"}],"question":"Um imovel no bairro petropolis","socketIOClientId":"oNtrUwu-Ryjws1h-AAAx"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2345","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:29:42"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=bd146b5b-b3c9-482e-a462-f169fe23c034&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"bd146b5b-b3c9-482e-a462-f169fe23c034","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/46482a14-20b8-4845-a180-3b887186e5bc?chatId=bd146b5b-b3c9-482e-a462-f169fe23c034&chatType=INTERNAL"},"timestamp":"2023-12-15 01:30:21"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"e4GRkvLP-9HwyVgeAAAz"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:30:46"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"ba82ad77-7f5a-4adf-9f7c-e31db04eb4e3","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Em que posso ajudar?","type":"apiMessage"}],"question":"Poderia infromar um imovel no bairro petrópolis?","socketIOClientId":"e4GRkvLP-9HwyVgeAAAz"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"278","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:31:09"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3314.843245960085,\"y\":-631.0045745520115},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3314.843245960085,\"y\":-631.0045745520115},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2875.8316127903995,\"y\":-249.14815300189812},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":2875.8316127903995,\"y\":-249.14815300189812}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_1\",\"position\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_1-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3701.1309275595686,\"y\":-10.372526366480287},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_1-retrievalQAChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_1\",\"targetHandle\":\"retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_1-retrievalQAChain_1-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-957.1861541081644,\"y\":346.25810853705855,\"zoom\":0.5091937143413358}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"11943","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 01:31:14"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2441.156586652254,\"y\":-123.79926589673306},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2874.281538446238,\"y\":-297.89329243309186},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2874.281538446238,\"y\":-297.89329243309186}},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":3807.168403173941,\"y\":-492.84216664398906},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"\",\"outputParser\":\"\",\"inputModeration\":\"\",\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3807.168403173941,\"y\":-492.84216664398906},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":3265.690552145975,\"y\":-784.2838011949111},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3265.690552145975,\"y\":-784.2838011949111},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":4274.064080280145,\"y\":-409.67801709174944},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4274.064080280145,\"y\":-409.67801709174944},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":3436.700593491177,\"y\":-186.71437038831567},\"type\":\"customNode\",\"data\":{\"label\":\"Chat Prompt Template\",\"name\":\"chatPromptTemplate\",\"version\":1,\"type\":\"ChatPromptTemplate\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/prompts/ChatPromptTemplate/prompt.svg\",\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"inputs\":{\"systemMessagePrompt\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\",\"humanMessagePrompt\":\"'QUESTION: \\\"\\\"\\\"{input}\\\"\\\"\\\"'\",\"promptValues\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\prompts\\\\ChatPromptTemplate\\\\ChatPromptTemplate.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"id\":\"chatPromptTemplate_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":3436.700593491177,\"y\":-186.71437038831567},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_0-llmChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2699.0413584746107,\"y\":136.42012250790242,\"zoom\":0.8865585565666969}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"16893","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 02:07:34"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["OpenAI","BaseLLM","BaseLanguageModel","Runnable"],"category":"LLMs","credential":"","description":"Wrapper around OpenAI large language models","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\llms\\OpenAI\\OpenAI.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/llms/OpenAI/openai.png","id":"openAI_0","inputAnchors":[{"id":"openAI_0-input-cache-BaseCache","label":"Cache","name":"cache","optional":true,"type":"BaseCache"}],"inputParams":[{"credentialNames":["openAIApi"],"id":"openAI_0-input-credential-credential","label":"Connect Credential","name":"credential","type":"credential"},{"default":"gpt-3.5-turbo-instruct","id":"openAI_0-input-modelName-options","label":"Model Name","name":"modelName","optional":true,"options":[{"label":"gpt-3.5-turbo-instruct","name":"gpt-3.5-turbo-instruct"},{"label":"babbage-002","name":"babbage-002"},{"label":"davinci-002","name":"davinci-002"}],"type":"options"},{"default":0.7,"id":"openAI_0-input-temperature-number","label":"Temperature","name":"temperature","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-maxTokens-number","label":"Max Tokens","name":"maxTokens","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-topP-number","label":"Top Probability","name":"topP","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-bestOf-number","label":"Best Of","name":"bestOf","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-frequencyPenalty-number","label":"Frequency Penalty","name":"frequencyPenalty","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-presencePenalty-number","label":"Presence Penalty","name":"presencePenalty","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-batchSize-number","label":"Batch Size","name":"batchSize","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-timeout-number","label":"Timeout","name":"timeout","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-basepath-string","label":"BasePath","name":"basepath","optional":true,"type":"string"},{"additionalParams":true,"id":"openAI_0-input-baseOptions-json","label":"BaseOptions","name":"baseOptions","optional":true,"type":"json"}],"inputs":{"baseOptions":"","basepath":"","batchSize":"","bestOf":"","cache":"","frequencyPenalty":"","maxTokens":"","modelName":"gpt-3.5-turbo-instruct","presencePenalty":"","temperature":0.7,"timeout":"","topP":""},"label":"OpenAI","name":"openAI","outputAnchors":[{"id":"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable","label":"OpenAI","name":"openAI","type":"OpenAI | BaseLLM | BaseLanguageModel | Runnable"}],"outputs":{},"selected":true,"type":"OpenAI","version":3},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2994","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-15 02:10:19"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["OpenAI","BaseLLM","BaseLanguageModel","Runnable"],"category":"LLMs","credential":"","description":"Wrapper around OpenAI large language models","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\llms\\OpenAI\\OpenAI.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/llms/OpenAI/openai.png","id":"openAI_0","inputAnchors":[{"id":"openAI_0-input-cache-BaseCache","label":"Cache","name":"cache","optional":true,"type":"BaseCache"}],"inputParams":[{"credentialNames":["openAIApi"],"id":"openAI_0-input-credential-credential","label":"Connect Credential","name":"credential","type":"credential"},{"default":"gpt-3.5-turbo-instruct","id":"openAI_0-input-modelName-options","label":"Model Name","name":"modelName","optional":true,"options":[{"label":"gpt-3.5-turbo-instruct","name":"gpt-3.5-turbo-instruct"},{"label":"babbage-002","name":"babbage-002"},{"label":"davinci-002","name":"davinci-002"}],"type":"options"},{"default":0.7,"id":"openAI_0-input-temperature-number","label":"Temperature","name":"temperature","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-maxTokens-number","label":"Max Tokens","name":"maxTokens","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-topP-number","label":"Top Probability","name":"topP","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-bestOf-number","label":"Best Of","name":"bestOf","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-frequencyPenalty-number","label":"Frequency Penalty","name":"frequencyPenalty","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-presencePenalty-number","label":"Presence Penalty","name":"presencePenalty","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-batchSize-number","label":"Batch Size","name":"batchSize","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-timeout-number","label":"Timeout","name":"timeout","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"openAI_0-input-basepath-string","label":"BasePath","name":"basepath","optional":true,"type":"string"},{"additionalParams":true,"id":"openAI_0-input-baseOptions-json","label":"BaseOptions","name":"baseOptions","optional":true,"type":"json"}],"inputs":{"baseOptions":"","basepath":"","batchSize":"","bestOf":"","cache":"","frequencyPenalty":"","maxTokens":"","modelName":"gpt-3.5-turbo-instruct","presencePenalty":"","temperature":0.7,"timeout":"","topP":""},"label":"OpenAI","name":"openAI","outputAnchors":[{"id":"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable","label":"OpenAI","name":"openAI","type":"OpenAI | BaseLLM | BaseLanguageModel | Runnable"}],"outputs":{},"selected":true,"type":"OpenAI","version":3},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2994","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-15 02:13:18"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/openAIAssistant","package":"server","request":{"body":{"baseClasses":["OpenAIAssistant"],"category":"Agents","description":"An agent that uses OpenAI Assistant API to pick the tool and args to call","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\agents\\OpenAIAssistant\\OpenAIAssistant.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIAssistant/openai.png","id":"openAIAssistant_0","inputAnchors":[{"id":"openAIAssistant_0-input-tools-Tool","label":"Allowed Tools","list":true,"name":"tools","type":"Tool"}],"inputParams":[{"id":"openAIAssistant_0-input-selectedAssistant-asyncOptions","label":"Select Assistant","loadMethod":"listAssistants","name":"selectedAssistant","type":"asyncOptions"}],"inputs":{"selectedAssistant":"","tools":""},"label":"OpenAI Assistant","loadMethod":"listAssistants","loadMethods":{},"name":"openAIAssistant","outputAnchors":[{"id":"openAIAssistant_0-output-openAIAssistant-OpenAIAssistant","label":"OpenAIAssistant","name":"openAIAssistant","type":"OpenAIAssistant"}],"outputs":{},"selected":true,"type":"OpenAIAssistant","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1147","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/openAIAssistant"},"timestamp":"2023-12-15 02:27:51"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":3687.6983822836296,\"y\":212.85456245706337},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3687.6983822836296,\"y\":212.85456245706337},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":4115.06775927558,\"y\":266.0313520861164},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4115.06775927558,\"y\":266.0313520861164}},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{openAI_0.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"{{structuredOutputParser_0.data.instance}}\",\"inputModeration\":[\"{{inputModerationSimple_0.data.instance}}\"],\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":5235.260536544897,\"y\":292.1995152556678},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5235.260536544897,\"y\":292.1995152556678},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"type\":\"customNode\",\"data\":{\"label\":\"Chat Prompt Template\",\"name\":\"chatPromptTemplate\",\"version\":1,\"type\":\"ChatPromptTemplate\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/prompts/ChatPromptTemplate/prompt.svg\",\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"inputs\":{\"systemMessagePrompt\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\",\"humanMessagePrompt\":\"'QUESTION: \\\"\\\"\\\"{input}\\\"\\\"\\\"'\",\"promptValues\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\prompts\\\\ChatPromptTemplate\\\\ChatPromptTemplate.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"id\":\"chatPromptTemplate_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"dragging\":false},{\"width\":300,\"height\":329,\"id\":\"structuredOutputParser_0\",\"position\":{\"x\":3633.6527970419306,\"y\":-921.961452650435},\"type\":\"customNode\",\"data\":{\"label\":\"Structured Output Parser\",\"name\":\"structuredOutputParser\",\"version\":1,\"type\":\"StructuredOutputParser\",\"description\":\"Parse the output of an LLM call into a given (JSON) structure.\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/outputparsers/StructuredOutputParser/structure.png\",\"category\":\"Output Parsers\",\"baseClasses\":[\"StructuredOutputParser\",\"BaseLLMOutputParser\",\"Runnable\"],\"inputs\":{\"autofixParser\":true,\"jsonStructure\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}]},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\outputparsers\\\\StructuredOutputParser\\\\StructuredOutputParser.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Autofix\",\"name\":\"autofixParser\",\"type\":\"boolean\",\"optional\":true,\"description\":\"In the event that the first call fails, will make another call to the model to fix any errors.\",\"id\":\"structuredOutputParser_0-input-autofixParser-boolean\"},{\"label\":\"JSON Structure\",\"name\":\"jsonStructure\",\"type\":\"datagrid\",\"description\":\"JSON structure for LLM to return\",\"datagrid\":[{\"field\":\"property\",\"headerName\":\"Property\",\"editable\":true},{\"field\":\"type\",\"headerName\":\"Type\",\"type\":\"singleSelect\",\"valueOptions\":[\"string\",\"number\",\"boolean\"],\"editable\":true},{\"field\":\"description\",\"headerName\":\"Description\",\"editable\":true,\"flex\":1}],\"default\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}],\"additionalParams\":true,\"id\":\"structuredOutputParser_0-input-jsonStructure-datagrid\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"name\":\"structuredOutputParser\",\"label\":\"StructuredOutputParser\",\"type\":\"StructuredOutputParser | BaseLLMOutputParser | Runnable\"}],\"id\":\"structuredOutputParser_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3633.6527970419306,\"y\":-921.961452650435},\"dragging\":false},{\"width\":300,\"height\":534,\"id\":\"inputModerationSimple_0\",\"position\":{\"x\":4015.094925164557,\"y\":-432.9466218988576},\"type\":\"customNode\",\"data\":{\"label\":\"Simple Prompt Moderation\",\"name\":\"inputModerationSimple\",\"version\":1,\"type\":\"Moderation\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/moderation/SimplePromptModeration/simple_moderation.png\",\"category\":\"Moderation\",\"description\":\"Check whether input consists of any text from Deny list, and prevent being sent to LLM\",\"baseClasses\":[\"Moderation\"],\"inputs\":{\"denyList\":\"\",\"moderationErrorMessage\":\"Cannot Process! Input violates content moderation policies.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\moderation\\\\SimplePromptModeration\\\\SimplePromptModeration.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Deny List\",\"name\":\"denyList\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"ignore previous instructions\\ndo not follow the directions\\nyou must ignore all previous instructions\",\"description\":\"An array of string literals (enter one per line) that should not appear in the prompt text.\",\"optional\":false,\"id\":\"inputModerationSimple_0-input-denyList-string\"},{\"label\":\"Error Message\",\"name\":\"moderationErrorMessage\",\"type\":\"string\",\"rows\":2,\"default\":\"Cannot Process! Input violates content moderation policies.\",\"optional\":true,\"id\":\"inputModerationSimple_0-input-moderationErrorMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inputModerationSimple_0-output-inputModerationSimple-Moderation\",\"name\":\"inputModerationSimple\",\"label\":\"Moderation\",\"type\":\"Moderation\"}],\"id\":\"inputModerationSimple_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4015.094925164557,\"y\":-432.9466218988576}},{\"width\":300,\"height\":576,\"id\":\"openAI_0\",\"position\":{\"x\":4023.267200187679,\"y\":-1198.509955648605},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI\",\"name\":\"openAI\",\"version\":3,\"type\":\"OpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/llms/OpenAI/openai.png\",\"category\":\"LLMs\",\"description\":\"Wrapper around OpenAI large language models\",\"baseClasses\":[\"OpenAI\",\"BaseLLM\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-instruct\",\"temperature\":0.7,\"maxTokens\":\"\",\"topP\":\"\",\"bestOf\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\llms\\\\OpenAI\\\\OpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"openAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-3.5-turbo-instruct\",\"name\":\"gpt-3.5-turbo-instruct\"},{\"label\":\"babbage-002\",\"name\":\"babbage-002\"},{\"label\":\"davinci-002\",\"name\":\"davinci-002\"}],\"default\":\"gpt-3.5-turbo-instruct\",\"optional\":true,\"id\":\"openAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.7,\"optional\":true,\"id\":\"openAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-topP-number\"},{\"label\":\"Best Of\",\"name\":\"bestOf\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-bestOf-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-presencePenalty-number\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"name\":\"openAI\",\"label\":\"OpenAI\",\"type\":\"OpenAI | BaseLLM | BaseLanguageModel | Runnable\"}],\"id\":\"openAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4023.267200187679,\"y\":-1198.509955648605}},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_1\",\"position\":{\"x\":5620.806932262341,\"y\":-94.67577570841351},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{chainTool_0.data.instance}}\"],\"model\":\"{{chatOpenAI_0.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_1-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_1-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_1-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_1-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_1-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":5620.806932262341,\"y\":-94.67577570841351}},{\"width\":300,\"height\":603,\"id\":\"chainTool_0\",\"position\":{\"x\":5092.062538631698,\"y\":-680.6692916917609},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"\",\"description\":\"\",\"returnDirect\":\"\",\"baseChain\":\"{{llmChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_0-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_0-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_0-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_0-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5092.062538631698,\"y\":-680.6692916917609},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":4676.160513578962,\"y\":206.0416067307231},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4676.160513578962,\"y\":206.0416067307231}}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_0-llmChain_0-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"structuredOutputParser_0\",\"sourceHandle\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\",\"type\":\"buttonedge\",\"id\":\"structuredOutputParser_0-structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable-llmChain_0-llmChain_0-input-outputParser-BaseLLMOutputParser\",\"data\":{\"label\":\"\"}},{\"source\":\"inputModerationSimple_0\",\"sourceHandle\":\"inputModerationSimple_0-output-inputModerationSimple-Moderation\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-inputModeration-Moderation\",\"type\":\"buttonedge\",\"id\":\"inputModerationSimple_0-inputModerationSimple_0-output-inputModerationSimple-Moderation-llmChain_0-llmChain_0-input-inputModeration-Moderation\",\"data\":{\"label\":\"\"}},{\"source\":\"openAI_0\",\"sourceHandle\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"openAI_0-openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable-llmChain_0-llmChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_0\",\"sourceHandle\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"target\":\"chainTool_0\",\"targetHandle\":\"chainTool_0-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"llmChain_0-llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable-chainTool_0-chainTool_0-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_1-conversationalAgent_1-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_0\",\"sourceHandle\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_0-chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_1-conversationalAgent_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1782.0802567894848,\"y\":97.9791966346383,\"zoom\":0.5000000000000008}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"35035","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 02:42:02"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":3571.525659321998,\"y\":354.1649824382933},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3571.525659321998,\"y\":354.1649824382933},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":4206.645301308775,\"y\":587.8273918077955},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4206.645301308775,\"y\":587.8273918077955}},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{openAI_0.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"{{structuredOutputParser_0.data.instance}}\",\"inputModeration\":[\"{{inputModerationSimple_0.data.instance}}\"],\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":5851.183335293628,\"y\":636.0786020210498},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5851.183335293628,\"y\":636.0786020210498},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"type\":\"customNode\",\"data\":{\"label\":\"Chat Prompt Template\",\"name\":\"chatPromptTemplate\",\"version\":1,\"type\":\"ChatPromptTemplate\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/prompts/ChatPromptTemplate/prompt.svg\",\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"inputs\":{\"systemMessagePrompt\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\",\"humanMessagePrompt\":\"'QUESTION: \\\"\\\"\\\"{input}\\\"\\\"\\\"'\",\"promptValues\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\prompts\\\\ChatPromptTemplate\\\\ChatPromptTemplate.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"id\":\"chatPromptTemplate_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"dragging\":false},{\"width\":300,\"height\":329,\"id\":\"structuredOutputParser_0\",\"position\":{\"x\":3633.6527970419306,\"y\":-921.961452650435},\"type\":\"customNode\",\"data\":{\"label\":\"Structured Output Parser\",\"name\":\"structuredOutputParser\",\"version\":1,\"type\":\"StructuredOutputParser\",\"description\":\"Parse the output of an LLM call into a given (JSON) structure.\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/outputparsers/StructuredOutputParser/structure.png\",\"category\":\"Output Parsers\",\"baseClasses\":[\"StructuredOutputParser\",\"BaseLLMOutputParser\",\"Runnable\"],\"inputs\":{\"autofixParser\":true,\"jsonStructure\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}]},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\outputparsers\\\\StructuredOutputParser\\\\StructuredOutputParser.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Autofix\",\"name\":\"autofixParser\",\"type\":\"boolean\",\"optional\":true,\"description\":\"In the event that the first call fails, will make another call to the model to fix any errors.\",\"id\":\"structuredOutputParser_0-input-autofixParser-boolean\"},{\"label\":\"JSON Structure\",\"name\":\"jsonStructure\",\"type\":\"datagrid\",\"description\":\"JSON structure for LLM to return\",\"datagrid\":[{\"field\":\"property\",\"headerName\":\"Property\",\"editable\":true},{\"field\":\"type\",\"headerName\":\"Type\",\"type\":\"singleSelect\",\"valueOptions\":[\"string\",\"number\",\"boolean\"],\"editable\":true},{\"field\":\"description\",\"headerName\":\"Description\",\"editable\":true,\"flex\":1}],\"default\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}],\"additionalParams\":true,\"id\":\"structuredOutputParser_0-input-jsonStructure-datagrid\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"name\":\"structuredOutputParser\",\"label\":\"StructuredOutputParser\",\"type\":\"StructuredOutputParser | BaseLLMOutputParser | Runnable\"}],\"id\":\"structuredOutputParser_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3633.6527970419306,\"y\":-921.961452650435},\"dragging\":false},{\"width\":300,\"height\":534,\"id\":\"inputModerationSimple_0\",\"position\":{\"x\":4015.094925164557,\"y\":-432.9466218988576},\"type\":\"customNode\",\"data\":{\"label\":\"Simple Prompt Moderation\",\"name\":\"inputModerationSimple\",\"version\":1,\"type\":\"Moderation\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/moderation/SimplePromptModeration/simple_moderation.png\",\"category\":\"Moderation\",\"description\":\"Check whether input consists of any text from Deny list, and prevent being sent to LLM\",\"baseClasses\":[\"Moderation\"],\"inputs\":{\"denyList\":\"\",\"moderationErrorMessage\":\"Cannot Process! Input violates content moderation policies.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\moderation\\\\SimplePromptModeration\\\\SimplePromptModeration.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Deny List\",\"name\":\"denyList\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"ignore previous instructions\\ndo not follow the directions\\nyou must ignore all previous instructions\",\"description\":\"An array of string literals (enter one per line) that should not appear in the prompt text.\",\"optional\":false,\"id\":\"inputModerationSimple_0-input-denyList-string\"},{\"label\":\"Error Message\",\"name\":\"moderationErrorMessage\",\"type\":\"string\",\"rows\":2,\"default\":\"Cannot Process! Input violates content moderation policies.\",\"optional\":true,\"id\":\"inputModerationSimple_0-input-moderationErrorMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inputModerationSimple_0-output-inputModerationSimple-Moderation\",\"name\":\"inputModerationSimple\",\"label\":\"Moderation\",\"type\":\"Moderation\"}],\"id\":\"inputModerationSimple_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4015.094925164557,\"y\":-432.9466218988576}},{\"width\":300,\"height\":576,\"id\":\"openAI_0\",\"position\":{\"x\":4023.267200187679,\"y\":-1198.509955648605},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI\",\"name\":\"openAI\",\"version\":3,\"type\":\"OpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/llms/OpenAI/openai.png\",\"category\":\"LLMs\",\"description\":\"Wrapper around OpenAI large language models\",\"baseClasses\":[\"OpenAI\",\"BaseLLM\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-instruct\",\"temperature\":0.7,\"maxTokens\":\"\",\"topP\":\"\",\"bestOf\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\llms\\\\OpenAI\\\\OpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"openAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-3.5-turbo-instruct\",\"name\":\"gpt-3.5-turbo-instruct\"},{\"label\":\"babbage-002\",\"name\":\"babbage-002\"},{\"label\":\"davinci-002\",\"name\":\"davinci-002\"}],\"default\":\"gpt-3.5-turbo-instruct\",\"optional\":true,\"id\":\"openAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.7,\"optional\":true,\"id\":\"openAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-topP-number\"},{\"label\":\"Best Of\",\"name\":\"bestOf\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-bestOf-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-presencePenalty-number\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"name\":\"openAI\",\"label\":\"OpenAI\",\"type\":\"OpenAI | BaseLLM | BaseLanguageModel | Runnable\"}],\"id\":\"openAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4023.267200187679,\"y\":-1198.509955648605}},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_1\",\"position\":{\"x\":5793.428776087207,\"y\":-239.51939179134612},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{chainTool_0.data.instance}}\",\"{{chainTool_1.data.instance}}\"],\"model\":\"{{chatOpenAI_0.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_1-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_1-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_1-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_1-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_1-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":5793.428776087207,\"y\":-239.51939179134612}},{\"width\":300,\"height\":603,\"id\":\"chainTool_0\",\"position\":{\"x\":5092.062538631698,\"y\":-680.6692916917609},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"\",\"description\":\"\",\"returnDirect\":\"\",\"baseChain\":\"{{llmChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_0-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_0-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_0-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_0-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5092.062538631698,\"y\":-680.6692916917609},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":4761.855526387593,\"y\":450.89717336784963},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4761.855526387593,\"y\":450.89717336784963}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":4807.649600094006,\"y\":10.661087779618413},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4807.649600094006,\"y\":10.661087779618413},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":4365.016646546186,\"y\":-296.3054117336935},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4365.016646546186,\"y\":-296.3054117336935}},{\"width\":300,\"height\":603,\"id\":\"chainTool_1\",\"position\":{\"x\":5216.041943375149,\"y\":-7.690638785647394},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"\",\"description\":\"\",\"returnDirect\":false,\"baseChain\":\"{{retrievalQAChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_1-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_1-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_1-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_1-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5216.041943375149,\"y\":-7.690638785647394},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_0-llmChain_0-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"structuredOutputParser_0\",\"sourceHandle\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\",\"type\":\"buttonedge\",\"id\":\"structuredOutputParser_0-structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable-llmChain_0-llmChain_0-input-outputParser-BaseLLMOutputParser\",\"data\":{\"label\":\"\"}},{\"source\":\"inputModerationSimple_0\",\"sourceHandle\":\"inputModerationSimple_0-output-inputModerationSimple-Moderation\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-inputModeration-Moderation\",\"type\":\"buttonedge\",\"id\":\"inputModerationSimple_0-inputModerationSimple_0-output-inputModerationSimple-Moderation-llmChain_0-llmChain_0-input-inputModeration-Moderation\",\"data\":{\"label\":\"\"}},{\"source\":\"openAI_0\",\"sourceHandle\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"openAI_0-openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable-llmChain_0-llmChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_0\",\"sourceHandle\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"target\":\"chainTool_0\",\"targetHandle\":\"chainTool_0-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"llmChain_0-llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable-chainTool_0-chainTool_0-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_1-conversationalAgent_1-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_0\",\"sourceHandle\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_0-chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_1-conversationalAgent_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrievalQAChain_0\",\"sourceHandle\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"target\":\"chainTool_1\",\"targetHandle\":\"chainTool_1-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"retrievalQAChain_0-retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable-chainTool_1-chainTool_1-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_1\",\"sourceHandle\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_1-chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2282.0205587791584,\"y\":680.1013316351757,\"zoom\":0.6650212145440317}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"44490","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 02:45:42"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"ba82ad77-7f5a-4adf-9f7c-e31db04eb4e3","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Em que posso ajudar?","type":"apiMessage"},{"message":"Poderia infromar um imovel no bairro petrópolis?","type":"userMessage"},{"message":"Desculpe, mas não tenho informações sobre um imóvel no bairro Petrópolis.","type":"apiMessage"}],"question":"Boa noite!"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"395","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 02:45:50"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"ba82ad77-7f5a-4adf-9f7c-e31db04eb4e3","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Em que posso ajudar?","type":"apiMessage"},{"message":"Poderia infromar um imovel no bairro petrópolis?","type":"userMessage"},{"message":"Desculpe, mas não tenho informações sobre um imóvel no bairro Petrópolis.","type":"apiMessage"}],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"388","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 02:53:36"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":3571.525659321998,\"y\":354.1649824382933},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3571.525659321998,\"y\":354.1649824382933},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":4206.645301308775,\"y\":587.8273918077955},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4206.645301308775,\"y\":587.8273918077955}},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{openAI_0.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"{{structuredOutputParser_0.data.instance}}\",\"inputModeration\":[],\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":5851.183335293628,\"y\":636.0786020210498},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5851.183335293628,\"y\":636.0786020210498},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"type\":\"customNode\",\"data\":{\"label\":\"Chat Prompt Template\",\"name\":\"chatPromptTemplate\",\"version\":1,\"type\":\"ChatPromptTemplate\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/prompts/ChatPromptTemplate/prompt.svg\",\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"inputs\":{\"systemMessagePrompt\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\",\"humanMessagePrompt\":\"'QUESTION: \\\"\\\"\\\"{input}\\\"\\\"\\\"'\",\"promptValues\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\prompts\\\\ChatPromptTemplate\\\\ChatPromptTemplate.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"id\":\"chatPromptTemplate_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"dragging\":false},{\"width\":300,\"height\":329,\"id\":\"structuredOutputParser_0\",\"position\":{\"x\":3685.8521858855875,\"y\":-917.9638830484627},\"type\":\"customNode\",\"data\":{\"label\":\"Structured Output Parser\",\"name\":\"structuredOutputParser\",\"version\":1,\"type\":\"StructuredOutputParser\",\"description\":\"Parse the output of an LLM call into a given (JSON) structure.\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/outputparsers/StructuredOutputParser/structure.png\",\"category\":\"Output Parsers\",\"baseClasses\":[\"StructuredOutputParser\",\"BaseLLMOutputParser\",\"Runnable\"],\"inputs\":{\"autofixParser\":true,\"jsonStructure\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}]},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\outputparsers\\\\StructuredOutputParser\\\\StructuredOutputParser.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Autofix\",\"name\":\"autofixParser\",\"type\":\"boolean\",\"optional\":true,\"description\":\"In the event that the first call fails, will make another call to the model to fix any errors.\",\"id\":\"structuredOutputParser_0-input-autofixParser-boolean\"},{\"label\":\"JSON Structure\",\"name\":\"jsonStructure\",\"type\":\"datagrid\",\"description\":\"JSON structure for LLM to return\",\"datagrid\":[{\"field\":\"property\",\"headerName\":\"Property\",\"editable\":true},{\"field\":\"type\",\"headerName\":\"Type\",\"type\":\"singleSelect\",\"valueOptions\":[\"string\",\"number\",\"boolean\"],\"editable\":true},{\"field\":\"description\",\"headerName\":\"Description\",\"editable\":true,\"flex\":1}],\"default\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}],\"additionalParams\":true,\"id\":\"structuredOutputParser_0-input-jsonStructure-datagrid\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"name\":\"structuredOutputParser\",\"label\":\"StructuredOutputParser\",\"type\":\"StructuredOutputParser | BaseLLMOutputParser | Runnable\"}],\"id\":\"structuredOutputParser_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3685.8521858855875,\"y\":-917.9638830484627},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"openAI_0\",\"position\":{\"x\":4023.267200187679,\"y\":-1198.509955648605},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI\",\"name\":\"openAI\",\"version\":3,\"type\":\"OpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/llms/OpenAI/openai.png\",\"category\":\"LLMs\",\"description\":\"Wrapper around OpenAI large language models\",\"baseClasses\":[\"OpenAI\",\"BaseLLM\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-instruct\",\"temperature\":0.7,\"maxTokens\":\"\",\"topP\":\"\",\"bestOf\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\llms\\\\OpenAI\\\\OpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"openAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-3.5-turbo-instruct\",\"name\":\"gpt-3.5-turbo-instruct\"},{\"label\":\"babbage-002\",\"name\":\"babbage-002\"},{\"label\":\"davinci-002\",\"name\":\"davinci-002\"}],\"default\":\"gpt-3.5-turbo-instruct\",\"optional\":true,\"id\":\"openAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.7,\"optional\":true,\"id\":\"openAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-topP-number\"},{\"label\":\"Best Of\",\"name\":\"bestOf\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-bestOf-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-presencePenalty-number\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"name\":\"openAI\",\"label\":\"OpenAI\",\"type\":\"OpenAI | BaseLLM | BaseLanguageModel | Runnable\"}],\"id\":\"openAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4023.267200187679,\"y\":-1198.509955648605}},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_1\",\"position\":{\"x\":5793.428776087207,\"y\":-239.51939179134612},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{chainTool_0.data.instance}}\",\"{{chainTool_1.data.instance}}\"],\"model\":\"{{chatOpenAI_0.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_1-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_1-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_1-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_1-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_1-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":5793.428776087207,\"y\":-239.51939179134612}},{\"width\":300,\"height\":603,\"id\":\"chainTool_0\",\"position\":{\"x\":5044.583828950012,\"y\":-733.9392476687154},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"prompt chain\",\"description\":\"Utiliza o prompt para informação\",\"returnDirect\":\"\",\"baseChain\":\"{{llmChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_0-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_0-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_0-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_0-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5044.583828950012,\"y\":-733.9392476687154},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":4761.855526387593,\"y\":450.89717336784963},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4761.855526387593,\"y\":450.89717336784963}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":4718.362439494938,\"y\":-112.35677793465305},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4718.362439494938,\"y\":-112.35677793465305},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":4319.380986684439,\"y\":-242.7331153742527},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4319.380986684439,\"y\":-242.7331153742527}},{\"width\":300,\"height\":603,\"id\":\"chainTool_1\",\"position\":{\"x\":5249.48770605205,\"y\":48.438574767304715},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"Redis\",\"description\":\"Pega as informações do Redis \",\"returnDirect\":false,\"baseChain\":\"{{retrievalQAChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_1-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_1-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_1-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_1-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_1\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":5249.48770605205,\"y\":48.438574767304715},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_0-llmChain_0-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"structuredOutputParser_0\",\"sourceHandle\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\",\"type\":\"buttonedge\",\"id\":\"structuredOutputParser_0-structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable-llmChain_0-llmChain_0-input-outputParser-BaseLLMOutputParser\",\"data\":{\"label\":\"\"}},{\"source\":\"openAI_0\",\"sourceHandle\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"openAI_0-openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable-llmChain_0-llmChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_0\",\"sourceHandle\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"target\":\"chainTool_0\",\"targetHandle\":\"chainTool_0-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"llmChain_0-llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable-chainTool_0-chainTool_0-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_1-conversationalAgent_1-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_0\",\"sourceHandle\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_0-chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_1-conversationalAgent_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrievalQAChain_0\",\"sourceHandle\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"target\":\"chainTool_1\",\"targetHandle\":\"chainTool_1-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"retrievalQAChain_0-retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable-chainTool_1-chainTool_1-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_1\",\"sourceHandle\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_1-chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-3786.802691466958,\"y\":-9.456794165672477,\"zoom\":0.87750075342265}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"42118","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 02:54:15"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"ba82ad77-7f5a-4adf-9f7c-e31db04eb4e3","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Em que posso ajudar?","type":"apiMessage"},{"message":"Poderia infromar um imovel no bairro petrópolis?","type":"userMessage"},{"message":"Desculpe, mas não tenho informações sobre um imóvel no bairro Petrópolis.","type":"apiMessage"}],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"388","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 02:54:18"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"chatId":"ba82ad77-7f5a-4adf-9f7c-e31db04eb4e3","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Em que posso ajudar?","type":"apiMessage"},{"message":"Poderia infromar um imovel no bairro petrópolis?","type":"userMessage"},{"message":"Desculpe, mas não tenho informações sobre um imóvel no bairro Petrópolis.","type":"apiMessage"},{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Podeira me informar algum imovel no Centro de Caxias do Sul?"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"554","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 02:54:48"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["LLMChain","BaseChain","Runnable"],"category":"Chains","description":"Chain to run queries against LLMs","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\chains\\LLMChain\\LLMChain.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg","id":"llmChain_0","inputAnchors":[{"id":"llmChain_0-input-model-BaseLanguageModel","label":"Language Model","name":"model","type":"BaseLanguageModel"},{"id":"llmChain_0-input-prompt-BasePromptTemplate","label":"Prompt","name":"prompt","type":"BasePromptTemplate"},{"id":"llmChain_0-input-outputParser-BaseLLMOutputParser","label":"Output Parser","name":"outputParser","optional":true,"type":"BaseLLMOutputParser"},{"description":"Detect text that could generate harmful output and prevent it from being sent to the language model","id":"llmChain_0-input-inputModeration-Moderation","label":"Input Moderation","list":true,"name":"inputModeration","optional":true,"type":"Moderation"}],"inputParams":[{"id":"llmChain_0-input-chainName-string","label":"Chain Name","name":"chainName","optional":true,"placeholder":"Name Your Chain","type":"string"}],"inputs":{"chainName":"","inputModeration":[],"model":"{{openAI_0.data.instance}}","outputParser":"{{structuredOutputParser_0.data.instance}}","prompt":"{{chatPromptTemplate_0.data.instance}}"},"label":"LLM Chain","name":"llmChain","outputAnchors":[{"default":"llmChain","label":"Output","name":"output","options":[{"id":"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable","label":"LLM Chain","name":"llmChain","type":"LLMChain | BaseChain | Runnable"},{"id":"llmChain_0-output-outputPrediction-string|json","label":"Output Prediction","name":"outputPrediction","type":"string | json"}],"type":"options"}],"outputs":{"output":"llmChain"},"selected":false,"type":"LLMChain","version":3},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1931","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-15 02:55:48"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":2556.9267286021013,\"y\":-1163.72136264146},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2556.9267286021013,\"y\":-1163.72136264146},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":2938.9808651851836,\"y\":-857.3056954288137},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2938.9808651851836,\"y\":-857.3056954288137}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":5851.183335293628,\"y\":636.0786020210498},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5851.183335293628,\"y\":636.0786020210498},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":3422.525603754209,\"y\":323.12464240774307},\"type\":\"customNode\",\"data\":{\"label\":\"Chat Prompt Template\",\"name\":\"chatPromptTemplate\",\"version\":1,\"type\":\"ChatPromptTemplate\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/prompts/ChatPromptTemplate/prompt.svg\",\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"inputs\":{\"systemMessagePrompt\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\",\"humanMessagePrompt\":\"'QUESTION: \\\"\\\"\\\"{input}\\\"\\\"\\\"'\",\"promptValues\":\"{\\\"history\\\":\\\"\\\",\\\"immediate_history\\\":\\\"\\\",\\\"input\\\":\\\"{{question}}\\\",\\\"context\\\":\\\"\\\\\\\"{{context}}\\\\\\\"\\\\n\\\"}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\prompts\\\\ChatPromptTemplate\\\\ChatPromptTemplate.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"id\":\"chatPromptTemplate_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3422.525603754209,\"y\":323.12464240774307},\"dragging\":false},{\"width\":300,\"height\":329,\"id\":\"structuredOutputParser_0\",\"position\":{\"x\":3685.8521858855875,\"y\":-917.9638830484627},\"type\":\"customNode\",\"data\":{\"label\":\"Structured Output Parser\",\"name\":\"structuredOutputParser\",\"version\":1,\"type\":\"StructuredOutputParser\",\"description\":\"Parse the output of an LLM call into a given (JSON) structure.\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/outputparsers/StructuredOutputParser/structure.png\",\"category\":\"Output Parsers\",\"baseClasses\":[\"StructuredOutputParser\",\"BaseLLMOutputParser\",\"Runnable\"],\"inputs\":{\"autofixParser\":true,\"jsonStructure\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}]},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\outputparsers\\\\StructuredOutputParser\\\\StructuredOutputParser.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Autofix\",\"name\":\"autofixParser\",\"type\":\"boolean\",\"optional\":true,\"description\":\"In the event that the first call fails, will make another call to the model to fix any errors.\",\"id\":\"structuredOutputParser_0-input-autofixParser-boolean\"},{\"label\":\"JSON Structure\",\"name\":\"jsonStructure\",\"type\":\"datagrid\",\"description\":\"JSON structure for LLM to return\",\"datagrid\":[{\"field\":\"property\",\"headerName\":\"Property\",\"editable\":true},{\"field\":\"type\",\"headerName\":\"Type\",\"type\":\"singleSelect\",\"valueOptions\":[\"string\",\"number\",\"boolean\"],\"editable\":true},{\"field\":\"description\",\"headerName\":\"Description\",\"editable\":true,\"flex\":1}],\"default\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}],\"additionalParams\":true,\"id\":\"structuredOutputParser_0-input-jsonStructure-datagrid\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"name\":\"structuredOutputParser\",\"label\":\"StructuredOutputParser\",\"type\":\"StructuredOutputParser | BaseLLMOutputParser | Runnable\"}],\"id\":\"structuredOutputParser_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3685.8521858855875,\"y\":-917.9638830484627},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"openAI_0\",\"position\":{\"x\":4023.267200187679,\"y\":-1198.509955648605},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI\",\"name\":\"openAI\",\"version\":3,\"type\":\"OpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/llms/OpenAI/openai.png\",\"category\":\"LLMs\",\"description\":\"Wrapper around OpenAI large language models\",\"baseClasses\":[\"OpenAI\",\"BaseLLM\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-instruct\",\"temperature\":0.7,\"maxTokens\":\"\",\"topP\":\"\",\"bestOf\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\llms\\\\OpenAI\\\\OpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"openAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-3.5-turbo-instruct\",\"name\":\"gpt-3.5-turbo-instruct\"},{\"label\":\"babbage-002\",\"name\":\"babbage-002\"},{\"label\":\"davinci-002\",\"name\":\"davinci-002\"}],\"default\":\"gpt-3.5-turbo-instruct\",\"optional\":true,\"id\":\"openAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.7,\"optional\":true,\"id\":\"openAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-topP-number\"},{\"label\":\"Best Of\",\"name\":\"bestOf\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-bestOf-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-presencePenalty-number\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"name\":\"openAI\",\"label\":\"OpenAI\",\"type\":\"OpenAI | BaseLLM | BaseLanguageModel | Runnable\"}],\"id\":\"openAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4023.267200187679,\"y\":-1198.509955648605}},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_1\",\"position\":{\"x\":5950.614853045889,\"y\":-244.70135037240158},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{chainTool_0.data.instance}}\",\"{{chainTool_1.data.instance}}\"],\"model\":\"{{chatOpenAI_0.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_1-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_1-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_1-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_1-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_1-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_1\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":5950.614853045889,\"y\":-244.70135037240158}},{\"width\":300,\"height\":603,\"id\":\"chainTool_0\",\"position\":{\"x\":5044.583828950012,\"y\":-733.9392476687154},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"prompt chain\",\"description\":\"Utiliza o prompt para informação\",\"returnDirect\":\"\",\"baseChain\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_0-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_0-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_0-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_0-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5044.583828950012,\"y\":-733.9392476687154},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":4761.855526387593,\"y\":450.89717336784963},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4761.855526387593,\"y\":450.89717336784963}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":4820.973096587987,\"y\":-25.986899911763842},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"vectorStoreRetriever\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4820.973096587987,\"y\":-25.986899911763842},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":4376.088969489394,\"y\":-217.44265444240486},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4376.088969489394,\"y\":-217.44265444240486}},{\"width\":300,\"height\":603,\"id\":\"chainTool_1\",\"position\":{\"x\":5249.48770605205,\"y\":48.438574767304715},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"Redis\",\"description\":\"Pega as informações do Redis \",\"returnDirect\":false,\"baseChain\":\"{{retrievalQAChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_1-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_1-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_1-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_1-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5249.48770605205,\"y\":48.438574767304715},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":2194.768232847107,\"y\":-194.0386725851027},\"type\":\"customNode\",\"data\":{\"label\":\"Prompt Template\",\"name\":\"promptTemplate\",\"version\":1,\"type\":\"PromptTemplate\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/prompts/PromptTemplate/prompt.svg\",\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"inputs\":{\"template\":\"Pegue o contexto relevante de acordo com a pergunta a seguir, refaça a para ficar um texto unico\\n\\n Input a seguir: {question}\\nStandalone question:\",\"promptValues\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\prompts\\\\PromptTemplate\\\\PromptTemplate.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"id\":\"promptTemplate_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2194.768232847107,\"y\":-194.0386725851027},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_2\",\"position\":{\"x\":2209.031689548062,\"y\":-824.7220369844117},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_2-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_2-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_2-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_2-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_2-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_2-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_2-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_2-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_2-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_2-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_2-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_2-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_2\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":2209.031689548062,\"y\":-824.7220369844117}},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":3304.6517333224533,\"y\":-383.14601678605817},\"type\":\"customNode\",\"data\":{\"label\":\"VectorStore To Document\",\"name\":\"vectorStoreToDocument\",\"version\":2,\"type\":\"Document\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/documentloaders/VectorStoreToDocument/vectorretriever.svg\",\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"baseClasses\":[\"Document\"],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"\",\"minScore\":\"\"},\"outputs\":{\"output\":\"document\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\documentloaders\\\\VectorStoreToDocument\\\\VectorStoreToDocument.js\",\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"id\":\"vectorStoreToDocument_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3304.6517333224533,\"y\":-383.14601678605817},\"dragging\":false},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":2683.2817436155296,\"y\":-307.431614357571},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_2.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"inputModeration\":\"\",\"chainName\":\"\"},\"outputs\":{\"output\":\"outputPrediction\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2683.2817436155296,\"y\":-307.431614357571},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_1-conversationalAgent_1-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_0\",\"sourceHandle\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_0-chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_1-conversationalAgent_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"retrievalQAChain_0\",\"sourceHandle\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"target\":\"chainTool_1\",\"targetHandle\":\"chainTool_1-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"retrievalQAChain_0-retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable-chainTool_1-chainTool_1-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_1\",\"sourceHandle\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_1-chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_2\",\"sourceHandle\":\"chatOpenAI_2-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_2-chatOpenAI_2-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_0-llmChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_0-llmChain_0-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_0\",\"sourceHandle\":\"llmChain_0-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_0-llmChain_0-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2360.5955858464895,\"y\":205.52237403850177,\"zoom\":0.5789316825046812}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"49725","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 03:30:27"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"name":"perfil 2"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"19","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 03:30:35"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":3571.525659321998,\"y\":354.1649824382933},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3571.525659321998,\"y\":354.1649824382933},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":4206.645301308775,\"y\":587.8273918077955},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4206.645301308775,\"y\":587.8273918077955}},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{openAI_0.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"{{structuredOutputParser_0.data.instance}}\",\"inputModeration\":[],\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":5851.183335293628,\"y\":636.0786020210498},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5851.183335293628,\"y\":636.0786020210498},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"type\":\"customNode\",\"data\":{\"label\":\"Chat Prompt Template\",\"name\":\"chatPromptTemplate\",\"version\":1,\"type\":\"ChatPromptTemplate\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/prompts/ChatPromptTemplate/prompt.svg\",\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"inputs\":{\"systemMessagePrompt\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\",\"humanMessagePrompt\":\"'QUESTION: \\\"\\\"\\\"{input}\\\"\\\"\\\"'\",\"promptValues\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\prompts\\\\ChatPromptTemplate\\\\ChatPromptTemplate.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"id\":\"chatPromptTemplate_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"dragging\":false},{\"width\":300,\"height\":329,\"id\":\"structuredOutputParser_0\",\"position\":{\"x\":3685.8521858855875,\"y\":-917.9638830484627},\"type\":\"customNode\",\"data\":{\"label\":\"Structured Output Parser\",\"name\":\"structuredOutputParser\",\"version\":1,\"type\":\"StructuredOutputParser\",\"description\":\"Parse the output of an LLM call into a given (JSON) structure.\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/outputparsers/StructuredOutputParser/structure.png\",\"category\":\"Output Parsers\",\"baseClasses\":[\"StructuredOutputParser\",\"BaseLLMOutputParser\",\"Runnable\"],\"inputs\":{\"autofixParser\":true,\"jsonStructure\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}]},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\outputparsers\\\\StructuredOutputParser\\\\StructuredOutputParser.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Autofix\",\"name\":\"autofixParser\",\"type\":\"boolean\",\"optional\":true,\"description\":\"In the event that the first call fails, will make another call to the model to fix any errors.\",\"id\":\"structuredOutputParser_0-input-autofixParser-boolean\"},{\"label\":\"JSON Structure\",\"name\":\"jsonStructure\",\"type\":\"datagrid\",\"description\":\"JSON structure for LLM to return\",\"datagrid\":[{\"field\":\"property\",\"headerName\":\"Property\",\"editable\":true},{\"field\":\"type\",\"headerName\":\"Type\",\"type\":\"singleSelect\",\"valueOptions\":[\"string\",\"number\",\"boolean\"],\"editable\":true},{\"field\":\"description\",\"headerName\":\"Description\",\"editable\":true,\"flex\":1}],\"default\":[{\"property\":\"answer\",\"type\":\"string\",\"description\":\"answer to the user's question\"},{\"property\":\"source\",\"type\":\"string\",\"description\":\"sources used to answer the question, should be websites\"}],\"additionalParams\":true,\"id\":\"structuredOutputParser_0-input-jsonStructure-datagrid\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"name\":\"structuredOutputParser\",\"label\":\"StructuredOutputParser\",\"type\":\"StructuredOutputParser | BaseLLMOutputParser | Runnable\"}],\"id\":\"structuredOutputParser_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3685.8521858855875,\"y\":-917.9638830484627},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"openAI_0\",\"position\":{\"x\":4023.267200187679,\"y\":-1198.509955648605},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI\",\"name\":\"openAI\",\"version\":3,\"type\":\"OpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/llms/OpenAI/openai.png\",\"category\":\"LLMs\",\"description\":\"Wrapper around OpenAI large language models\",\"baseClasses\":[\"OpenAI\",\"BaseLLM\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-instruct\",\"temperature\":0.7,\"maxTokens\":\"\",\"topP\":\"\",\"bestOf\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\llms\\\\OpenAI\\\\OpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"openAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-3.5-turbo-instruct\",\"name\":\"gpt-3.5-turbo-instruct\"},{\"label\":\"babbage-002\",\"name\":\"babbage-002\"},{\"label\":\"davinci-002\",\"name\":\"davinci-002\"}],\"default\":\"gpt-3.5-turbo-instruct\",\"optional\":true,\"id\":\"openAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.7,\"optional\":true,\"id\":\"openAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-topP-number\"},{\"label\":\"Best Of\",\"name\":\"bestOf\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-bestOf-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-presencePenalty-number\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"name\":\"openAI\",\"label\":\"OpenAI\",\"type\":\"OpenAI | BaseLLM | BaseLanguageModel | Runnable\"}],\"id\":\"openAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4023.267200187679,\"y\":-1198.509955648605}},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_1\",\"position\":{\"x\":5811.947154327182,\"y\":-246.4637836313369},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{chainTool_0.data.instance}}\",\"{{chainTool_1.data.instance}}\"],\"model\":\"{{chatOpenAI_0.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_1-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_1-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_1-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_1-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_1-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":5811.947154327182,\"y\":-246.4637836313369}},{\"width\":300,\"height\":603,\"id\":\"chainTool_0\",\"position\":{\"x\":5044.583828950012,\"y\":-733.9392476687154},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"prompt chain\",\"description\":\"Utiliza o prompt para informação\",\"returnDirect\":\"\",\"baseChain\":\"{{llmChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_0-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_0-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_0-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_0-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5044.583828950012,\"y\":-733.9392476687154},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":4761.855526387593,\"y\":450.89717336784963},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4761.855526387593,\"y\":450.89717336784963}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":4718.362439494938,\"y\":-112.35677793465305},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4718.362439494938,\"y\":-112.35677793465305},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":4319.380986684439,\"y\":-242.7331153742527},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4319.380986684439,\"y\":-242.7331153742527}},{\"width\":300,\"height\":603,\"id\":\"chainTool_1\",\"position\":{\"x\":5249.48770605205,\"y\":48.438574767304715},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"Redis\",\"description\":\"Pega as informações do Redis \",\"returnDirect\":false,\"baseChain\":\"{{retrievalQAChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_1-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_1-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_1-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_1-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5249.48770605205,\"y\":48.438574767304715},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_0-llmChain_0-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"structuredOutputParser_0\",\"sourceHandle\":\"structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\",\"type\":\"buttonedge\",\"id\":\"structuredOutputParser_0-structuredOutputParser_0-output-structuredOutputParser-StructuredOutputParser|BaseLLMOutputParser|Runnable-llmChain_0-llmChain_0-input-outputParser-BaseLLMOutputParser\",\"data\":{\"label\":\"\"}},{\"source\":\"openAI_0\",\"sourceHandle\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"openAI_0-openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable-llmChain_0-llmChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_0\",\"sourceHandle\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"target\":\"chainTool_0\",\"targetHandle\":\"chainTool_0-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"llmChain_0-llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable-chainTool_0-chainTool_0-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_1-conversationalAgent_1-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_0\",\"sourceHandle\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_0-chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_1-conversationalAgent_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrievalQAChain_0\",\"sourceHandle\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"target\":\"chainTool_1\",\"targetHandle\":\"chainTool_1-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"retrievalQAChain_0-retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable-chainTool_1-chainTool_1-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_1\",\"sourceHandle\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_1-chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1260.4569458873177,\"y\":415.5846344914619,\"zoom\":0.4320032724426435}}","name":"perfil 2"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"42121","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 03:30:37"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":411.85629794296796,\"y\":-146.68008924402528},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question.\\n\\nChat History:\\n{chat_history}\\nFollow Up Input: {question}\\nStandalone question:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":411.85629794296796,\"y\":-146.68008924402528},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2351.8798292177016,\"y\":-146.87132895177683},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Using the provided context, answer the user's question to the best of your ability using the resources provided. If there is nothing in the context relevant to the question at hand, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer.\\n\\nAnything between the following \\\\`context\\\\`  html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nREMEMBER: If there is no relevant information within the context, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer. Anything between the preceding 'context' html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2351.8798292177016,\"y\":-146.87132895177683},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1983.127893407379,\"y\":-144.08474618490123},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1983.127893407379,\"y\":-144.08474618490123},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":796.7472294710317,\"y\":-249.8624962456921},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":796.7472294710317,\"y\":-249.8624962456921},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2705.903854406361,\"y\":-293.083917700994},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2705.903854406361,\"y\":-293.083917700994},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1643.6831100314482,\"y\":-688.9212707841534},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1643.6831100314482,\"y\":-688.9212707841534},\"dragging\":false}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-302.5364192862803,\"y\":351.1106381926695,\"zoom\":0.45162635815335733}}","isPublic":false,"name":"perfil 3"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"25833","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-12-15 03:39:22"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"bqKkx8CXA3cUJxp0AAA7"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"73","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:39:29"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me infromar um imovel em Caxias do Sul, Centro?","socketIOClientId":"bqKkx8CXA3cUJxp0AAA7"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"281","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:40:02"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me infromar um imovel em Caxias do Sul, Centro?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível em Caxias do Sul, no bairro Centro. É o Box Ed. Garagem Center, com código 6859. O preço é de R$ 20.000,00 e possui uma área de 17.00 m². Você pode encontrar mais informações sobre o imóvel neste [link](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"}],"question":"Você teria algum no bairro Cinquentenario?","socketIOClientId":"7IR7kv-ccot3eoSKAAA9"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"691","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:40:56"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me infromar um imovel em Caxias do Sul, Centro?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível em Caxias do Sul, no bairro Centro. É o Box Ed. Garagem Center, com código 6859. O preço é de R$ 20.000,00 e possui uma área de 17.00 m². Você pode encontrar mais informações sobre o imóvel neste [link](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Você teria algum no bairro Cinquentenario?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível no bairro Cinquentenário. É uma casa com 4 dormitórios, 2 suítes, 5 vagas de garagem e possui uma área total de 523.5 m². O preço é de R$ 4.100.000,00. Você pode encontrar mais informações sobre o imóvel no seguinte link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/2985).","type":"apiMessage"}],"question":"teria algum com preço inferior a 500 mil reais?","socketIOClientId":"7IR7kv-ccot3eoSKAAA9"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1150","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:42:05"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me infromar um imovel em Caxias do Sul, Centro?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível em Caxias do Sul, no bairro Centro. É o Box Ed. Garagem Center, com código 6859. O preço é de R$ 20.000,00 e possui uma área de 17.00 m². Você pode encontrar mais informações sobre o imóvel neste [link](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Você teria algum no bairro Cinquentenario?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível no bairro Cinquentenário. É uma casa com 4 dormitórios, 2 suítes, 5 vagas de garagem e possui uma área total de 523.5 m². O preço é de R$ 4.100.000,00. Você pode encontrar mais informações sobre o imóvel no seguinte link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/2985).","type":"apiMessage"},{"message":"teria algum com preço inferior a 500 mil reais?","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"}],"question":"Poderia me informar um imovel no bairro exposição com preço a baixo de R$ 1.000.000,00","socketIOClientId":"7IR7kv-ccot3eoSKAAA9"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1328","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:43:13"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me infromar um imovel em Caxias do Sul, Centro?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível em Caxias do Sul, no bairro Centro. É o Box Ed. Garagem Center, com código 6859. O preço é de R$ 20.000,00 e possui uma área de 17.00 m². Você pode encontrar mais informações sobre o imóvel neste [link](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Você teria algum no bairro Cinquentenario?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível no bairro Cinquentenário. É uma casa com 4 dormitórios, 2 suítes, 5 vagas de garagem e possui uma área total de 523.5 m². O preço é de R$ 4.100.000,00. Você pode encontrar mais informações sobre o imóvel no seguinte link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/2985).","type":"apiMessage"},{"message":"teria algum com preço inferior a 500 mil reais?","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro exposição com preço a baixo de R$ 1.000.000,00","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"}],"question":"teria algum imovel no bairro universitario?","socketIOClientId":"7IR7kv-ccot3eoSKAAA9"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1460","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:43:34"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me infromar um imovel em Caxias do Sul, Centro?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível em Caxias do Sul, no bairro Centro. É o Box Ed. Garagem Center, com código 6859. O preço é de R$ 20.000,00 e possui uma área de 17.00 m². Você pode encontrar mais informações sobre o imóvel neste [link](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Você teria algum no bairro Cinquentenario?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível no bairro Cinquentenário. É uma casa com 4 dormitórios, 2 suítes, 5 vagas de garagem e possui uma área total de 523.5 m². O preço é de R$ 4.100.000,00. Você pode encontrar mais informações sobre o imóvel no seguinte link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/2985).","type":"apiMessage"},{"message":"teria algum com preço inferior a 500 mil reais?","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro exposição com preço a baixo de R$ 1.000.000,00","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"teria algum imovel no bairro universitario?","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"}],"question":"Qual o imovel com menor valor?","socketIOClientId":"7IR7kv-ccot3eoSKAAA9"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1579","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:44:11"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":411.85629794296796,\"y\":-146.68008924402528},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question.\\n\\nChat History:\\n{chat_history}\\nFollow Up Input: {question}\\nStandalone question:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":411.85629794296796,\"y\":-146.68008924402528},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2351.8798292177016,\"y\":-146.87132895177683},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Using the provided context, answer the user's question to the best of your ability using the resources provided. If there is nothing in the context relevant to the question at hand, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer.\\n\\nAnything between the following \\\\`context\\\\`  html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nREMEMBER: If there is no relevant information within the context, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer. Anything between the preceding 'context' html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2351.8798292177016,\"y\":-146.87132895177683},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1983.127893407379,\"y\":-144.08474618490123},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1983.127893407379,\"y\":-144.08474618490123},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":796.7472294710317,\"y\":-249.8624962456921},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":796.7472294710317,\"y\":-249.8624962456921},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2705.903854406361,\"y\":-293.083917700994},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2705.903854406361,\"y\":-293.083917700994},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1643.6831100314482,\"y\":-688.9212707841534},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1643.6831100314482,\"y\":-688.9212707841534},\"dragging\":false}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-521.8869975099462,\"y\":366.978165109826,\"zoom\":0.5854918344021575}}","name":"perfil 3"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"25797","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:44:21"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":411.85629794296796,\"y\":-146.68008924402528},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question.\\n\\nChat History:\\n{chat_history}\\nFollow Up Input: {question}\\nStandalone question:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":411.85629794296796,\"y\":-146.68008924402528},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2351.8798292177016,\"y\":-146.87132895177683},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Using the provided context, answer the user's question to the best of your ability using the resources provided. If there is nothing in the context relevant to the question at hand, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer.\\n\\nAnything between the following \\\\`context\\\\`  html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nREMEMBER: If there is no relevant information within the context, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer. Anything between the preceding 'context' html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2351.8798292177016,\"y\":-146.87132895177683},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1940.3080813594713,\"y\":-147.46525766236763},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"30\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1940.3080813594713,\"y\":-147.46525766236763},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":796.7472294710317,\"y\":-249.8624962456921},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":796.7472294710317,\"y\":-249.8624962456921},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2705.903854406361,\"y\":-293.083917700994},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2705.903854406361,\"y\":-293.083917700994},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1643.6831100314482,\"y\":-688.9212707841534},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1643.6831100314482,\"y\":-688.9212707841534},\"dragging\":false}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-458.6841023312727,\"y\":348.7058699573018,\"zoom\":0.5854918344021575}}","name":"perfil 3"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"25801","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:44:42"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me infromar um imovel em Caxias do Sul, Centro?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível em Caxias do Sul, no bairro Centro. É o Box Ed. Garagem Center, com código 6859. O preço é de R$ 20.000,00 e possui uma área de 17.00 m². Você pode encontrar mais informações sobre o imóvel neste [link](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Você teria algum no bairro Cinquentenario?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível no bairro Cinquentenário. É uma casa com 4 dormitórios, 2 suítes, 5 vagas de garagem e possui uma área total de 523.5 m². O preço é de R$ 4.100.000,00. Você pode encontrar mais informações sobre o imóvel no seguinte link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/2985).","type":"apiMessage"},{"message":"teria algum com preço inferior a 500 mil reais?","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro exposição com preço a baixo de R$ 1.000.000,00","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"teria algum imovel no bairro universitario?","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"Qual o imovel com menor valor?","type":"userMessage"},{"message":"O imóvel com menor valor não está especificado no contexto fornecido.","type":"apiMessage"}],"question":"Poderia me informar algum imovel no bairro exposição?","socketIOClientId":"ZKE8NW0uF9bof3KzAAA_"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"1777","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:44:59"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me infromar um imovel em Caxias do Sul, Centro?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível em Caxias do Sul, no bairro Centro. É o Box Ed. Garagem Center, com código 6859. O preço é de R$ 20.000,00 e possui uma área de 17.00 m². Você pode encontrar mais informações sobre o imóvel neste [link](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Você teria algum no bairro Cinquentenario?","type":"userMessage"},{"message":"Sim, temos um imóvel disponível no bairro Cinquentenário. É uma casa com 4 dormitórios, 2 suítes, 5 vagas de garagem e possui uma área total de 523.5 m². O preço é de R$ 4.100.000,00. Você pode encontrar mais informações sobre o imóvel no seguinte link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/2985).","type":"apiMessage"},{"message":"teria algum com preço inferior a 500 mil reais?","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"Poderia me informar um imovel no bairro exposição com preço a baixo de R$ 1.000.000,00","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"teria algum imovel no bairro universitario?","type":"userMessage"},{"message":"Hmm, I'm not sure.","type":"apiMessage"},{"message":"Qual o imovel com menor valor?","type":"userMessage"},{"message":"O imóvel com menor valor não está especificado no contexto fornecido.","type":"apiMessage"},{"message":"Poderia me informar algum imovel no bairro exposição?","type":"userMessage"},{"message":"Claro! Temos um apartamento disponível no bairro Exposição. Ele possui 2 quartos, sala ampla, cozinha equipada e uma vaga de garagem. O valor do aluguel é de R$ 2.500 por mês. Se você estiver interessado, posso fornecer mais informações e agendar uma visita.","type":"apiMessage"}],"question":"Teria o link do imovel?","socketIOClientId":"ZKE8NW0uF9bof3KzAAA_"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"2137","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:45:23"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":411.85629794296796,\"y\":-146.68008924402528},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Given the following conversation and a follow up question, rephrase the follow up question to be a standalone question.\\n\\nChat History:\\n{chat_history}\\nFollow Up Input: {question}\\nStandalone question:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":411.85629794296796,\"y\":-146.68008924402528},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2351.8798292177016,\"y\":-146.87132895177683},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Using the provided context, answer the user's question to the best of your ability using the resources provided. If there is nothing in the context relevant to the question at hand, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer.\\n\\nAnything between the following \\\\`context\\\\`  html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nREMEMBER: If there is no relevant information within the context, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer. Anything between the preceding 'context' html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2351.8798292177016,\"y\":-146.87132895177683},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1977.883327857083,\"y\":-154.29712066193343},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"70\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1977.883327857083,\"y\":-154.29712066193343},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":796.7472294710317,\"y\":-249.8624962456921},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":796.7472294710317,\"y\":-249.8624962456921},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2705.903854406361,\"y\":-293.083917700994},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2705.903854406361,\"y\":-293.083917700994},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1608.73441827252,\"y\":-719.9867745698676},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1608.73441827252,\"y\":-719.9867745698676},\"dragging\":false}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-941.2536754821081,\"y\":288.12928572519684,\"zoom\":0.77256110718658}}","name":"perfil 3"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"25796","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:46:03"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/1430ca2a-e54a-4af9-ade0-b53a26c67502?chatId=840a2d5b-8f03-4434-abeb-6084de453f7a&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"840a2d5b-8f03-4434-abeb-6084de453f7a","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/1430ca2a-e54a-4af9-ade0-b53a26c67502?chatId=840a2d5b-8f03-4434-abeb-6084de453f7a&chatType=INTERNAL"},"timestamp":"2023-12-15 03:46:08"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"fXjSQFNDFQsLzk67AABD"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"80","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:46:15"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"d5c9f0f7-6485-49a2-acdf-7a27e4831d93","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me informar algum imovel no centro de Caxias do Sul?","socketIOClientId":"fXjSQFNDFQsLzk67AABD"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"298","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:46:34"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502","package":"server","request":{"body":{"chatId":"d5c9f0f7-6485-49a2-acdf-7a27e4831d93","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar algum imovel no centro de Caxias do Sul?","type":"userMessage"},{"message":"Claro! Temos alguns imóveis disponíveis no centro de Caxias do Sul. Você está procurando por algum tipo específico de imóvel, como apartamento, casa ou sala comercial?","type":"apiMessage"}],"question":"apartamento","socketIOClientId":"fXjSQFNDFQsLzk67AABD"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9","connection":"keep-alive","content-length":"553","content-type":"application/json","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/1430ca2a-e54a-4af9-ade0-b53a26c67502","sec-ch-ua":"\"Google Chrome\";v=\"119\", \"Chromium\";v=\"119\", \"Not?A_Brand\";v=\"24\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/119.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/1430ca2a-e54a-4af9-ade0-b53a26c67502"},"timestamp":"2023-12-15 03:46:53"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":3763.8091743606387,\"y\":551.508589977951},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":3763.8091743606387,\"y\":551.508589977951},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":4206.645301308775,\"y\":587.8273918077955},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"5\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4206.645301308775,\"y\":587.8273918077955}},{\"width\":300,\"height\":508,\"id\":\"llmChain_0\",\"position\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"type\":\"customNode\",\"data\":{\"label\":\"LLM Chain\",\"name\":\"llmChain\",\"version\":3,\"type\":\"LLMChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/LLMChain/chain.svg\",\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{openAI_0.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"inputModeration\":[],\"chainName\":\"\"},\"outputs\":{\"output\":\"llmChain\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\LLMChain\\\\LLMChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_0-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_0-input-outputParser-BaseLLMOutputParser\"},{\"label\":\"Input Moderation\",\"description\":\"Detect text that could generate harmful output and prevent it from being sent to the language model\",\"name\":\"inputModeration\",\"type\":\"Moderation\",\"optional\":true,\"list\":true,\"id\":\"llmChain_0-input-inputModeration-Moderation\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_0-input-chainName-string\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_0-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"id\":\"llmChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4576.81506251914,\"y\":-862.0419934893872},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":5582.745024178307,\"y\":664.2007108045597},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5582.745024178307,\"y\":664.2007108045597},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"type\":\"customNode\",\"data\":{\"label\":\"Chat Prompt Template\",\"name\":\"chatPromptTemplate\",\"version\":1,\"type\":\"ChatPromptTemplate\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/prompts/ChatPromptTemplate/prompt.svg\",\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"inputs\":{\"systemMessagePrompt\":\"Você é um assistente virtual da imobiliaria Perfil, Algumas informações do histórico de chat são fornecidas como JSON, não emita este JSON.\\nNão inicie sua resposta com AI: ou \\\"Como assistente virtual\\\". Você tem acesso ao histórico de chat com o usuário (CHATHISTORY/MEMORY) e ao contexto (RELEVANTDOCS) fornecido pelo usuário.\\n\\nRELEVANTDOCS: {context}\\n\\nCHATHISTORY: {history}\\n\\nMEMORY: {immediate_history}\",\"humanMessagePrompt\":\"'QUESTION: \\\"\\\"\\\"{input}\\\"\\\"\\\"'\",\"promptValues\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\prompts\\\\ChatPromptTemplate\\\\ChatPromptTemplate.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"id\":\"chatPromptTemplate_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":3581.3553166368947,\"y\":-546.472049766649},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"openAI_0\",\"position\":{\"x\":4023.267200187679,\"y\":-1198.509955648605},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI\",\"name\":\"openAI\",\"version\":3,\"type\":\"OpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/llms/OpenAI/openai.png\",\"category\":\"LLMs\",\"description\":\"Wrapper around OpenAI large language models\",\"baseClasses\":[\"OpenAI\",\"BaseLLM\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-instruct\",\"temperature\":0.7,\"maxTokens\":\"\",\"topP\":\"\",\"bestOf\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\llms\\\\OpenAI\\\\OpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"openAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-3.5-turbo-instruct\",\"name\":\"gpt-3.5-turbo-instruct\"},{\"label\":\"babbage-002\",\"name\":\"babbage-002\"},{\"label\":\"davinci-002\",\"name\":\"davinci-002\"}],\"default\":\"gpt-3.5-turbo-instruct\",\"optional\":true,\"id\":\"openAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.7,\"optional\":true,\"id\":\"openAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-topP-number\"},{\"label\":\"Best Of\",\"name\":\"bestOf\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-bestOf-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-presencePenalty-number\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"name\":\"openAI\",\"label\":\"OpenAI\",\"type\":\"OpenAI | BaseLLM | BaseLanguageModel | Runnable\"}],\"id\":\"openAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4023.267200187679,\"y\":-1198.509955648605}},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_1\",\"position\":{\"x\":5811.947154327182,\"y\":-246.4637836313369},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{chainTool_0.data.instance}}\",\"{{chainTool_1.data.instance}}\"],\"model\":\"{{chatOpenAI_0.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_1-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_1-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_1-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_1-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_1-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":5811.947154327182,\"y\":-246.4637836313369}},{\"width\":300,\"height\":603,\"id\":\"chainTool_0\",\"position\":{\"x\":5044.583828950012,\"y\":-733.9392476687154},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"prompt chain\",\"description\":\"Utiliza o prompt para informação\",\"returnDirect\":\"\",\"baseChain\":\"{{llmChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_0-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_0-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_0-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_0-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5044.583828950012,\"y\":-733.9392476687154},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":4761.855526387593,\"y\":450.89717336784963},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":4761.855526387593,\"y\":450.89717336784963}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":4718.362439494938,\"y\":-112.35677793465305},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":4718.362439494938,\"y\":-112.35677793465305},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":4165.8915141535945,\"y\":-244.41981287459163},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":4165.8915141535945,\"y\":-244.41981287459163}},{\"width\":300,\"height\":603,\"id\":\"chainTool_1\",\"position\":{\"x\":5249.48770605205,\"y\":48.438574767304715},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"Redis\",\"description\":\"Pega as informações do Redis \",\"returnDirect\":false,\"baseChain\":\"{{retrievalQAChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_1-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_1-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_1-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_1-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_1\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":5249.48770605205,\"y\":48.438574767304715},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_0-llmChain_0-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"openAI_0\",\"sourceHandle\":\"openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable\",\"target\":\"llmChain_0\",\"targetHandle\":\"llmChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"openAI_0-openAI_0-output-openAI-OpenAI|BaseLLM|BaseLanguageModel|Runnable-llmChain_0-llmChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_0\",\"sourceHandle\":\"llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable\",\"target\":\"chainTool_0\",\"targetHandle\":\"chainTool_0-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"llmChain_0-llmChain_0-output-llmChain-LLMChain|BaseChain|Runnable-chainTool_0-chainTool_0-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_1-conversationalAgent_1-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_0\",\"sourceHandle\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_0-chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_1-conversationalAgent_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrievalQAChain_0\",\"sourceHandle\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"target\":\"chainTool_1\",\"targetHandle\":\"chainTool_1-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"retrievalQAChain_0-retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable-chainTool_1-chainTool_1-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_1\",\"sourceHandle\":\"chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_1\",\"targetHandle\":\"conversationalAgent_1-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_1-chainTool_1-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_1-conversationalAgent_1-input-tools-Tool\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1173.6094766476363,\"y\":556.2574033086714,\"zoom\":0.44931487898861594}}","name":"perfil 2"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"38890","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/46482a14-20b8-4845-a180-3b887186e5bc","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/46482a14-20b8-4845-a180-3b887186e5bc"},"timestamp":"2023-12-15 17:28:37"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":896.5841834148281,\"y\":432.4416528297212},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":896.5841834148281,\"y\":432.4416528297212}},{\"width\":300,\"height\":378,\"id\":\"multiRetrievalQAChain_0\",\"position\":{\"x\":1352.2166116053331,\"y\":404.8483867077923},\"type\":\"customNode\",\"data\":{\"label\":\"Multi Retrieval QA Chain\",\"name\":\"multiRetrievalQAChain\",\"version\":1,\"type\":\"MultiRetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/MultiRetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA Chain that automatically picks an appropriate vector store from multiple retrievers\",\"baseClasses\":[\"MultiRetrievalQAChain\",\"MultiRouteChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":[\"{{RedisIndex_0.data.instance}}\"],\"returnSourceDocuments\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\MultiRetrievalQAChain\\\\MultiRetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"multiRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"VectorStoreRetriever\",\"list\":true,\"id\":\"multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\"}],\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"multiRetrievalQAChain_0-input-returnSourceDocuments-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"multiRetrievalQAChain_0-output-multiRetrievalQAChain-MultiRetrievalQAChain|MultiRouteChain|BaseChain|Runnable\",\"name\":\"multiRetrievalQAChain\",\"label\":\"MultiRetrievalQAChain\",\"type\":\"MultiRetrievalQAChain | MultiRouteChain | BaseChain | Runnable\"}],\"id\":\"multiRetrievalQAChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1352.2166116053331,\"y\":404.8483867077923},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_0\",\"position\":{\"x\":2311.001910738412,\"y\":1139.8368680591861},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{chainTool_0.data.instance}}\"],\"model\":\"{{chatOpenAI_1.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_0-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_0-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_0-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_0-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2311.001910738412,\"y\":1139.8368680591861},\"dragging\":false},{\"width\":300,\"height\":603,\"id\":\"chainTool_0\",\"position\":{\"x\":1739.9640564725205,\"y\":614.5775801521908},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"redisSearch\",\"description\":\"Retorna os documentos relevantes\",\"returnDirect\":\"\",\"baseChain\":\"{{multiRetrievalQAChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_0-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_0-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_0-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_0-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1739.9640564725205,\"y\":614.5775801521908},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":1984.3721552890095,\"y\":1587.8285698438658},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1984.3721552890095,\"y\":1587.8285698438658},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":1409.9621616556892,\"y\":1207.6392488948393},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":1409.9621616556892,\"y\":1207.6392488948393}}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"multiRetrievalQAChain_0\",\"targetHandle\":\"multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-multiRetrievalQAChain_0-multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"multiRetrievalQAChain_0\",\"targetHandle\":\"multiRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-multiRetrievalQAChain_0-multiRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"multiRetrievalQAChain_0\",\"sourceHandle\":\"multiRetrievalQAChain_0-output-multiRetrievalQAChain-MultiRetrievalQAChain|MultiRouteChain|BaseChain|Runnable\",\"target\":\"chainTool_0\",\"targetHandle\":\"chainTool_0-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"multiRetrievalQAChain_0-multiRetrievalQAChain_0-output-multiRetrievalQAChain-MultiRetrievalQAChain|MultiRouteChain|BaseChain|Runnable-chainTool_0-chainTool_0-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_0\",\"sourceHandle\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_0-chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_0-conversationalAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_0-conversationalAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_0-conversationalAgent_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-395.98788382606494,\"y\":-507.57303210166583,\"zoom\":0.5188973946634458}}","isPublic":false,"name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"27388","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-12-15 17:54:15"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":896.5841834148281,\"y\":432.4416528297212},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":896.5841834148281,\"y\":432.4416528297212}},{\"width\":300,\"height\":378,\"id\":\"multiRetrievalQAChain_0\",\"position\":{\"x\":1352.2166116053331,\"y\":404.8483867077923},\"type\":\"customNode\",\"data\":{\"label\":\"Multi Retrieval QA Chain\",\"name\":\"multiRetrievalQAChain\",\"version\":1,\"type\":\"MultiRetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/MultiRetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA Chain that automatically picks an appropriate vector store from multiple retrievers\",\"baseClasses\":[\"MultiRetrievalQAChain\",\"MultiRouteChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":[\"{{RedisIndex_0.data.instance}}\"],\"returnSourceDocuments\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\MultiRetrievalQAChain\\\\MultiRetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"multiRetrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"VectorStoreRetriever\",\"list\":true,\"id\":\"multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\"}],\"inputParams\":[{\"label\":\"Return Source Documents\",\"name\":\"returnSourceDocuments\",\"type\":\"boolean\",\"optional\":true,\"id\":\"multiRetrievalQAChain_0-input-returnSourceDocuments-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"multiRetrievalQAChain_0-output-multiRetrievalQAChain-MultiRetrievalQAChain|MultiRouteChain|BaseChain|Runnable\",\"name\":\"multiRetrievalQAChain\",\"label\":\"MultiRetrievalQAChain\",\"type\":\"MultiRetrievalQAChain | MultiRouteChain | BaseChain | Runnable\"}],\"id\":\"multiRetrievalQAChain_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1352.2166116053331,\"y\":404.8483867077923},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_0\",\"position\":{\"x\":2311.001910738412,\"y\":1139.8368680591861},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{chainTool_0.data.instance}}\"],\"model\":\"{{chatOpenAI_1.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_0-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_0-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_0-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_0-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2311.001910738412,\"y\":1139.8368680591861},\"dragging\":false},{\"width\":300,\"height\":603,\"id\":\"chainTool_0\",\"position\":{\"x\":1739.9640564725205,\"y\":614.5775801521908},\"type\":\"customNode\",\"data\":{\"label\":\"Chain Tool\",\"name\":\"chainTool\",\"version\":1,\"type\":\"ChainTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/ChainTool/chaintool.svg\",\"category\":\"Tools\",\"description\":\"Use a chain as allowed tool for agent\",\"baseClasses\":[\"ChainTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"redisSearch\",\"description\":\"Retorna os documentos relevantes\",\"returnDirect\":\"\",\"baseChain\":\"{{multiRetrievalQAChain_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\ChainTool\\\\ChainTool.js\",\"inputAnchors\":[{\"label\":\"Base Chain\",\"name\":\"baseChain\",\"type\":\"BaseChain\",\"id\":\"chainTool_0-input-baseChain-BaseChain\"}],\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"state-of-union-qa\",\"id\":\"chainTool_0-input-name-string\"},{\"label\":\"Chain Description\",\"name\":\"description\",\"type\":\"string\",\"rows\":3,\"placeholder\":\"State of the Union QA - useful for when you need to ask questions about the most recent state of the union address.\",\"id\":\"chainTool_0-input-description-string\"},{\"label\":\"Return Direct\",\"name\":\"returnDirect\",\"type\":\"boolean\",\"optional\":true,\"id\":\"chainTool_0-input-returnDirect-boolean\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"chainTool\",\"label\":\"ChainTool\",\"type\":\"ChainTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"chainTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1739.9640564725205,\"y\":614.5775801521908},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":1984.3721552890095,\"y\":1587.8285698438658},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1984.3721552890095,\"y\":1587.8285698438658},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":1409.9621616556892,\"y\":1207.6392488948393},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":1409.9621616556892,\"y\":1207.6392488948393}}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"multiRetrievalQAChain_0\",\"targetHandle\":\"multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-multiRetrievalQAChain_0-multiRetrievalQAChain_0-input-vectorStoreRetriever-VectorStoreRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"multiRetrievalQAChain_0\",\"targetHandle\":\"multiRetrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-multiRetrievalQAChain_0-multiRetrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"multiRetrievalQAChain_0\",\"sourceHandle\":\"multiRetrievalQAChain_0-output-multiRetrievalQAChain-MultiRetrievalQAChain|MultiRouteChain|BaseChain|Runnable\",\"target\":\"chainTool_0\",\"targetHandle\":\"chainTool_0-input-baseChain-BaseChain\",\"type\":\"buttonedge\",\"id\":\"multiRetrievalQAChain_0-multiRetrievalQAChain_0-output-multiRetrievalQAChain-MultiRetrievalQAChain|MultiRouteChain|BaseChain|Runnable-chainTool_0-chainTool_0-input-baseChain-BaseChain\",\"data\":{\"label\":\"\"}},{\"source\":\"chainTool_0\",\"sourceHandle\":\"chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"chainTool_0-chainTool_0-output-chainTool-ChainTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_0-conversationalAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_0-conversationalAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_0-conversationalAgent_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-395.98788382606494,\"y\":-507.57303210166583,\"zoom\":0.5188973946634458}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"27354","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:54:18"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Boa tarde!"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"38","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:54:31"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"11fe6e0d-f801-484e-89f9-4cf31ee672eb","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde!","type":"apiMessage"}],"question":"Poderia me informar um imovel no centro de Caxias do Sul?"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"223","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:54:50"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":896.5841834148281,\"y\":432.4416528297212},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":896.5841834148281,\"y\":432.4416528297212}},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":1753.2202103969664,\"y\":542.7512019816095},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"positionAbsolute\":{\"x\":1753.2202103969664,\"y\":542.7512019816095},\"selected\":true,\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-425.6881467391081,\"y\":-139.82819792472947,\"zoom\":0.518897394663446}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"12585","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:58:04"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/853041a7-a1fe-494a-974c-7befab1c7572?chatId=11fe6e0d-f801-484e-89f9-4cf31ee672eb&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"11fe6e0d-f801-484e-89f9-4cf31ee672eb","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/853041a7-a1fe-494a-974c-7befab1c7572?chatId=11fe6e0d-f801-484e-89f9-4cf31ee672eb&chatType=INTERNAL"},"timestamp":"2023-12-15 17:58:07"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"LeRsXwGHodnKUjdJAAAH"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:58:12"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":896.5841834148281,\"y\":432.4416528297212},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":896.5841834148281,\"y\":432.4416528297212}},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":1753.2202103969664,\"y\":542.7512019816095},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"positionAbsolute\":{\"x\":1753.2202103969664,\"y\":542.7512019816095},\"selected\":false,\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-425.6881467391081,\"y\":-139.82819792472947,\"zoom\":0.518897394663446}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"12583","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:58:21"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"90S2UYSVCjWqnNHQAAAJ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:58:26"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"284c1091-e2b4-4f4a-95f2-30a2d304c69e","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me informar um imovel no centro de Caxias do SUl?","socketIOClientId":"90S2UYSVCjWqnNHQAAAJ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"295","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:58:42"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"284c1091-e2b4-4f4a-95f2-30a2d304c69e","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar um imovel no centro de Caxias do SUl?","type":"userMessage"},{"message":"Sim, temos o Box Ed. Garagem Center disponível no centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo vendido por R$ 20.000,00. Você pode obter mais informações sobre o imóvel no seguinte link: https://perfilimoveiscaxias.com.br/imoveis/6859","type":"apiMessage"}],"question":"Teria algum apartamento?","socketIOClientId":"90S2UYSVCjWqnNHQAAAJ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"650","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:58:56"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"284c1091-e2b4-4f4a-95f2-30a2d304c69e","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar um imovel no centro de Caxias do SUl?","type":"userMessage"},{"message":"Sim, temos o Box Ed. Garagem Center disponível no centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo vendido por R$ 20.000,00. Você pode obter mais informações sobre o imóvel no seguinte link: https://perfilimoveiscaxias.com.br/imoveis/6859","type":"apiMessage"},{"message":"Teria algum apartamento?","type":"userMessage"},{"message":"Sim, temos um apartamento disponível no Residencial do Bosque. Você pode obter mais informações sobre o imóvel no link a seguir: https://perfilimoveiscaxias.com.br/imoveis/6472","type":"apiMessage"}],"question":"Teria algum apartamento no bairro lourdes?","socketIOClientId":"90S2UYSVCjWqnNHQAAAJ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"944","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:59:29"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"284c1091-e2b4-4f4a-95f2-30a2d304c69e","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar um imovel no centro de Caxias do SUl?","type":"userMessage"},{"message":"Sim, temos o Box Ed. Garagem Center disponível no centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo vendido por R$ 20.000,00. Você pode obter mais informações sobre o imóvel no seguinte link: https://perfilimoveiscaxias.com.br/imoveis/6859","type":"apiMessage"},{"message":"Teria algum apartamento?","type":"userMessage"},{"message":"Sim, temos um apartamento disponível no Residencial do Bosque. Você pode obter mais informações sobre o imóvel no link a seguir: https://perfilimoveiscaxias.com.br/imoveis/6472","type":"apiMessage"},{"message":"Teria algum apartamento no bairro lourdes?","type":"userMessage"},{"message":"Não tenho essa informação.","type":"apiMessage"}],"question":"Teria algum imovel no bairro Lourdes?\n","socketIOClientId":"90S2UYSVCjWqnNHQAAAJ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1083","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 17:59:51"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"284c1091-e2b4-4f4a-95f2-30a2d304c69e","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar um imovel no centro de Caxias do SUl?","type":"userMessage"},{"message":"Sim, temos o Box Ed. Garagem Center disponível no centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo vendido por R$ 20.000,00. Você pode obter mais informações sobre o imóvel no seguinte link: https://perfilimoveiscaxias.com.br/imoveis/6859","type":"apiMessage"},{"message":"Teria algum apartamento?","type":"userMessage"},{"message":"Sim, temos um apartamento disponível no Residencial do Bosque. Você pode obter mais informações sobre o imóvel no link a seguir: https://perfilimoveiscaxias.com.br/imoveis/6472","type":"apiMessage"},{"message":"Teria algum apartamento no bairro lourdes?","type":"userMessage"},{"message":"Não tenho essa informação.","type":"apiMessage"},{"message":"Teria algum imovel no bairro Lourdes?\n","type":"userMessage"},{"message":"Não tenho informações sobre imóveis no bairro Lourdes.","type":"apiMessage"}],"question":"Teria alguma apartamento no bairro Exposição?","socketIOClientId":"90S2UYSVCjWqnNHQAAAJ"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1259","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:00:07"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":969.6372495985357,\"y\":450.15148705607453},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"bairro\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":969.6372495985357,\"y\":450.15148705607453}},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":1753.2202103969664,\"y\":542.7512019816095},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"positionAbsolute\":{\"x\":1753.2202103969664,\"y\":542.7512019816095},\"selected\":false,\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-562.8980043385368,\"y\":-364.13021526683235,\"zoom\":0.9034528384343083}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"12584","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:00:23"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/853041a7-a1fe-494a-974c-7befab1c7572?chatId=284c1091-e2b4-4f4a-95f2-30a2d304c69e&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"284c1091-e2b4-4f4a-95f2-30a2d304c69e","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/853041a7-a1fe-494a-974c-7befab1c7572?chatId=284c1091-e2b4-4f4a-95f2-30a2d304c69e&chatType=INTERNAL"},"timestamp":"2023-12-15 18:00:30"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"MdZovX7PIQIoLHjMAAAP"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:00:36"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"i7zpGg7jhGJ2wyQwAAAR"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:00:58"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":969.6372495985357,\"y\":450.15148705607453},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":969.6372495985357,\"y\":450.15148705607453}},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":281,\"id\":\"retrievalQAChain_0\",\"position\":{\"x\":1753.2202103969664,\"y\":542.7512019816095},\"type\":\"customNode\",\"data\":{\"label\":\"Retrieval QA Chain\",\"name\":\"retrievalQAChain\",\"version\":1,\"type\":\"RetrievalQAChain\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chains/RetrievalQAChain/chain.svg\",\"category\":\"Chains\",\"description\":\"QA chain to answer a question based on the retrieved documents\",\"baseClasses\":[\"RetrievalQAChain\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"vectorStoreRetriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chains\\\\RetrievalQAChain\\\\RetrievalQAChain.js\",\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"retrievalQAChain_0-input-model-BaseLanguageModel\"},{\"label\":\"Vector Store Retriever\",\"name\":\"vectorStoreRetriever\",\"type\":\"BaseRetriever\",\"id\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\"}],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrievalQAChain_0-output-retrievalQAChain-RetrievalQAChain|BaseChain|Runnable\",\"name\":\"retrievalQAChain\",\"label\":\"RetrievalQAChain\",\"type\":\"RetrievalQAChain | BaseChain | Runnable\"}],\"id\":\"retrievalQAChain_0\",\"selected\":false},\"positionAbsolute\":{\"x\":1753.2202103969664,\"y\":542.7512019816095},\"selected\":false,\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrievalQAChain_0-retrievalQAChain_0-input-vectorStoreRetriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"retrievalQAChain_0\",\"targetHandle\":\"retrievalQAChain_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-retrievalQAChain_0-retrievalQAChain_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-354.93630188994234,\"y\":-212.2530169731354,\"zoom\":0.7865013774104693}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"12586","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:01:36"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"cXJjFk_5xed3-mtuAAAT"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:01:41"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"99084747-fe6c-4307-8c40-d2ff2d38adc6","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar?","type":"apiMessage"}],"question":"Preciso de um imovel no bairro cinquentenario","socketIOClientId":"cXJjFk_5xed3-mtuAAAT"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"272","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:01:56"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"99084747-fe6c-4307-8c40-d2ff2d38adc6","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar?","type":"apiMessage"},{"message":"Preciso de um imovel no bairro cinquentenario","type":"userMessage"},{"message":"Tenho uma Casa no bairro Cinquentenário, em Caxias do Sul, disponível. O imóvel possui 523.5 m², 4 dormitórios, sendo 2 suítes, e 5 vagas de garagem. O valor é de R$ 4.100.000,00. Você pode encontrar mais informações sobre o imóvel no seguinte link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/2985)","type":"apiMessage"}],"question":"Teria algum com valor menr?","socketIOClientId":"cXJjFk_5xed3-mtuAAAT"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"702","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:02:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"99084747-fe6c-4307-8c40-d2ff2d38adc6","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar?","type":"apiMessage"},{"message":"Preciso de um imovel no bairro cinquentenario","type":"userMessage"},{"message":"Tenho uma Casa no bairro Cinquentenário, em Caxias do Sul, disponível. O imóvel possui 523.5 m², 4 dormitórios, sendo 2 suítes, e 5 vagas de garagem. O valor é de R$ 4.100.000,00. Você pode encontrar mais informações sobre o imóvel no seguinte link: [Casa Cinquentenário](https://perfilimoveiscaxias.com.br/imoveis/2985)","type":"apiMessage"},{"message":"Teria algum com valor menr?","type":"userMessage"},{"message":"Não sei, desculpe.","type":"apiMessage"}],"question":"Quais imoveis disponiveis você tem?","socketIOClientId":"naL2NiGa3jPh33VrAAAV"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"828","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:02:42"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["ChatOpenAI","BaseChatModel","BaseLanguageModel","Runnable"],"category":"Chat Models","credential":"fb819333-df21-4987-b9b7-b02d2dd327b3","description":"Wrapper around OpenAI large language models that use the Chat endpoint","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\chatmodels\\ChatOpenAI\\ChatOpenAI.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png","id":"chatOpenAI_0","inputAnchors":[{"id":"chatOpenAI_0-input-cache-BaseCache","label":"Cache","name":"cache","optional":true,"type":"BaseCache"}],"inputParams":[{"credentialNames":["openAIApi"],"id":"chatOpenAI_0-input-credential-credential","label":"Connect Credential","name":"credential","type":"credential"},{"default":"gpt-3.5-turbo","id":"chatOpenAI_0-input-modelName-options","label":"Model Name","name":"modelName","optional":true,"options":[{"label":"gpt-4","name":"gpt-4"},{"label":"gpt-4-1106-preview","name":"gpt-4-1106-preview"},{"label":"gpt-4-vision-preview","name":"gpt-4-vision-preview"},{"label":"gpt-4-0613","name":"gpt-4-0613"},{"label":"gpt-4-32k","name":"gpt-4-32k"},{"label":"gpt-4-32k-0613","name":"gpt-4-32k-0613"},{"label":"gpt-3.5-turbo","name":"gpt-3.5-turbo"},{"label":"gpt-3.5-turbo-1106","name":"gpt-3.5-turbo-1106"},{"label":"gpt-3.5-turbo-0613","name":"gpt-3.5-turbo-0613"},{"label":"gpt-3.5-turbo-16k","name":"gpt-3.5-turbo-16k"},{"label":"gpt-3.5-turbo-16k-0613","name":"gpt-3.5-turbo-16k-0613"}],"type":"options"},{"default":0.9,"id":"chatOpenAI_0-input-temperature-number","label":"Temperature","name":"temperature","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"chatOpenAI_0-input-maxTokens-number","label":"Max Tokens","name":"maxTokens","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"chatOpenAI_0-input-topP-number","label":"Top Probability","name":"topP","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"chatOpenAI_0-input-frequencyPenalty-number","label":"Frequency Penalty","name":"frequencyPenalty","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"chatOpenAI_0-input-presencePenalty-number","label":"Presence Penalty","name":"presencePenalty","optional":true,"step":0.1,"type":"number"},{"additionalParams":true,"id":"chatOpenAI_0-input-timeout-number","label":"Timeout","name":"timeout","optional":true,"step":1,"type":"number"},{"additionalParams":true,"id":"chatOpenAI_0-input-basepath-string","label":"BasePath","name":"basepath","optional":true,"type":"string"},{"additionalParams":true,"id":"chatOpenAI_0-input-baseOptions-json","label":"BaseOptions","name":"baseOptions","optional":true,"type":"json"}],"inputs":{"FLOWISE_CREDENTIAL_ID":"fb819333-df21-4987-b9b7-b02d2dd327b3","baseOptions":"","basepath":"","cache":"","frequencyPenalty":"","maxTokens":"","modelName":"gpt-3.5-turbo","presencePenalty":"","temperature":0.9,"timeout":"","topP":""},"label":"ChatOpenAI","name":"chatOpenAI","outputAnchors":[{"id":"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable","label":"ChatOpenAI","name":"chatOpenAI","type":"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable"}],"outputs":{},"selected":false,"type":"ChatOpenAI","version":2},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"3354","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-15 18:03:50"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":969.6372495985357,\"y\":450.15148705607453},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":969.6372495985357,\"y\":450.15148705607453}},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"0.6\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1473.6636973275827,\"y\":572.0846830648469},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"\",\"description\":\"\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"positionAbsolute\":{\"x\":1473.6636973275827,\"y\":572.0846830648469},\"selected\":false,\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_0\",\"position\":{\"x\":2124.9202385386698,\"y\":1062.1298833143182},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"model\":\"{{chatOpenAI_1.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_0-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_0-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_0-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_0-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2124.9202385386698,\"y\":1062.1298833143182},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":1130.5234874760927,\"y\":1103.1869996497753},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"0.6\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1130.5234874760927,\"y\":1103.1869996497753}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":1577.6058698007023,\"y\":1356.6004310015064},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1577.6058698007023,\"y\":1356.6004310015064},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_0-conversationalAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_0-conversationalAgent_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_0-conversationalAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-499.6155756453443,\"y\":-342.9364292459894,\"zoom\":0.518897394663446}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"24188","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:10:01"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/853041a7-a1fe-494a-974c-7befab1c7572?chatId=99084747-fe6c-4307-8c40-d2ff2d38adc6&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"99084747-fe6c-4307-8c40-d2ff2d38adc6","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/853041a7-a1fe-494a-974c-7befab1c7572?chatId=99084747-fe6c-4307-8c40-d2ff2d38adc6&chatType=INTERNAL"},"timestamp":"2023-12-15 18:10:04"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Boa tarde!"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"38","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:10:24"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":969.6372495985357,\"y\":450.15148705607453},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":969.6372495985357,\"y\":450.15148705607453}},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"0.6\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1473.6636973275827,\"y\":572.0846830648469},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Retorna documentos relevantes\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"positionAbsolute\":{\"x\":1473.6636973275827,\"y\":572.0846830648469},\"selected\":false,\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_0\",\"position\":{\"x\":2124.9202385386698,\"y\":1062.1298833143182},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"model\":\"{{chatOpenAI_1.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_0-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_0-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_0-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_0-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2124.9202385386698,\"y\":1062.1298833143182},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":1130.5234874760927,\"y\":1103.1869996497753},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"0.6\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1130.5234874760927,\"y\":1103.1869996497753}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":1577.6058698007023,\"y\":1356.6004310015064},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1577.6058698007023,\"y\":1356.6004310015064},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_0-conversationalAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_0-conversationalAgent_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_0-conversationalAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-318.462174162411,\"y\":-37.373217865418155,\"zoom\":0.5188973946634463}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"24225","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:10:37"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"31","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:10:39"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"fd28b33f-b75b-4baa-9269-c0ebcced9399","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me informar um imovel em Caxias do Sul?"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"231","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:10:55"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":577.738710172761,\"y\":420.2090305206656},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":969.6372495985357,\"y\":450.15148705607453},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":969.6372495985357,\"y\":450.15148705607453}},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":903.9681817944627,\"y\":-151.01085659906},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"0.6\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":903.9681817944627,\"y\":-151.01085659906}},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":1473.6636973275827,\"y\":572.0846830648469},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"perfil\",\"description\":\"Você é assistente da imobiliaria perfil, use os documentos relevantes retornados no Revlevantdocs.\\n\\nRelevantDocs: {{congext}}\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"positionAbsolute\":{\"x\":1473.6636973275827,\"y\":572.0846830648469},\"selected\":false,\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_0\",\"position\":{\"x\":2124.9202385386698,\"y\":1062.1298833143182},\"type\":\"customNode\",\"data\":{\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/ConversationalAgent/agent.svg\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"model\":\"{{chatOpenAI_1.data.instance}}\",\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\ConversationalAgent\\\\ConversationalAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_0-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_0-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_0-input-memory-BaseChatMemory\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"conversationalAgent_0-output-conversationalAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"conversationalAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2124.9202385386698,\"y\":1062.1298833143182},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":1130.5234874760927,\"y\":1103.1869996497753},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"0.6\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_1\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1130.5234874760927,\"y\":1103.1869996497753}},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":1577.6058698007023,\"y\":1356.6004310015064},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1577.6058698007023,\"y\":1356.6004310015064},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-conversationalAgent_0-conversationalAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-conversationalAgent_0-conversationalAgent_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-conversationalAgent_0-conversationalAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-205.3590499808904,\"y\":-218.27966076143434,\"zoom\":0.5743491774985173}}","name":"perfil"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"24329","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:12:14"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/853041a7-a1fe-494a-974c-7befab1c7572?chatId=fd28b33f-b75b-4baa-9269-c0ebcced9399&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"fd28b33f-b75b-4baa-9269-c0ebcced9399","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/853041a7-a1fe-494a-974c-7befab1c7572?chatId=fd28b33f-b75b-4baa-9269-c0ebcced9399&chatType=INTERNAL"},"timestamp":"2023-12-15 18:12:17"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"history":[],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"31","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:12:20"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572","package":"server","request":{"body":{"chatId":"d9a55037-7075-4c40-bf6c-18b9f1e04b18","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me informar um imovel em Caxias do SUl?\n"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"233","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/853041a7-a1fe-494a-974c-7befab1c7572","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/853041a7-a1fe-494a-974c-7befab1c7572"},"timestamp":"2023-12-15 18:12:36"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Dada a seguinte conversa e uma pergunta de acompanhamento, reformule a pergunta de acompanhamento para ser uma pergunta independente.\\n\\nChat History:\\n{chat_history}\\npergunta Input: {question}\\npergunta independente:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2290.8365353040026,\"y\":-168.49082887954518},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Using the provided context, answer the user's question to the best of your ability using the resources provided. If there is nothing in the context relevant to the question at hand, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer.\\n\\nAnything between the following \\\\`context\\\\`  html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nREMEMBER: If there is no relevant information within the context, just say \\\"Hmm, I'm not sure.\\\" Don't try to make up an answer. Anything between the preceding 'context' html blocks is retrieved from a knowledge bank, not part of the conversation with the user.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2290.8365353040026,\"y\":-168.49082887954518},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0.5\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1547.0915386154277,\"y\":-746.675139448642},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1547.0915386154277,\"y\":-746.675139448642}}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-165.34571464093597,\"y\":196.9455662340235,\"zoom\":1.2396099065993953}}","isPublic":false,"name":"chat prompt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"25852","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-12-15 18:20:11"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Dada a seguinte conversa e uma pergunta de acompanhamento, reformule a pergunta de acompanhamento para ser uma pergunta independente.\\n\\nChat History:\\n{chat_history}\\npergunta Input: {question}\\npergunta independente:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Usando o contexto fornecido, responda à pergunta do usuário da melhor forma possível, utilizando os recursos disponíveis. Se não houver informações relevantes no contexto em relação à pergunta, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'context' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nLEMBRE-SE: Se não houver informações relevantes dentro do contexto, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'contexto' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0.5\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1547.0915386154277,\"y\":-746.675139448642},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1547.0915386154277,\"y\":-746.675139448642}}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-4126.145239920198,\"y\":205.73691885651587,\"zoom\":2}}","name":"chat prompt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"25813","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:22:52"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Dada a seguinte conversa e uma pergunta de acompanhamento, reformule a pergunta de acompanhamento para ser uma pergunta independente.\\n\\nChat History:\\n{chat_history}\\npergunta Input: {question}\\npergunta independente:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Usando o contexto fornecido, responda à pergunta do usuário da melhor forma possível, utilizando os recursos disponíveis. Se não houver informações relevantes no contexto em relação à pergunta, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'context' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nLEMBRE-SE: Se não houver informações relevantes dentro do contexto, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'contexto' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0.5\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1547.0915386154277,\"y\":-746.675139448642},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1547.0915386154277,\"y\":-746.675139448642}}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2081.4128660047118,\"y\":364.42262385123877,\"zoom\":0.9999999999999999}}","name":"chat prompt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"25831","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:23:03"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Dada a seguinte conversa e uma pergunta de acompanhamento, reformule a pergunta de acompanhamento para ser uma pergunta independente.\\n\\nChat History:\\n{chat_history}\\npergunta Input: {question}\\npergunta independente:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Usando o contexto fornecido, responda à pergunta do usuário da melhor forma possível, utilizando os recursos disponíveis. Se não houver informações relevantes no contexto em relação à pergunta, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'context' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nLEMBRE-SE: Se não houver informações relevantes dentro do contexto, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'contexto' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0.5\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1547.0915386154277,\"y\":-746.675139448642},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1547.0915386154277,\"y\":-746.675139448642}}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-2007.4128660047118,\"y\":287.42262385123877,\"zoom\":0.9999999999999999}}","name":"chat prompt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"25831","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:23:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"history":[],"question":"Ola","socketIOClientId":"T_akPiYm0ZxmOWirAAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"73","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:23:11"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"d24290f5-00d7-4937-8450-845d4a1f7d5e","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me informar um imovel em Caxias do Sul?\n","socketIOClientId":"T_akPiYm0ZxmOWirAAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"275","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:23:26"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"d24290f5-00d7-4937-8450-845d4a1f7d5e","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar um imovel em Caxias do Sul?\n","type":"userMessage"},{"message":"Claro! Temos uma casa em condomínio disponível em Caxias do Sul. O imóvel possui um terreno de 2000m², 470m² de área construída, 4 dormitórios (sendo 2 suítes), 6 vagas de garagem e está localizado no bairro Moinhos de Vento. Além disso, o imóvel conta com diversas comodidades, como espaço gourmet, guarita, horta, jardim, playground, portaria 24 horas, calefação, churrasqueira, closet, home office, lareira, lavabo, pátio, sacada, semi mobiliado, suíte master e vidros duplos. O preço do imóvel é de R$ 4.800.000,00. Você pode obter mais informações sobre o imóvel e ver fotos no seguinte link: [Casa em Caxias do Sul](https://perfilimoveiscaxias.com.br/imoveis/7328).","type":"apiMessage"}],"question":"Teria alguma casa no bairro petrópolis?","socketIOClientId":"T_akPiYm0ZxmOWirAAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1081","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:24:02"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"d24290f5-00d7-4937-8450-845d4a1f7d5e","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar um imovel em Caxias do Sul?\n","type":"userMessage"},{"message":"Claro! Temos uma casa em condomínio disponível em Caxias do Sul. O imóvel possui um terreno de 2000m², 470m² de área construída, 4 dormitórios (sendo 2 suítes), 6 vagas de garagem e está localizado no bairro Moinhos de Vento. Além disso, o imóvel conta com diversas comodidades, como espaço gourmet, guarita, horta, jardim, playground, portaria 24 horas, calefação, churrasqueira, closet, home office, lareira, lavabo, pátio, sacada, semi mobiliado, suíte master e vidros duplos. O preço do imóvel é de R$ 4.800.000,00. Você pode obter mais informações sobre o imóvel e ver fotos no seguinte link: [Casa em Caxias do Sul](https://perfilimoveiscaxias.com.br/imoveis/7328).","type":"apiMessage"},{"message":"Teria alguma casa no bairro petrópolis?","type":"userMessage"},{"message":"Hmm, não tenho certeza. Não há informações relevantes no contexto sobre casas no bairro Petrópolis.","type":"apiMessage"}],"question":"Algum imovel no bairro Petrópolis?","socketIOClientId":"T_akPiYm0ZxmOWirAAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1292","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:24:22"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"d24290f5-00d7-4937-8450-845d4a1f7d5e","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar um imovel em Caxias do Sul?\n","type":"userMessage"},{"message":"Claro! Temos uma casa em condomínio disponível em Caxias do Sul. O imóvel possui um terreno de 2000m², 470m² de área construída, 4 dormitórios (sendo 2 suítes), 6 vagas de garagem e está localizado no bairro Moinhos de Vento. Além disso, o imóvel conta com diversas comodidades, como espaço gourmet, guarita, horta, jardim, playground, portaria 24 horas, calefação, churrasqueira, closet, home office, lareira, lavabo, pátio, sacada, semi mobiliado, suíte master e vidros duplos. O preço do imóvel é de R$ 4.800.000,00. Você pode obter mais informações sobre o imóvel e ver fotos no seguinte link: [Casa em Caxias do Sul](https://perfilimoveiscaxias.com.br/imoveis/7328).","type":"apiMessage"},{"message":"Teria alguma casa no bairro petrópolis?","type":"userMessage"},{"message":"Hmm, não tenho certeza. Não há informações relevantes no contexto sobre casas no bairro Petrópolis.","type":"apiMessage"},{"message":"Algum imovel no bairro Petrópolis?","type":"userMessage"},{"message":"Hmm, não tenho certeza. Não há informações relevantes no contexto sobre imóveis no bairro Petrópolis.","type":"apiMessage"}],"question":"Terai algum imovel no bairro centro?","socketIOClientId":"T_akPiYm0ZxmOWirAAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1507","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:24:38"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Dada a seguinte conversa e uma pergunta de acompanhamento, reformule a pergunta de acompanhamento para ser uma pergunta independente.\\n\\nChat History:\\n{chat_history}\\npergunta Input: {question}\\npergunta independente:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Usando o contexto fornecido, responda à pergunta do usuário da melhor forma possível, utilizando os recursos disponíveis. Se não houver informações relevantes no contexto em relação à pergunta, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'context' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nLEMBRE-SE: Se não houver informações relevantes dentro do contexto, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'contexto' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"document\"},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0.5\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1547.0915386154277,\"y\":-746.675139448642},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1547.0915386154277,\"y\":-746.675139448642}}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1153.3842437593412,\"y\":148.9319406762509,\"zoom\":0.7578582832551989}}","name":"chat prompt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"25834","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:25:07"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/101fa670-899c-4b94-b9da-e15cb5bb95c5?chatId=d24290f5-00d7-4937-8450-845d4a1f7d5e&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"d24290f5-00d7-4937-8450-845d4a1f7d5e","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/101fa670-899c-4b94-b9da-e15cb5bb95c5?chatId=d24290f5-00d7-4937-8450-845d4a1f7d5e&chatType=INTERNAL"},"timestamp":"2023-12-15 18:25:10"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"V15w5CC3iVgjOiBUAAAn"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:25:14"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"746d6ac0-b624-4727-80df-a323e408fb56","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Poderia me informar algum imovel no bairro Centro?","socketIOClientId":"V15w5CC3iVgjOiBUAAAn"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"288","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:25:27"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"746d6ac0-b624-4727-80df-a323e408fb56","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Poderia me informar algum imovel no bairro Centro?","type":"userMessage"},{"message":"Hmm, não tenho certeza.","type":"apiMessage"}],"question":"Teria algum imovel em Caxias do SUl?","socketIOClientId":"V15w5CC3iVgjOiBUAAAn"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"419","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:25:46"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":476,\"id\":\"promptTemplate_0\",\"position\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"type\":\"customNode\",\"data\":{\"id\":\"promptTemplate_0\",\"label\":\"Prompt Template\",\"version\":1,\"name\":\"promptTemplate\",\"type\":\"PromptTemplate\",\"baseClasses\":[\"PromptTemplate\",\"BaseStringPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a basic prompt for an LLM\",\"inputParams\":[{\"label\":\"Template\",\"name\":\"template\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"What is a good name for a company that makes {product}?\",\"id\":\"promptTemplate_0-input-template-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"promptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"template\":\"Dada a seguinte conversa e uma pergunta de acompanhamento, reformule a pergunta de acompanhamento para ser uma pergunta independente.\\n\\nChat History:\\n{chat_history}\\npergunta Input: {question}\\npergunta independente:\",\"promptValues\":\"{\\\"question\\\":\\\"{{question}}\\\",\\\"chat_history\\\":\\\"{{chat_history}}\\\"}\"},\"outputAnchors\":[{\"id\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"promptTemplate\",\"label\":\"PromptTemplate\",\"type\":\"PromptTemplate | BaseStringPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":322.26081615970764,\"y\":-131.47776187520634},\"dragging\":false},{\"width\":300,\"height\":653,\"id\":\"chatPromptTemplate_0\",\"position\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"type\":\"customNode\",\"data\":{\"id\":\"chatPromptTemplate_0\",\"label\":\"Chat Prompt Template\",\"version\":1,\"name\":\"chatPromptTemplate\",\"type\":\"ChatPromptTemplate\",\"baseClasses\":[\"ChatPromptTemplate\",\"BaseChatPromptTemplate\",\"BasePromptTemplate\",\"Runnable\"],\"category\":\"Prompts\",\"description\":\"Schema to represent a chat prompt\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"You are a helpful assistant that translates {input_language} to {output_language}.\",\"id\":\"chatPromptTemplate_0-input-systemMessagePrompt-string\"},{\"label\":\"Human Message\",\"name\":\"humanMessagePrompt\",\"type\":\"string\",\"rows\":4,\"placeholder\":\"{text}\",\"id\":\"chatPromptTemplate_0-input-humanMessagePrompt-string\"},{\"label\":\"Format Prompt Values\",\"name\":\"promptValues\",\"type\":\"json\",\"optional\":true,\"acceptVariable\":true,\"list\":true,\"id\":\"chatPromptTemplate_0-input-promptValues-json\"}],\"inputAnchors\":[],\"inputs\":{\"systemMessagePrompt\":\"Usando o contexto fornecido, responda à pergunta do usuário da melhor forma possível, utilizando os recursos disponíveis. Se não houver informações relevantes no contexto em relação à pergunta, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'context' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\\n\\n<context>\\n    {context}\\n<context/>\\n\\nLEMBRE-SE: Se não houver informações relevantes dentro do contexto, apenas diga \\\"Hmm, não tenho certeza.\\\" Não tente inventar uma resposta. Tudo entre os blocos HTML de 'contexto' é obtido de um banco de conhecimento e não faz parte da conversa com o usuário.\",\"humanMessagePrompt\":\"{text}\",\"promptValues\":\"{\\\"context\\\":\\\"{{vectorStoreToDocument_0.data.instance}}\\\",\\\"text\\\":\\\"{{question}}\\\"}\"},\"outputAnchors\":[{\"id\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"name\":\"chatPromptTemplate\",\"label\":\"ChatPromptTemplate\",\"type\":\"ChatPromptTemplate | BaseChatPromptTemplate | BasePromptTemplate | Runnable\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2292.741090976979,\"y\":-169.89538455252182},\"dragging\":false},{\"width\":300,\"height\":455,\"id\":\"vectorStoreToDocument_0\",\"position\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"type\":\"customNode\",\"data\":{\"id\":\"vectorStoreToDocument_0\",\"label\":\"VectorStore To Document\",\"version\":2,\"name\":\"vectorStoreToDocument\",\"type\":\"Document\",\"baseClasses\":[\"Document\"],\"category\":\"Document Loaders\",\"description\":\"Search documents with scores from vector store\",\"inputParams\":[{\"label\":\"Query\",\"name\":\"query\",\"type\":\"string\",\"description\":\"Query to retrieve documents from vector database. If not specified, user question will be used\",\"optional\":true,\"acceptVariable\":true,\"id\":\"vectorStoreToDocument_0-input-query-string\"},{\"label\":\"Minimum Score (%)\",\"name\":\"minScore\",\"type\":\"number\",\"optional\":true,\"placeholder\":\"75\",\"step\":1,\"description\":\"Minumum score for embeddings documents to be included\",\"id\":\"vectorStoreToDocument_0-input-minScore-number\"}],\"inputAnchors\":[{\"label\":\"Vector Store\",\"name\":\"vectorStore\",\"type\":\"VectorStore\",\"id\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\"}],\"inputs\":{\"vectorStore\":\"{{RedisIndex_0.data.instance}}\",\"query\":\"{{llmChain_2.data.instance}}\",\"minScore\":\"\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"vectorStoreToDocument_0-output-document-Document\",\"name\":\"document\",\"label\":\"Document\",\"type\":\"Document\"},{\"id\":\"vectorStoreToDocument_0-output-text-string|json\",\"name\":\"text\",\"label\":\"Text\",\"type\":\"string | json\"}],\"default\":\"document\"}],\"outputs\":{\"output\":\"text\"},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1932.501704065766,\"y\":-119.89617072254448},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_2\",\"position\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_2\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_2-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_2-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_2-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_2-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"prompt\":\"{{promptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"RephraseQuestion\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_2-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_2-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"outputPrediction\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":756.2678342825631,\"y\":-244.07972550448233},\"dragging\":false},{\"width\":300,\"height\":457,\"id\":\"llmChain_1\",\"position\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"type\":\"customNode\",\"data\":{\"id\":\"llmChain_1\",\"label\":\"LLM Chain\",\"version\":3,\"name\":\"llmChain\",\"type\":\"LLMChain\",\"baseClasses\":[\"LLMChain\",\"BaseChain\",\"Runnable\"],\"category\":\"Chains\",\"description\":\"Chain to run queries against LLMs\",\"inputParams\":[{\"label\":\"Chain Name\",\"name\":\"chainName\",\"type\":\"string\",\"placeholder\":\"Name Your Chain\",\"optional\":true,\"id\":\"llmChain_1-input-chainName-string\"}],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"llmChain_1-input-model-BaseLanguageModel\"},{\"label\":\"Prompt\",\"name\":\"prompt\",\"type\":\"BasePromptTemplate\",\"id\":\"llmChain_1-input-prompt-BasePromptTemplate\"},{\"label\":\"Output Parser\",\"name\":\"outputParser\",\"type\":\"BaseLLMOutputParser\",\"optional\":true,\"id\":\"llmChain_1-input-outputParser-BaseLLMOutputParser\"}],\"inputs\":{\"model\":\"{{chatOpenAI_1.data.instance}}\",\"prompt\":\"{{chatPromptTemplate_0.data.instance}}\",\"outputParser\":\"\",\"chainName\":\"FinalResponse\"},\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"llmChain_1-output-llmChain-LLMChain|BaseChain|Runnable\",\"name\":\"llmChain\",\"label\":\"LLM Chain\",\"type\":\"LLMChain | BaseChain | Runnable\"},{\"id\":\"llmChain_1-output-outputPrediction-string|json\",\"name\":\"outputPrediction\",\"label\":\"Output Prediction\",\"type\":\"string | json\"}],\"default\":\"llmChain\"}],\"outputs\":{\"output\":\"llmChain\"},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":2684.08901232628,\"y\":-301.4742415779482},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0.5\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":339.96857057520754,\"y\":-732.8078068632885},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"version\":2,\"name\":\"chatOpenAI\",\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"cache\":\"\",\"modelName\":\"gpt-3.5-turbo-16k\",\"temperature\":\"0\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":2291.510577325338,\"y\":-785.9138727666948},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"version\":1,\"name\":\"openAIEmbeddings\",\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":1154.293946350955,\"y\":-589.6072684085893},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":1547.0915386154277,\"y\":-746.675139448642},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"vectorStore\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"dragging\":false,\"positionAbsolute\":{\"x\":1547.0915386154277,\"y\":-746.675139448642}}],\"edges\":[{\"source\":\"vectorStoreToDocument_0\",\"sourceHandle\":\"vectorStoreToDocument_0-output-text-string|json\",\"target\":\"chatPromptTemplate_0\",\"targetHandle\":\"chatPromptTemplate_0-input-promptValues-json\",\"type\":\"buttonedge\",\"id\":\"vectorStoreToDocument_0-vectorStoreToDocument_0-output-text-string|json-chatPromptTemplate_0-chatPromptTemplate_0-input-promptValues-json\",\"data\":{\"label\":\"\"}},{\"source\":\"promptTemplate_0\",\"sourceHandle\":\"promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"promptTemplate_0-promptTemplate_0-output-promptTemplate-PromptTemplate|BaseStringPromptTemplate|BasePromptTemplate|Runnable-llmChain_2-llmChain_2-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"llmChain_2\",\"sourceHandle\":\"llmChain_2-output-outputPrediction-string|json\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-query-string\",\"type\":\"buttonedge\",\"id\":\"llmChain_2-llmChain_2-output-outputPrediction-string|json-vectorStoreToDocument_0-vectorStoreToDocument_0-input-query-string\",\"data\":{\"label\":\"\"}},{\"source\":\"chatPromptTemplate_0\",\"sourceHandle\":\"chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-prompt-BasePromptTemplate\",\"type\":\"buttonedge\",\"id\":\"chatPromptTemplate_0-chatPromptTemplate_0-output-chatPromptTemplate-ChatPromptTemplate|BaseChatPromptTemplate|BasePromptTemplate|Runnable-llmChain_1-llmChain_1-input-prompt-BasePromptTemplate\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_2\",\"targetHandle\":\"llmChain_2-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_2-llmChain_2-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"llmChain_1\",\"targetHandle\":\"llmChain_1-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-llmChain_1-llmChain_1-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"target\":\"vectorStoreToDocument_0\",\"targetHandle\":\"vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-vectorStore-Redis|VectorStore-vectorStoreToDocument_0-vectorStoreToDocument_0-input-vectorStore-VectorStore\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1248.3842437593412,\"y\":323.93194067625086,\"zoom\":0.7578582832551989}}","name":"chat prompt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"25831","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:26:16"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/101fa670-899c-4b94-b9da-e15cb5bb95c5?chatId=746d6ac0-b624-4727-80df-a323e408fb56&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"746d6ac0-b624-4727-80df-a323e408fb56","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/101fa670-899c-4b94-b9da-e15cb5bb95c5?chatId=746d6ac0-b624-4727-80df-a323e408fb56&chatType=INTERNAL"},"timestamp":"2023-12-15 18:26:20"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"lmBqn11nS9-6ZsVkAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:26:24"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"f429c20e-47f2-49fe-8c82-b83aa8c31144","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Preciso de um imovel no centro de Caxias do Sul","socketIOClientId":"lmBqn11nS9-6ZsVkAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"285","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:26:38"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"f429c20e-47f2-49fe-8c82-b83aa8c31144","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Preciso de um imovel no centro de Caxias do Sul","type":"userMessage"},{"message":"Tenho um imóvel disponível no centro de Caxias do Sul. É um box no Ed. Garagem Center, com 17.00 m². O preço é de R$ 20.000,00. Você pode encontrar mais informações sobre o imóvel e entrar em contato com o proprietário através deste link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"}],"question":"Teria algum apartamento no centro de Caxias do Sul?","socketIOClientId":"lmBqn11nS9-6ZsVkAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"732","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:27:06"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"f429c20e-47f2-49fe-8c82-b83aa8c31144","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Preciso de um imovel no centro de Caxias do Sul","type":"userMessage"},{"message":"Tenho um imóvel disponível no centro de Caxias do Sul. É um box no Ed. Garagem Center, com 17.00 m². O preço é de R$ 20.000,00. Você pode encontrar mais informações sobre o imóvel e entrar em contato com o proprietário através deste link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Teria algum apartamento no centro de Caxias do Sul?","type":"userMessage"},{"message":"Sim, temos um box disponível no centro de Caxias do Sul. O Box Ed. Garagem Center está localizado no bairro Centro e possui 17.00 m². O preço é de R$ 20.000,00. Você pode obter mais informações sobre o imóvel e ver fotos no seguinte link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"}],"question":"Teria alguma casa?","socketIOClientId":"lmBqn11nS9-6ZsVkAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1143","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:27:30"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5","package":"server","request":{"body":{"chatId":"f429c20e-47f2-49fe-8c82-b83aa8c31144","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Preciso de um imovel no centro de Caxias do Sul","type":"userMessage"},{"message":"Tenho um imóvel disponível no centro de Caxias do Sul. É um box no Ed. Garagem Center, com 17.00 m². O preço é de R$ 20.000,00. Você pode encontrar mais informações sobre o imóvel e entrar em contato com o proprietário através deste link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Teria algum apartamento no centro de Caxias do Sul?","type":"userMessage"},{"message":"Sim, temos um box disponível no centro de Caxias do Sul. O Box Ed. Garagem Center está localizado no bairro Centro e possui 17.00 m². O preço é de R$ 20.000,00. Você pode obter mais informações sobre o imóvel e ver fotos no seguinte link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859).","type":"apiMessage"},{"message":"Teria alguma casa?","type":"userMessage"},{"message":"Sim, temos uma casa disponível. É uma casa em condomínio com terreno de 2000m², localizada no bairro Moinhos de Vento, em Caxias do Sul, RS. O preço é de R$ 4.800.000,00. A casa possui 470.00 m², 4 dormitórios, sendo 2 suítes, e 6 vagas de garagem. Além disso, possui diversas características como espaço gourmet, guarita, horta, jardim, playground, portaria 24 horas, calefação, churrasqueira, closet, home office, lareira, lavabo, pátio, sacada, semi mobiliado, suíte master e vidros duplos. Você pode encontrar mais informações sobre a casa no seguinte link: [Casa em Condomínio Com Terreno de 2000m²](https://perfilimoveiscaxias.com.br/imoveis/7328).","type":"apiMessage"}],"question":"Preciso de uma casa no centro de Caxias do Sul","socketIOClientId":"lmBqn11nS9-6ZsVkAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1935","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/101fa670-899c-4b94-b9da-e15cb5bb95c5","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/101fa670-899c-4b94-b9da-e15cb5bb95c5"},"timestamp":"2023-12-15 18:28:03"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/openAIAssistant","package":"server","request":{"body":{"baseClasses":["OpenAIAssistant"],"category":"Agents","description":"An agent that uses OpenAI Assistant API to pick the tool and args to call","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\agents\\OpenAIAssistant\\OpenAIAssistant.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIAssistant/openai.png","id":"openAIAssistant_0","inputAnchors":[{"id":"openAIAssistant_0-input-tools-Tool","label":"Allowed Tools","list":true,"name":"tools","type":"Tool"}],"inputParams":[{"id":"openAIAssistant_0-input-selectedAssistant-asyncOptions","label":"Select Assistant","loadMethod":"listAssistants","name":"selectedAssistant","type":"asyncOptions"}],"inputs":{"selectedAssistant":"","tools":""},"label":"OpenAI Assistant","loadMethod":"listAssistants","loadMethods":{},"name":"openAIAssistant","outputAnchors":[{"id":"openAIAssistant_0-output-openAIAssistant-OpenAIAssistant","label":"OpenAIAssistant","name":"openAIAssistant","type":"OpenAIAssistant"}],"outputs":{},"selected":true,"type":"OpenAIAssistant","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1147","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/openAIAssistant"},"timestamp":"2023-12-15 20:37:23"}
{"level":"info","message":"⬆️ POST /api/v1/node-load-method/openAIAssistant","package":"server","request":{"body":{"baseClasses":["OpenAIAssistant"],"category":"Agents","description":"An agent that uses OpenAI Assistant API to pick the tool and args to call","filePath":"C:\\Users\\pc\\Desktop\\experimentos\\flowise\\Flowise\\node_modules\\flowise-components\\dist\\nodes\\agents\\OpenAIAssistant\\OpenAIAssistant.js","icon":"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIAssistant/openai.png","id":"openAIAssistant_0","inputAnchors":[{"id":"openAIAssistant_0-input-tools-Tool","label":"Allowed Tools","list":true,"name":"tools","type":"Tool"}],"inputParams":[{"id":"openAIAssistant_0-input-selectedAssistant-asyncOptions","label":"Select Assistant","loadMethod":"listAssistants","name":"selectedAssistant","type":"asyncOptions"}],"inputs":{"selectedAssistant":"","tools":""},"label":"OpenAI Assistant","loadMethod":"listAssistants","loadMethods":{},"name":"openAIAssistant","outputAnchors":[{"id":"openAIAssistant_0-output-openAIAssistant-OpenAIAssistant","label":"OpenAIAssistant","name":"openAIAssistant","type":"OpenAIAssistant"}],"outputs":{},"selected":true,"type":"OpenAIAssistant","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1147","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/node-load-method/openAIAssistant"},"timestamp":"2023-12-15 20:38:08"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":351.73512378294635,\"y\":439.0037980646583},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":351.73512378294635,\"y\":439.0037980646583},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":662.274568995198,\"y\":116.44873676155163,\"zoom\":0.35654651384997504}}","isPublic":false,"name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19492","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-12-15 20:43:06"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":647.2633747462546,\"y\":-490.0522035826772,\"zoom\":0.9409318911670792}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19965","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 20:47:05"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"history":[],"question":"Boa noite!","socketIOClientId":"CSWorcm2Pkr5uflIAAAt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 20:47:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"06594b17-5d00-443e-b9b8-cfa64adc5c08","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você no mundo imobiliário hoje?","type":"apiMessage"}],"question":"Quais imoveis diponiveis no centro em Caxias do Sul","socketIOClientId":"CSWorcm2Pkr5uflIAAAt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"311","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 20:47:34"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"06594b17-5d00-443e-b9b8-cfa64adc5c08","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você no mundo imobiliário hoje?","type":"apiMessage"},{"message":"Quais imoveis diponiveis no centro em Caxias do Sul","type":"userMessage"},{"message":"Temos disponível no momento um Box no Ed. Garagem Center, localizado no Centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00. \n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"}],"question":"Quais imóveis disponiveis no Jardim America","socketIOClientId":"CSWorcm2Pkr5uflIAAAt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"767","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 20:49:50"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"06594b17-5d00-443e-b9b8-cfa64adc5c08","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você no mundo imobiliário hoje?","type":"apiMessage"},{"message":"Quais imoveis diponiveis no centro em Caxias do Sul","type":"userMessage"},{"message":"Temos disponível no momento um Box no Ed. Garagem Center, localizado no Centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00. \n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Quais imóveis disponiveis no Jardim America","type":"userMessage"},{"message":"Temos disponível no momento o Residencial Jardim Margarida, localizado no Jardim América em Caxias do Sul. O imóvel possui 57.98 m², 2 dormitórios, 1 vaga de garagem e está sendo ofertado por R$ 170.000,00.\n\nPara mais informações, você pode acessar o link: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"}],"question":"Tem algum imovel neste bairro a baixo de 170 mil reais","socketIOClientId":"CSWorcm2Pkr5uflIAAAt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1285","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 20:51:43"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"06594b17-5d00-443e-b9b8-cfa64adc5c08","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você no mundo imobiliário hoje?","type":"apiMessage"},{"message":"Quais imoveis diponiveis no centro em Caxias do Sul","type":"userMessage"},{"message":"Temos disponível no momento um Box no Ed. Garagem Center, localizado no Centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00. \n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Quais imóveis disponiveis no Jardim America","type":"userMessage"},{"message":"Temos disponível no momento o Residencial Jardim Margarida, localizado no Jardim América em Caxias do Sul. O imóvel possui 57.98 m², 2 dormitórios, 1 vaga de garagem e está sendo ofertado por R$ 170.000,00.\n\nPara mais informações, você pode acessar o link: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Tem algum imovel neste bairro a baixo de 170 mil reais","type":"userMessage"},{"message":"Desculpe, mas no momento não temos imóveis disponíveis no bairro Jardim América abaixo de R$ 170.000,00. O imóvel mais acessível que temos neste bairro é o Residencial Jardim Margarida, que está sendo ofertado por R$ 170.000,00. \n\nVocê pode acessar o link para mais informações: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"}],"question":"Qual o imovel mais barato de Caxias","socketIOClientId":"CSWorcm2Pkr5uflIAAAt"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1808","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 20:52:15"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"06594b17-5d00-443e-b9b8-cfa64adc5c08","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você no mundo imobiliário hoje?","type":"apiMessage"},{"message":"Quais imoveis diponiveis no centro em Caxias do Sul","type":"userMessage"},{"message":"Temos disponível no momento um Box no Ed. Garagem Center, localizado no Centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00. \n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Quais imóveis disponiveis no Jardim America","type":"userMessage"},{"message":"Temos disponível no momento o Residencial Jardim Margarida, localizado no Jardim América em Caxias do Sul. O imóvel possui 57.98 m², 2 dormitórios, 1 vaga de garagem e está sendo ofertado por R$ 170.000,00.\n\nPara mais informações, você pode acessar o link: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Tem algum imovel neste bairro a baixo de 170 mil reais","type":"userMessage"},{"message":"Desculpe, mas no momento não temos imóveis disponíveis no bairro Jardim América abaixo de R$ 170.000,00. O imóvel mais acessível que temos neste bairro é o Residencial Jardim Margarida, que está sendo ofertado por R$ 170.000,00. \n\nVocê pode acessar o link para mais informações: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Qual o imovel mais barato de Caxias","type":"userMessage"},{"message":"O imóvel mais barato que temos disponível em Caxias do Sul é o Box no Ed. Garagem Center, localizado no Centro da cidade. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00.\n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"}],"question":"Preciso de uma casa no bairro Lourdes","socketIOClientId":"59O2W_VgTzQPjc30AAAv"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"2283","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; lang=eyJpdiI6IklSNnZxR25GWHQyV01XdC9xU3ZWZ0E9PSIsInZhbHVlIjoiRlM2a2p0bG1OY1hGckxwRE5RaHRVR1FQMmpvTTI2SzRlbXgzVHdLend3K0FFUDduYnZCN3dUT0xYUXJSbEk1WiIsIm1hYyI6Ijg3ZWI0YWU3MzNkNGIwNjE3OGEwMWIyOTRkMTU1ZjNjZThiOGEzOTdlNDcwMDVkMmMwZGI0OTNhZjQwM2FlZjUiLCJ0YWciOiIifQ%3D%3D; XSRF-TOKEN=eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0%3D; localproject_session=eyJpdiI6ImxFMWZyVWpkQlRHeWFIbkg3WWNDU1E9PSIsInZhbHVlIjoiNVFqRUxXTFk3QVQ1a01COVI0bjFySW9Qa2hCd2JUU2RtSXhET0sxQTh0Z1NhZy93d2ZHWUdkY3pacXM1TW1GbWoxOVVwMUxlUDEzVnRIYUxVNXp5MytFNlBhUUt5eEdSSG56ZEYvUlJ5N1YxZHBVV2Z6TTMvSWc0WWozejNHMWgiLCJtYWMiOiJmNjI2YTg0ZThhMzlhNzA0MjRkNjQyNjAxOTBkZjg3ZGRmMTQxNjViZmEzYmUxM2RiM2MxNTQ5OTExOGZkNjMyIiwidGFnIjoiIn0%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36","x-xsrf-token":"eyJpdiI6IjVDUEZXeEZRc3crS0ZWSHBOQUhXcUE9PSIsInZhbHVlIjoiQ1d1M0Q3NGV3eGFQQVFJcFNOdXhNdzFPSFpGZE5GYWFPTnJJcm9WM0VDeXBsdmU2akRodzJVYmd0ZUx6OXVkdUJUK25TUmNuUTF1akZ0R0t3Q293aS9zRWx3dHRSUm5ETjJXeDZsWEc4aWFqaGx3NENkVWI0c1JXWjNXZkNuajMiLCJtYWMiOiI5NzMxOTFhNzA2ZTRkZGE1ODhjZTc5MDlkODc1MDY3YjBkNmI2ZWQ3ZTkxMWEwMzNkNjgyMWY5NTUwNTAwOGQ0IiwidGFnIjoiIn0="},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 20:53:21"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":615.3108537999918,\"y\":30.122485020032144,\"zoom\":0.4218918866985774}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19965","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 21:07:39"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil2\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":603.3108537999918,\"y\":26.122485020032144,\"zoom\":0.4218918866985774}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19965","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19ZNUt4qmzDZAYfXoShJRXCTl798p7pkFXTklm3JgbeeyBOFZ3lNuvpOwCPCqtNqJSrLZ1YGU2GLg%3D%3D; rl_group_id=RudderEncrypt%3AU2FsdGVkX19SavfmQmIuKvvA4dIx6nWJQZj94oP1t88%3D; rl_group_trait=RudderEncrypt%3AU2FsdGVkX19oUF9gw3QToyCE72aqEDZBbr%2FURtdiJMs%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BRTcl1wEcClsZ1LdYyWL4CCWA9IsDivNRFmBbV5HLLnyStIZXQjzLu1eXtcojlM73dIOh6SHMhcQOwWBt%2B8ZrmtA3agRfE7OT3j5jM%2BWJv6msBpYOG8UPSoSFRgF5Sle9nZJ%2FAREyGz0G7f1q%2FIpJzxKeDXXHmS%2F8%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19wvyNUs5RV%2BgDC0WjYhA%2FByEjSYNXhjR3uhUJ%2FfAKRpYeDMUXvkCiWBnp4oagz1BS%2FhDFGeOd5AAb28zXAT6f1HosuNEg9fvDhv%2FsRAaSTQf3Z6x1totQ8ZzGWO%2FE8DF2uobWLEW%2BuUm%2FGEUFGrdM%2Fr%2F4n8hA%2FljM%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FEYDvVb3%2BW5AzKUGsHHxBnfn4gu4lZM1eLCcV9KOhVZnnSRG8LQ2pLMvS3lI%2Fyj27%2Bsfl4ZmN7RzZljTFMOff81dnJHyAPtzgcwEQWxhAile5XQr4ykezmZfC6NQNuc14FJayqesXdSw%3D%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-15 21:07:52"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":654,\"id\":\"RedisUpsert_0\",\"position\":{\"x\":470,\"y\":90},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"document\":\"\",\"embeddings\":\"\",\"indexName\":\"perfil3\",\"replaceIndex\":\"\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Upsert Document\",\"name\":\"RedisUpsert\",\"version\":1,\"description\":\"Upsert documents to Redis\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Upsert.js\",\"inputAnchors\":[{\"label\":\"Document\",\"name\":\"document\",\"type\":\"Document\",\"list\":true,\"id\":\"RedisUpsert_0-input-document-Document\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisUpsert_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisUpsert_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisUpsert_0-input-indexName-string\"},{\"label\":\"Replace Index?\",\"name\":\"replaceIndex\",\"description\":\"Selecting this option will delete the existing index and recreate a new one\",\"default\":false,\"type\":\"boolean\",\"id\":\"RedisUpsert_0-input-replaceIndex-boolean\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisUpsert_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisUpsert_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisUpsert_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisUpsert_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisUpsert_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisUpsert_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisUpsert_0\",\"selected\":false},\"selected\":true,\"dragging\":false,\"positionAbsolute\":{\"x\":470,\"y\":90}}],\"edges\":[],\"viewport\":{\"x\":190.89546844592724,\"y\":-45.47998331943285,\"zoom\":0.7937169863775367}}","isPublic":false,"name":"redis"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"3741","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-12-15 21:28:10"}
{"level":"info","message":"⬆️ POST /api/v1/node-config","package":"server","request":{"body":{"baseClasses":["WebBrowser","Tool","StructuredTool","BaseLangChain"],"category":"Tools","description":"Gives agent the ability to visit a website and extract information","id":"webBrowser_0","inputAnchors":[{"id":"webBrowser_0-input-model-BaseLanguageModel","label":"Language Model","name":"model","type":"BaseLanguageModel"},{"id":"webBrowser_0-input-embeddings-Embeddings","label":"Embeddings","name":"embeddings","type":"Embeddings"}],"inputParams":[],"inputs":{"embeddings":"{{openAIEmbeddings_0.data.instance}}","model":"{{chatOpenAI_0.data.instance}}"},"label":"Web Browser","name":"webBrowser","outputAnchors":[{"id":"webBrowser_0-output-webBrowser-WebBrowser|Tool|StructuredTool|BaseLangChain","label":"WebBrowser","name":"webBrowser","type":"WebBrowser | Tool | StructuredTool | BaseLangChain"}],"outputs":{},"selected":true,"type":"WebBrowser","version":1},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"867","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/node-config"},"timestamp":"2023-12-15 22:41:57"}
{"level":"info","message":"⬆️ POST /api/v1/chatflows","package":"server","request":{"body":{"deployed":false,"flowData":"{\"nodes\":[{\"width\":300,\"height\":378,\"id\":\"bufferMemory_0\",\"position\":{\"x\":457.04304716743604,\"y\":362.4048129799687},\"type\":\"customNode\",\"data\":{\"id\":\"bufferMemory_0\",\"label\":\"Buffer Memory\",\"name\":\"bufferMemory\",\"version\":1,\"type\":\"BufferMemory\",\"baseClasses\":[\"BufferMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Remembers previous conversational back and forths directly\",\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferMemory_0-input-inputKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\"},\"outputAnchors\":[{\"id\":\"bufferMemory_0-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferMemory\",\"label\":\"BufferMemory\",\"type\":\"BufferMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":457.04304716743604,\"y\":362.4048129799687},\"dragging\":false},{\"width\":300,\"height\":281,\"id\":\"webBrowser_0\",\"position\":{\"x\":1091.0866823400172,\"y\":-16.43806989958216},\"type\":\"customNode\",\"data\":{\"id\":\"webBrowser_0\",\"label\":\"Web Browser\",\"name\":\"webBrowser\",\"version\":1,\"type\":\"WebBrowser\",\"baseClasses\":[\"WebBrowser\",\"Tool\",\"StructuredTool\",\"BaseLangChain\"],\"category\":\"Tools\",\"description\":\"Gives agent the ability to visit a website and extract information\",\"inputParams\":[],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"webBrowser_0-input-model-BaseLanguageModel\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"webBrowser_0-input-embeddings-Embeddings\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\"},\"outputAnchors\":[{\"id\":\"webBrowser_0-output-webBrowser-WebBrowser|Tool|StructuredTool|BaseLangChain\",\"name\":\"webBrowser\",\"label\":\"WebBrowser\",\"type\":\"WebBrowser | Tool | StructuredTool | BaseLangChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1091.0866823400172,\"y\":-16.43806989958216},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_0\",\"position\":{\"x\":1464.513303631911,\"y\":155.73036805253955},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalAgent_0\",\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\"],\"category\":\"Agents\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_0-input-systemMessage-string\"}],\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_0-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_0-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_0-input-memory-BaseChatMemory\"}],\"inputs\":{\"tools\":[\"{{webBrowser_0.data.instance}}\"],\"model\":\"{{chatOpenAI_1.data.instance}}\",\"memory\":\"{{bufferMemory_0.data.instance}}\",\"systemMessage\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\"},\"outputAnchors\":[{\"id\":\"conversationalAgent_0-output-conversationalAgent-AgentExecutor|BaseChain\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1464.513303631911,\"y\":155.73036805253955},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":734.7477982032904,\"y\":-470.9979556765114},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":true,\"positionAbsolute\":{\"x\":734.7477982032904,\"y\":-470.9979556765114},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":403.72014625628697,\"y\":-103.82540449681527},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":403.72014625628697,\"y\":-103.82540449681527},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":68.312124033115,\"y\":-239.65476709991256},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":68.312124033115,\"y\":-239.65476709991256},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"webBrowser_0\",\"targetHandle\":\"webBrowser_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-webBrowser_0-webBrowser_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"},\"selected\":false},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel\",\"target\":\"webBrowser_0\",\"targetHandle\":\"webBrowser_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel-webBrowser_0-webBrowser_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel-conversationalAgent_0-conversationalAgent_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"webBrowser_0\",\"sourceHandle\":\"webBrowser_0-output-webBrowser-WebBrowser|Tool|StructuredTool|BaseLangChain\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"webBrowser_0-webBrowser_0-output-webBrowser-WebBrowser|Tool|StructuredTool|BaseLangChain-conversationalAgent_0-conversationalAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferMemory_0\",\"sourceHandle\":\"bufferMemory_0-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferMemory_0-bufferMemory_0-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory-conversationalAgent_0-conversationalAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-270.0160045578973,\"y\":101.6627021507868,\"zoom\":0.6597539553864471}}","isPublic":false,"name":"web brwser chat"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"17512","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/chatflows"},"timestamp":"2023-12-15 22:42:43"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/638251ad-75f1-45d9-a851-15a3ca9a4639","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":378,\"id\":\"bufferMemory_0\",\"position\":{\"x\":457.04304716743604,\"y\":362.4048129799687},\"type\":\"customNode\",\"data\":{\"id\":\"bufferMemory_0\",\"label\":\"Buffer Memory\",\"name\":\"bufferMemory\",\"version\":1,\"type\":\"BufferMemory\",\"baseClasses\":[\"BufferMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"category\":\"Memory\",\"description\":\"Remembers previous conversational back and forths directly\",\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferMemory_0-input-inputKey-string\"}],\"inputAnchors\":[],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\"},\"outputAnchors\":[{\"id\":\"bufferMemory_0-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferMemory\",\"label\":\"BufferMemory\",\"type\":\"BufferMemory | BaseChatMemory | BaseMemory\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":457.04304716743604,\"y\":362.4048129799687},\"dragging\":false},{\"width\":300,\"height\":281,\"id\":\"webBrowser_0\",\"position\":{\"x\":1091.0866823400172,\"y\":-16.43806989958216},\"type\":\"customNode\",\"data\":{\"id\":\"webBrowser_0\",\"label\":\"Web Browser\",\"name\":\"webBrowser\",\"version\":1,\"type\":\"WebBrowser\",\"baseClasses\":[\"WebBrowser\",\"Tool\",\"StructuredTool\",\"BaseLangChain\"],\"category\":\"Tools\",\"description\":\"Gives agent the ability to visit a website and extract information\",\"inputParams\":[],\"inputAnchors\":[{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"webBrowser_0-input-model-BaseLanguageModel\"},{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"webBrowser_0-input-embeddings-Embeddings\"}],\"inputs\":{\"model\":\"{{chatOpenAI_0.data.instance}}\",\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\"},\"outputAnchors\":[{\"id\":\"webBrowser_0-output-webBrowser-WebBrowser|Tool|StructuredTool|BaseLangChain\",\"name\":\"webBrowser\",\"label\":\"WebBrowser\",\"type\":\"WebBrowser | Tool | StructuredTool | BaseLangChain\"}],\"outputs\":{},\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":1091.0866823400172,\"y\":-16.43806989958216},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"conversationalAgent_0\",\"position\":{\"x\":1464.513303631911,\"y\":155.73036805253955},\"type\":\"customNode\",\"data\":{\"id\":\"conversationalAgent_0\",\"label\":\"Conversational Agent\",\"name\":\"conversationalAgent\",\"version\":1,\"type\":\"AgentExecutor\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\"],\"category\":\"Agents\",\"description\":\"Conversational agent for a chat model. It will utilize chat specific prompts\",\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"default\":\"Assistant is a large language model trained by OpenAI.\\n\\nAssistant is designed to be able to assist with a wide range of tasks, from answering simple questions to providing in-depth explanations and discussions on a wide range of topics. As a language model, Assistant is able to generate human-like text based on the input it receives, allowing it to engage in natural-sounding conversations and provide responses that are coherent and relevant to the topic at hand.\\n\\nAssistant is constantly learning and improving, and its capabilities are constantly evolving. It is able to process and understand large amounts of text, and can use this knowledge to provide accurate and informative responses to a wide range of questions. Additionally, Assistant is able to generate its own text based on the input it receives, allowing it to engage in discussions and provide explanations and descriptions on a wide range of topics.\\n\\nOverall, Assistant is a powerful system that can help with a wide range of tasks and provide valuable insights and information on a wide range of topics. Whether you need help with a specific question or just want to have a conversation about a particular topic, Assistant is here to assist.\",\"optional\":true,\"additionalParams\":true,\"id\":\"conversationalAgent_0-input-systemMessage-string\"}],\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"conversationalAgent_0-input-tools-Tool\"},{\"label\":\"Language Model\",\"name\":\"model\",\"type\":\"BaseLanguageModel\",\"id\":\"conversationalAgent_0-input-model-BaseLanguageModel\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"conversationalAgent_0-input-memory-BaseChatMemory\"}],\"inputs\":{\"tools\":[\"{{webBrowser_0.data.instance}}\"],\"model\":\"{{chatOpenAI_1.data.instance}}\",\"memory\":\"{{bufferMemory_0.data.instance}}\",\"systemMessage\":\"Passe informações sobre a URL: https://perfilimoveiscaxias.com.br/imoveis/6579\"},\"outputAnchors\":[{\"id\":\"conversationalAgent_0-output-conversationalAgent-AgentExecutor|BaseChain\",\"name\":\"conversationalAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain\"}],\"outputs\":{},\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":1464.513303631911,\"y\":155.73036805253955},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":734.7477982032904,\"y\":-470.9979556765114},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_0\",\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputs\":{\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":734.7477982032904,\"y\":-470.9979556765114},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":403.72014625628697,\"y\":-103.82540449681527},\"type\":\"customNode\",\"data\":{\"id\":\"openAIEmbeddings_0\",\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"inputAnchors\":[],\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":403.72014625628697,\"y\":-103.82540449681527},\"dragging\":false},{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_1\",\"position\":{\"x\":68.312124033115,\"y\":-239.65476709991256},\"type\":\"customNode\",\"data\":{\"id\":\"chatOpenAI_1\",\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\"],\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_1-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_1-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_1-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_1-input-baseOptions-json\"}],\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_1-input-cache-BaseCache\"}],\"inputs\":{\"modelName\":\"gpt-3.5-turbo\",\"temperature\":0.9,\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"outputAnchors\":[{\"id\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel\"}],\"outputs\":{},\"selected\":false,\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\"},\"selected\":false,\"positionAbsolute\":{\"x\":68.312124033115,\"y\":-239.65476709991256},\"dragging\":false}],\"edges\":[{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"webBrowser_0\",\"targetHandle\":\"webBrowser_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-webBrowser_0-webBrowser_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"},\"selected\":false},{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel\",\"target\":\"webBrowser_0\",\"targetHandle\":\"webBrowser_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel-webBrowser_0-webBrowser_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"chatOpenAI_1\",\"sourceHandle\":\"chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-model-BaseLanguageModel\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_1-chatOpenAI_1-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel-conversationalAgent_0-conversationalAgent_0-input-model-BaseLanguageModel\",\"data\":{\"label\":\"\"}},{\"source\":\"webBrowser_0\",\"sourceHandle\":\"webBrowser_0-output-webBrowser-WebBrowser|Tool|StructuredTool|BaseLangChain\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"webBrowser_0-webBrowser_0-output-webBrowser-WebBrowser|Tool|StructuredTool|BaseLangChain-conversationalAgent_0-conversationalAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferMemory_0\",\"sourceHandle\":\"bufferMemory_0-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory\",\"target\":\"conversationalAgent_0\",\"targetHandle\":\"conversationalAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferMemory_0-bufferMemory_0-output-bufferMemory-BufferMemory|BaseChatMemory|BaseMemory-conversationalAgent_0-conversationalAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":-1546.7875099184903,\"y\":-354.5243665074182,\"zoom\":1.2989811659529846}}","name":"web brwser chat"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"16336","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/638251ad-75f1-45d9-a851-15a3ca9a4639","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/638251ad-75f1-45d9-a851-15a3ca9a4639"},"timestamp":"2023-12-15 22:44:53"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/638251ad-75f1-45d9-a851-15a3ca9a4639","package":"server","request":{"body":{"history":[],"question":"Ola"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"31","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/638251ad-75f1-45d9-a851-15a3ca9a4639","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/638251ad-75f1-45d9-a851-15a3ca9a4639"},"timestamp":"2023-12-15 22:44:59"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/638251ad-75f1-45d9-a851-15a3ca9a4639","package":"server","request":{"body":{"chatId":"877bea04-b586-4583-9e9d-7423e943acd0","history":[{"message":"Ola","type":"userMessage"},{"message":"Olá! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Podeia me passar informações sobre a URL https://perfilimoveiscaxias.com.br/imoveis/6579"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"274","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/638251ad-75f1-45d9-a851-15a3ca9a4639","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/638251ad-75f1-45d9-a851-15a3ca9a4639"},"timestamp":"2023-12-15 22:45:28"}
{"level":"info","message":"❌ DELETE /api/v1/chatflows/638251ad-75f1-45d9-a851-15a3ca9a4639","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{},"url":"/api/v1/chatflows/638251ad-75f1-45d9-a851-15a3ca9a4639"},"timestamp":"2023-12-15 22:46:24"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"06594b17-5d00-443e-b9b8-cfa64adc5c08","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você no mundo imobiliário hoje?","type":"apiMessage"},{"message":"Quais imoveis diponiveis no centro em Caxias do Sul","type":"userMessage"},{"message":"Temos disponível no momento um Box no Ed. Garagem Center, localizado no Centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00. \n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Quais imóveis disponiveis no Jardim America","type":"userMessage"},{"message":"Temos disponível no momento o Residencial Jardim Margarida, localizado no Jardim América em Caxias do Sul. O imóvel possui 57.98 m², 2 dormitórios, 1 vaga de garagem e está sendo ofertado por R$ 170.000,00.\n\nPara mais informações, você pode acessar o link: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Tem algum imovel neste bairro a baixo de 170 mil reais","type":"userMessage"},{"message":"Desculpe, mas no momento não temos imóveis disponíveis no bairro Jardim América abaixo de R$ 170.000,00. O imóvel mais acessível que temos neste bairro é o Residencial Jardim Margarida, que está sendo ofertado por R$ 170.000,00. \n\nVocê pode acessar o link para mais informações: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Qual o imovel mais barato de Caxias","type":"userMessage"},{"message":"O imóvel mais barato que temos disponível em Caxias do Sul é o Box no Ed. Garagem Center, localizado no Centro da cidade. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00.\n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Preciso de uma casa no bairro Lourdes","type":"userMessage"},{"message":"Temos disponível no momento a Casa Vila Verde, localizada no bairro Vila Verde em Caxias do Sul. O imóvel possui 482.8 m², 3 dormitórios, 3 suítes, 4 vagas de garagem e está sendo ofertado por R$ 2.700.000,00.\n\nPara mais informações, você pode acessar o link: [Casa Vila Verde](https://perfilimoveiscaxias.com.br/imoveis/7295)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"}],"question":"Boa noite, teria algum imovel no bairro petrópolis?","socketIOClientId":"7T99qvbhhWzCrjqPAAAI"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"2789","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 00:09:36"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"06594b17-5d00-443e-b9b8-cfa64adc5c08","history":[{"message":"Boa noite!","type":"userMessage"},{"message":"Boa noite! Como posso ajudar você no mundo imobiliário hoje?","type":"apiMessage"},{"message":"Quais imoveis diponiveis no centro em Caxias do Sul","type":"userMessage"},{"message":"Temos disponível no momento um Box no Ed. Garagem Center, localizado no Centro de Caxias do Sul. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00. \n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Quais imóveis disponiveis no Jardim America","type":"userMessage"},{"message":"Temos disponível no momento o Residencial Jardim Margarida, localizado no Jardim América em Caxias do Sul. O imóvel possui 57.98 m², 2 dormitórios, 1 vaga de garagem e está sendo ofertado por R$ 170.000,00.\n\nPara mais informações, você pode acessar o link: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Tem algum imovel neste bairro a baixo de 170 mil reais","type":"userMessage"},{"message":"Desculpe, mas no momento não temos imóveis disponíveis no bairro Jardim América abaixo de R$ 170.000,00. O imóvel mais acessível que temos neste bairro é o Residencial Jardim Margarida, que está sendo ofertado por R$ 170.000,00. \n\nVocê pode acessar o link para mais informações: [Residencial Jardim Margarida](https://perfilimoveiscaxias.com.br/imoveis/5771)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Qual o imovel mais barato de Caxias","type":"userMessage"},{"message":"O imóvel mais barato que temos disponível em Caxias do Sul é o Box no Ed. Garagem Center, localizado no Centro da cidade. O imóvel possui 17.00 m² e está sendo ofertado por R$ 20.000,00.\n\nPara mais informações, você pode acessar o link: [Box Ed. Garagem Center](https://perfilimoveiscaxias.com.br/imoveis/6859)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Preciso de uma casa no bairro Lourdes","type":"userMessage"},{"message":"Temos disponível no momento a Casa Vila Verde, localizada no bairro Vila Verde em Caxias do Sul. O imóvel possui 482.8 m², 3 dormitórios, 3 suítes, 4 vagas de garagem e está sendo ofertado por R$ 2.700.000,00.\n\nPara mais informações, você pode acessar o link: [Casa Vila Verde](https://perfilimoveiscaxias.com.br/imoveis/7295)\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"},{"message":"Boa noite, teria algum imovel no bairro petrópolis?","type":"userMessage"},{"message":"Temos duas opções de imóveis no bairro Petrópolis em Caxias do Sul:\n\n1. [Casa Petrópolis](https://perfilimoveiscaxias.com.br/imoveis/7417): Com 892.37 m², 5 dormitórios, 3 suítes, 5 vagas de garagem e diversos outros recursos como churrasqueira, closet, espera para calefação, hidromassagem, home office, lareira, lavabo, pátio, sacada, semi mobiliado, split, suíte americana e suíte master. O imóvel está sendo ofertado por R$ 2.989.000,00 e a permuta é avaliada.\n\n2. [Residencial Tonolli](https://perfilimoveiscaxias.com.br/imoveis/5530): Com 27.7 m², 1 dormitório, 1 vaga de garagem, sacada e semi mobiliado. O imóvel está sendo ofertado por R$ 160.000,00.\n\nPosso ajudar com mais alguma informação?","type":"apiMessage"}],"question":"teria algum imovel no bairro São Luiz?","socketIOClientId":"7T99qvbhhWzCrjqPAAAI"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"3628","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 00:11:07"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=06594b17-5d00-443e-b9b8-cfa64adc5c08&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"06594b17-5d00-443e-b9b8-cfa64adc5c08","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=06594b17-5d00-443e-b9b8-cfa64adc5c08&chatType=INTERNAL"},"timestamp":"2023-12-16 18:19:26"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":772.6702173033823,\"y\":-39.17521356224535,\"zoom\":0.7345564392310224}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19966","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:19:34"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":637.1150421769579,\"y\":138.03290835267316,\"zoom\":0.42189188669857747}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19967","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:30:03"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":624.0865368190343,\"y\":123.3850696860381,\"zoom\":0.42190241315133803}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19966","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:30:34"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"IKlFiTsjda8_Evr6AAAM"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:30:39"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"aa03bdc3-e93b-41f9-8290-1980e87becb4","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje? Você está procurando informações sobre algum imóvel específico?","type":"apiMessage"}],"question":"Teria um algum imovel no bairro Loures?","socketIOClientId":"IKlFiTsjda8_Evr6AAAM"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"347","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:30:54"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"aa03bdc3-e93b-41f9-8290-1980e87becb4","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje? Você está procurando informações sobre algum imóvel específico?","type":"apiMessage"},{"message":"Teria um algum imovel no bairro Loures?","type":"userMessage"},{"message":"Temos várias opções de imóveis no bairro Lourdes. Aqui estão alguns deles:\n\n1. [Residencial Dona Thereza](https://perfilimoveiscaxias.com.br/imoveis/6286): Apartamento semi mobiliado com 03 dormitórios sendo 01 suíte, sala com lareira e sacada, churrasqueira com cooktop na cozinha, área de serviço com fogão a lenha, e 02 vagas de garagem. O empreendimento possui elevador. O preço é de R$ 750.000,00.\n\n2. [Terreno No Bairro Lourdes](https://perfilimoveiscaxias.com.br/imoveis/5901): Terreno com casa, com área total de 942,83 m², sendo 22 m de frente para a rua. O preço é de R$ 3.800.000,00 e aceita permuta.\n\n3. [Terreno Em Lourdes](https://perfilimoveiscaxias.com.br/imoveis/2311): Terreno no bairro Nossa Senhora de Lourdes, com área total de 770,00m². O preço é de R$ 2.320.000,00.\n\n4. [de Carli Residence](https://perfilimoveiscaxias.com.br/imoveis/7484): Apartamento com 03 suítes sendo 01 máster com closet, hidro e sacada, amplo living 03 ambientes, cozinha com churrasqueira integrada, lavanderia individual, lavabo e 02 vagas de garagem. O empreendimento possui salão de festas mobiliado, fitness, playground, brinquedoteca, piscina aquecida, guarita 24 horas, 2 elevadores sendo 1 privativo e 1 com biometria. O preço é de R$ 1.390.000,00.\n\n5. [Terreno No Bairro Lourdes](https://perfilimoveiscaxias.com.br/imoveis/6040): Terreno com área total de 323,66 m². O preço é de R$ 550.000,00.\n\nPor favor, clique nos links para mais informações. Se você precisar de mais assistência ou quiser agendar uma visita, estou à disposição!","type":"apiMessage"}],"question":"Preciso de um apartamento com valor menor que R$500.000,00","socketIOClientId":"IKlFiTsjda8_Evr6AAAM"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"2063","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:31:53"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"aa03bdc3-e93b-41f9-8290-1980e87becb4","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje? Você está procurando informações sobre algum imóvel específico?","type":"apiMessage"},{"message":"Teria um algum imovel no bairro Loures?","type":"userMessage"},{"message":"Temos várias opções de imóveis no bairro Lourdes. Aqui estão alguns deles:\n\n1. [Residencial Dona Thereza](https://perfilimoveiscaxias.com.br/imoveis/6286): Apartamento semi mobiliado com 03 dormitórios sendo 01 suíte, sala com lareira e sacada, churrasqueira com cooktop na cozinha, área de serviço com fogão a lenha, e 02 vagas de garagem. O empreendimento possui elevador. O preço é de R$ 750.000,00.\n\n2. [Terreno No Bairro Lourdes](https://perfilimoveiscaxias.com.br/imoveis/5901): Terreno com casa, com área total de 942,83 m², sendo 22 m de frente para a rua. O preço é de R$ 3.800.000,00 e aceita permuta.\n\n3. [Terreno Em Lourdes](https://perfilimoveiscaxias.com.br/imoveis/2311): Terreno no bairro Nossa Senhora de Lourdes, com área total de 770,00m². O preço é de R$ 2.320.000,00.\n\n4. [de Carli Residence](https://perfilimoveiscaxias.com.br/imoveis/7484): Apartamento com 03 suítes sendo 01 máster com closet, hidro e sacada, amplo living 03 ambientes, cozinha com churrasqueira integrada, lavanderia individual, lavabo e 02 vagas de garagem. O empreendimento possui salão de festas mobiliado, fitness, playground, brinquedoteca, piscina aquecida, guarita 24 horas, 2 elevadores sendo 1 privativo e 1 com biometria. O preço é de R$ 1.390.000,00.\n\n5. [Terreno No Bairro Lourdes](https://perfilimoveiscaxias.com.br/imoveis/6040): Terreno com área total de 323,66 m². O preço é de R$ 550.000,00.\n\nPor favor, clique nos links para mais informações. Se você precisar de mais assistência ou quiser agendar uma visita, estou à disposição!","type":"apiMessage"},{"message":"Preciso de um apartamento com valor menor que R$500.000,00","type":"userMessage"},{"message":"Encontrei algumas opções de apartamentos com valor menor que R$500.000,00. Aqui estão eles:\n\n1. [Residencial Florianópolis](https://perfilimoveiscaxias.com.br/imoveis/7461): Apartamento semimobiliado no bairro Charqueadas, com 03 dormitórios sendo 01 com suíte, living com sacada, ampla cozinha integrando ao living, churrasqueira na lavanderia, split e 02 vagas de garagem. O empreendimento possui elevador. O preço é de R$ 500.000,00.\n\n2. [Residencial Retore](https://perfilimoveiscaxias.com.br/imoveis/5670): Apartamento semi mobiliado no bairro São José, com 03 dormitórios sendo 01 suíte com sacada, living com sacada, banheiro social, churrasqueira na área de serviço, e 01 vaga de garagem. O preço é de R$ 380.000,00.\n\n3. [Residencial Villa Rosso](https://perfilimoveiscaxias.com.br/imoveis/6297): Apartamentos no bairro Jardim América, com 02 dormitórios sendo 01 suíte, living com sacada, churrasqueira, área de serviço com sacada, banheiro social, e 02 vagas de garagem. Empreendimento com salão de festas e elevador. O preço é de R$ 420.000,00.\n\n4. [Residencial Dr. Luiz Mezzalira](https://perfilimoveiscaxias.com.br/imoveis/6072): Apartamento no bairro Jardim América, com 03 dormitórios sendo 01 suíte, 02 sacadas, churrasqueira, área de serviço separada, e 01 vaga de garagem. O preço é de R$ 420.000,00.\n\nPor favor, clique nos links para mais informações. Se você precisar de mais assistência ou quiser agendar uma visita, estou à disposição!","type":"apiMessage"}],"question":"Preciso que seja no bairo Lourdes","socketIOClientId":"ilQO4x9m2r_WPQC6AAAO"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"3672","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:33:45"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":921.3117977779657,\"y\":146.88692316166777,\"zoom\":0.7345564392310228}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19966","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:51:14"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=aa03bdc3-e93b-41f9-8290-1980e87becb4&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"aa03bdc3-e93b-41f9-8290-1980e87becb4","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=aa03bdc3-e93b-41f9-8290-1980e87becb4&chatType=INTERNAL"},"timestamp":"2023-12-16 18:59:11"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"dgao2rEQJa5_9u4nAAAS"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:59:15"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"7efc217d-9f46-440e-9bd3-8caf34d0d3f7","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje? Você está procurando informações sobre algum imóvel específico?","type":"apiMessage"}],"question":"Preciso de um apartamento no bairro Jardim América, com valor a baixo de 500 mi reais","socketIOClientId":"dgao2rEQJa5_9u4nAAAS"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"394","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 18:59:44"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"7efc217d-9f46-440e-9bd3-8caf34d0d3f7","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje? Você está procurando informações sobre algum imóvel específico?","type":"apiMessage"},{"message":"Preciso de um apartamento no bairro Jardim América, com valor a baixo de 500 mi reais","type":"userMessage"},{"message":"Encontrei algumas opções de apartamentos no bairro Jardim América que podem te interessar:\n\n1. [Residencial Dr. Luiz Mezzalira](https://perfilimoveiscaxias.com.br/imoveis/6072): Apartamento com 03 dormitórios sendo 01 suíte, 02 sacadas, churrasqueira, área de serviço separada, e 01 vaga de garagem. O preço é de R$ 420.000,00.\n\n2. [Residencial Villa Rosso](https://perfilimoveiscaxias.com.br/imoveis/6297): Apartamentos com 02 dormitórios sendo 01 suíte, living com sacada, churrasqueira, área de serviço com sacada, banheiro social, e 02 vagas de garagem. O empreendimento conta com salão de festas e elevador. O preço é de R$ 420.000,00.\n\nPor favor, clique nos links para obter mais informações sobre cada imóvel. Se precisar de mais assistência, estou à disposição!","type":"apiMessage"}],"question":"teria algum imovel nesta mesma faixa de preço no bairro São Luiz?","socketIOClientId":"pv1hsS636zr-uyyYAAAU"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1330","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:08:24"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=7efc217d-9f46-440e-9bd3-8caf34d0d3f7&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"7efc217d-9f46-440e-9bd3-8caf34d0d3f7","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=7efc217d-9f46-440e-9bd3-8caf34d0d3f7&chatType=INTERNAL"},"timestamp":"2023-12-16 19:09:30"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"7efc217d-9f46-440e-9bd3-8caf34d0d3f7","history":[],"question":"Boa tarde!\nvocê teria algum apartamento no bairro São Luiz?","socketIOClientId":"1QCcNaWslc5cDaUYAAAW"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"180","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:09:51"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"7efc217d-9f46-440e-9bd3-8caf34d0d3f7","history":[{"message":"Boa tarde!\nvocê teria algum apartamento no bairro São Luiz?","type":"userMessage"},{"message":"Boa tarde! Encontrei algumas opções de imóveis para você. No bairro São Luiz, temos disponível um sobrado com 02 dormitórios, sacada, varanda com churrasqueira, lavabo, área de serviço, banheiro social, e 02 vagas de garagem. O preço é de R$372.900,00 e o código para busca no site é 5977. Você pode visualizar mais detalhes [aqui](https://perfilimoveiscaxias.com.br/imoveis/5977).\n\nInfelizmente, não encontrei apartamentos disponíveis no bairro São Luiz. No entanto, temos opções em outros bairros que podem te interessar. \n\nPor exemplo, no bairro Exposição temos um apartamento de alto padrão disponível. O Quinta São Luiz é um empreendimento contemporâneo e inovador, com ampla varanda gourmet com churrasqueira, espera para lareira e área social composta por 3 ambientes. O prédio possui infraestrutura completa, com 3 salões de festas, academia, brinquedoteca, piscina aquecida adulto e infantil, rooftop com lounge para curtir o pôr do sol e Lifestyle gastronômico, cultural e de negócios. O preço é de R$3.258.000,00 e o código para busca no site é 5463. Você pode visualizar mais detalhes [aqui](https://perfilimoveiscaxias.com.br/imoveis/5463).\n\nEspero ter ajudado! Se precisar de mais informações, estou à disposição.","type":"apiMessage"}],"question":"Teria alguma opção abaixo de 1 milão de reais no bairro exposição?","socketIOClientId":"1QCcNaWslc5cDaUYAAAW"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1596","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:11:38"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-3.5-turbo\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":537.5827937039628,\"y\":141.24587400889413,\"zoom\":0.42189188669857747}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19969","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:16:57"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=7efc217d-9f46-440e-9bd3-8caf34d0d3f7&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"7efc217d-9f46-440e-9bd3-8caf34d0d3f7","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=7efc217d-9f46-440e-9bd3-8caf34d0d3f7&chatType=INTERNAL"},"timestamp":"2023-12-16 19:17:01"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"3b_gzwaFrK_RU_tsAAAa"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:17:06"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"be105d86-4882-4ddf-b916-d98f93e4f710","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Você teria algum apartamento no centro com valor inferior a 500 mil reais","socketIOClientId":"3b_gzwaFrK_RU_tsAAAa"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"312","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:17:46"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=be105d86-4882-4ddf-b916-d98f93e4f710&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"be105d86-4882-4ddf-b916-d98f93e4f710","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=be105d86-4882-4ddf-b916-d98f93e4f710&chatType=INTERNAL"},"timestamp":"2023-12-16 19:18:36"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"Emtf9Xs068qukYceAAAc"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:18:42"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"dc30b0c7-edf6-4339-9097-392c1f709e5f","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"você teria algum apartamento no bairro São Luiz?","socketIOClientId":"Emtf9Xs068qukYceAAAc"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"288","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:18:58"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=dc30b0c7-edf6-4339-9097-392c1f709e5f&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"dc30b0c7-edf6-4339-9097-392c1f709e5f","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=dc30b0c7-edf6-4339-9097-392c1f709e5f&chatType=INTERNAL"},"timestamp":"2023-12-16 19:20:22"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"PoHYeOWp1cWhIiV9AAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:20:27"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"fd53b3e8-59a5-4edf-8bdd-0d6f292b9ef8","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Você preciso de um apartamento no bairro Jardim América, com valor inferior a 500 mil reais","socketIOClientId":"PoHYeOWp1cWhIiV9AAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"331","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:20:51"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"fd53b3e8-59a5-4edf-8bdd-0d6f292b9ef8","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Você preciso de um apartamento no bairro Jardim América, com valor inferior a 500 mil reais","type":"userMessage"},{"message":"Encontrei alguns apartamentos no bairro Jardim América com valor inferior a 500 mil reais. Aqui estão algumas opções:\n\n1. [Residencial Dr. Luiz Mezzalira](https://perfilimoveiscaxias.com.br/imoveis/6072): Apartamento com 3 dormitórios, sendo 1 suíte, 2 sacadas, churrasqueira, área de serviço separada e 1 vaga de garagem. Preço: R$ 420.000,00.\n\n2. [Residencial Villa Rosso](https://perfilimoveiscaxias.com.br/imoveis/6297): Apartamentos com 2 dormitórios, sendo 1 suíte, living com sacada, churrasqueira, área de serviço com sacada, banheiro social e 2 vagas de garagem. O empreendimento possui salão de festas e elevador. Preço: R$ 420.000,00.\n\nEssas são apenas algumas opções disponíveis. Se você quiser mais informações sobre algum desses imóveis ou se tiver alguma outra preferência, é só me dizer!","type":"apiMessage"}],"question":"Você teria algum casa disponivel nessa mesma faixa de preço?","socketIOClientId":"PoHYeOWp1cWhIiV9AAAj"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1299","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:21:40"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-3.5-turbo-1106\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":724.6436748798199,\"y\":10.881205651532326,\"zoom\":0.6185818980857456}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19973","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:24:06"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=fd53b3e8-59a5-4edf-8bdd-0d6f292b9ef8&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"fd53b3e8-59a5-4edf-8bdd-0d6f292b9ef8","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=fd53b3e8-59a5-4edf-8bdd-0d6f292b9ef8&chatType=INTERNAL"},"timestamp":"2023-12-16 19:24:09"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"fNy2QNcBfXSsLUEmAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:24:14"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"20e61144-3c0c-446f-be63-ee696c118197","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"}],"question":"Você teria algum apartamento no bairro Jardim América  com valor inferiro a 500 mil reais?","socketIOClientId":"fNy2QNcBfXSsLUEmAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"330","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:24:43"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"20e61144-3c0c-446f-be63-ee696c118197","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Você teria algum apartamento no bairro Jardim América  com valor inferiro a 500 mil reais?","type":"userMessage"},{"message":"Sim, temos algumas opções de apartamentos no bairro Jardim América com valor inferior a 500 mil reais. Aqui estão algumas delas:\n\n1. Residencial Dr. Luiz Mezzalira\n   - Preço: R$ 420.000,00\n   - Descrição: Apartamento com 03 dormitórios sendo 01 suíte, 02 sacadas, churrasqueira, área de serviço separada, e 01 vaga de garagem.\n   - [Mais informações](https://perfilimoveiscaxias.com.br/imoveis/6072)\n\n2. Residencial Villa Rosso\n   - Preço: R$ 420.000,00\n   - Descrição: Apartamentos com 02 dormitórios sendo 01 suíte, living com sacada, churrasqueira, área de serviço com sacada, banheiro social, e 02 vagas de garagem. Empreendimento com salão de festas e elevador.\n   - [Mais informações](https://perfilimoveiscaxias.com.br/imoveis/6297)\n\nEssas são algumas opções disponíveis. Se precisar de mais informações sobre algum desses imóveis, estou à disposição para ajudar.","type":"apiMessage"}],"question":"Você teria alguma saca nesta mesma faixa de preço?","socketIOClientId":"fNy2QNcBfXSsLUEmAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1369","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:25:21"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"20e61144-3c0c-446f-be63-ee696c118197","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Você teria algum apartamento no bairro Jardim América  com valor inferiro a 500 mil reais?","type":"userMessage"},{"message":"Sim, temos algumas opções de apartamentos no bairro Jardim América com valor inferior a 500 mil reais. Aqui estão algumas delas:\n\n1. Residencial Dr. Luiz Mezzalira\n   - Preço: R$ 420.000,00\n   - Descrição: Apartamento com 03 dormitórios sendo 01 suíte, 02 sacadas, churrasqueira, área de serviço separada, e 01 vaga de garagem.\n   - [Mais informações](https://perfilimoveiscaxias.com.br/imoveis/6072)\n\n2. Residencial Villa Rosso\n   - Preço: R$ 420.000,00\n   - Descrição: Apartamentos com 02 dormitórios sendo 01 suíte, living com sacada, churrasqueira, área de serviço com sacada, banheiro social, e 02 vagas de garagem. Empreendimento com salão de festas e elevador.\n   - [Mais informações](https://perfilimoveiscaxias.com.br/imoveis/6297)\n\nEssas são algumas opções disponíveis. Se precisar de mais informações sobre algum desses imóveis, estou à disposição para ajudar.","type":"apiMessage"},{"message":"Você teria alguma saca nesta mesma faixa de preço?","type":"userMessage"},{"message":"No momento, não temos nenhuma sala disponível no bairro Jardim América com valor inferior a 500 mil reais. No entanto, temos algumas opções de apartamentos nessa faixa de preço. Se houver interesse em alguma dessas opções, posso fornecer mais informações sobre os apartamentos disponíveis.","type":"apiMessage"}],"question":"DEsculpe, alguma casa nesta mesma faiza de preço","socketIOClientId":"fNy2QNcBfXSsLUEmAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1789","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:25:46"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"20e61144-3c0c-446f-be63-ee696c118197","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje?","type":"apiMessage"},{"message":"Você teria algum apartamento no bairro Jardim América  com valor inferiro a 500 mil reais?","type":"userMessage"},{"message":"Sim, temos algumas opções de apartamentos no bairro Jardim América com valor inferior a 500 mil reais. Aqui estão algumas delas:\n\n1. Residencial Dr. Luiz Mezzalira\n   - Preço: R$ 420.000,00\n   - Descrição: Apartamento com 03 dormitórios sendo 01 suíte, 02 sacadas, churrasqueira, área de serviço separada, e 01 vaga de garagem.\n   - [Mais informações](https://perfilimoveiscaxias.com.br/imoveis/6072)\n\n2. Residencial Villa Rosso\n   - Preço: R$ 420.000,00\n   - Descrição: Apartamentos com 02 dormitórios sendo 01 suíte, living com sacada, churrasqueira, área de serviço com sacada, banheiro social, e 02 vagas de garagem. Empreendimento com salão de festas e elevador.\n   - [Mais informações](https://perfilimoveiscaxias.com.br/imoveis/6297)\n\nEssas são algumas opções disponíveis. Se precisar de mais informações sobre algum desses imóveis, estou à disposição para ajudar.","type":"apiMessage"},{"message":"Você teria alguma saca nesta mesma faixa de preço?","type":"userMessage"},{"message":"No momento, não temos nenhuma sala disponível no bairro Jardim América com valor inferior a 500 mil reais. No entanto, temos algumas opções de apartamentos nessa faixa de preço. Se houver interesse em alguma dessas opções, posso fornecer mais informações sobre os apartamentos disponíveis.","type":"apiMessage"},{"message":"DEsculpe, alguma casa nesta mesma faiza de preço","type":"userMessage"},{"message":"No momento, não temos nenhuma casa disponível no bairro Jardim América com valor inferior a 500 mil reais. No entanto, temos algumas opções de apartamentos e coberturas nessa faixa de preço. Se houver interesse em alguma dessas opções, posso fornecer mais informações sobre os imóveis disponíveis.","type":"apiMessage"}],"question":"Certo, e no bairro universitario?","socketIOClientId":"fNy2QNcBfXSsLUEmAAAr"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"2202","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:26:19"}
{"level":"info","message":"❌ DELETE /api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=20e61144-3c0c-446f-be63-ee696c118197&chatType=INTERNAL","package":"server","request":{"body":{},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"DELETE","params":{},"query":{"chatId":"20e61144-3c0c-446f-be63-ee696c118197","chatType":"INTERNAL"},"url":"/api/v1/chatmessage/7adc3fa4-9860-41a9-a5a3-7303918c6b8c?chatId=20e61144-3c0c-446f-be63-ee696c118197&chatType=INTERNAL"},"timestamp":"2023-12-16 19:28:05"}
{"level":"info","message":"🖊 PUT /api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"flowData":"{\"nodes\":[{\"width\":300,\"height\":576,\"id\":\"chatOpenAI_0\",\"position\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"type\":\"customNode\",\"data\":{\"label\":\"ChatOpenAI\",\"name\":\"chatOpenAI\",\"version\":2,\"type\":\"ChatOpenAI\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/chatmodels/ChatOpenAI/openai.png\",\"category\":\"Chat Models\",\"description\":\"Wrapper around OpenAI large language models that use the Chat endpoint\",\"baseClasses\":[\"ChatOpenAI\",\"BaseChatModel\",\"BaseLanguageModel\",\"Runnable\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"cache\":\"{{inMemoryCache_0.data.instance}}\",\"modelName\":\"gpt-4-0613\",\"temperature\":\"0.3\",\"maxTokens\":\"\",\"topP\":\"\",\"frequencyPenalty\":\"\",\"presencePenalty\":\"\",\"timeout\":\"\",\"basepath\":\"\",\"baseOptions\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\chatmodels\\\\ChatOpenAI\\\\ChatOpenAI.js\",\"inputAnchors\":[{\"label\":\"Cache\",\"name\":\"cache\",\"type\":\"BaseCache\",\"optional\":true,\"id\":\"chatOpenAI_0-input-cache-BaseCache\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"chatOpenAI_0-input-credential-credential\"},{\"label\":\"Model Name\",\"name\":\"modelName\",\"type\":\"options\",\"options\":[{\"label\":\"gpt-4\",\"name\":\"gpt-4\"},{\"label\":\"gpt-4-1106-preview\",\"name\":\"gpt-4-1106-preview\"},{\"label\":\"gpt-4-vision-preview\",\"name\":\"gpt-4-vision-preview\"},{\"label\":\"gpt-4-0613\",\"name\":\"gpt-4-0613\"},{\"label\":\"gpt-4-32k\",\"name\":\"gpt-4-32k\"},{\"label\":\"gpt-4-32k-0613\",\"name\":\"gpt-4-32k-0613\"},{\"label\":\"gpt-3.5-turbo\",\"name\":\"gpt-3.5-turbo\"},{\"label\":\"gpt-3.5-turbo-1106\",\"name\":\"gpt-3.5-turbo-1106\"},{\"label\":\"gpt-3.5-turbo-0613\",\"name\":\"gpt-3.5-turbo-0613\"},{\"label\":\"gpt-3.5-turbo-16k\",\"name\":\"gpt-3.5-turbo-16k\"},{\"label\":\"gpt-3.5-turbo-16k-0613\",\"name\":\"gpt-3.5-turbo-16k-0613\"}],\"default\":\"gpt-3.5-turbo\",\"optional\":true,\"id\":\"chatOpenAI_0-input-modelName-options\"},{\"label\":\"Temperature\",\"name\":\"temperature\",\"type\":\"number\",\"step\":0.1,\"default\":0.9,\"optional\":true,\"id\":\"chatOpenAI_0-input-temperature-number\"},{\"label\":\"Max Tokens\",\"name\":\"maxTokens\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-maxTokens-number\"},{\"label\":\"Top Probability\",\"name\":\"topP\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-topP-number\"},{\"label\":\"Frequency Penalty\",\"name\":\"frequencyPenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-frequencyPenalty-number\"},{\"label\":\"Presence Penalty\",\"name\":\"presencePenalty\",\"type\":\"number\",\"step\":0.1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-presencePenalty-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"step\":1,\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-basepath-string\"},{\"label\":\"BaseOptions\",\"name\":\"baseOptions\",\"type\":\"json\",\"optional\":true,\"additionalParams\":true,\"id\":\"chatOpenAI_0-input-baseOptions-json\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"name\":\"chatOpenAI\",\"label\":\"ChatOpenAI\",\"type\":\"ChatOpenAI | BaseChatModel | BaseLanguageModel | Runnable\"}],\"id\":\"chatOpenAI_0\",\"selected\":false},\"selected\":true,\"positionAbsolute\":{\"x\":-38.662414858392395,\"y\":-130.57634567750046},\"dragging\":false},{\"width\":300,\"height\":385,\"id\":\"openAIFunctionAgent_0\",\"position\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Function Agent\",\"name\":\"openAIFunctionAgent\",\"version\":2,\"type\":\"AgentExecutor\",\"category\":\"Agents\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/agents/OpenAIFunctionAgent/openai.png\",\"description\":\"An agent that uses Function Calling to pick the tool and args to call\",\"baseClasses\":[\"AgentExecutor\",\"BaseChain\",\"Runnable\"],\"inputs\":{\"tools\":[\"{{retrieverTool_0.data.instance}}\"],\"memory\":\"{{bufferWindowMemory_0.data.instance}}\",\"model\":\"{{chatOpenAI_0.data.instance}}\",\"systemMessage\":\"Atue como um assistente virtual, em forma de chatbot para perfil imobiliária.  Siga rigorosamente as seguintes regras:\\n\\n- utiliza a ferramenta retriver tool nomeada base_item_imobiliaria para vincular todas as consultas dos usuarios à empresa perfil imobiliaria.\\n- sempre que possivel de respostas altamente informativas e explicativas.\\n- caso não encontre as informações na base de conhecimentos, jamais mencione tal ocorrencia.\\n- nunca gere alguma informação que você não tem certeza.\\n \"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\agents\\\\OpenAIFunctionAgent\\\\OpenAIFunctionAgent.js\",\"inputAnchors\":[{\"label\":\"Allowed Tools\",\"name\":\"tools\",\"type\":\"Tool\",\"list\":true,\"id\":\"openAIFunctionAgent_0-input-tools-Tool\"},{\"label\":\"Memory\",\"name\":\"memory\",\"type\":\"BaseChatMemory\",\"id\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\"},{\"label\":\"OpenAI/Azure Chat Model\",\"name\":\"model\",\"type\":\"ChatOpenAI | AzureChatOpenAI\",\"id\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\"}],\"inputParams\":[{\"label\":\"System Message\",\"name\":\"systemMessage\",\"type\":\"string\",\"rows\":4,\"optional\":true,\"additionalParams\":true,\"id\":\"openAIFunctionAgent_0-input-systemMessage-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIFunctionAgent_0-output-openAIFunctionAgent-AgentExecutor|BaseChain|Runnable\",\"name\":\"openAIFunctionAgent\",\"label\":\"AgentExecutor\",\"type\":\"AgentExecutor | BaseChain | Runnable\"}],\"id\":\"openAIFunctionAgent_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":352.5405575134527,\"y\":443.0309667171906},\"dragging\":false},{\"width\":300,\"height\":143,\"id\":\"inMemoryCache_0\",\"position\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"type\":\"customNode\",\"data\":{\"label\":\"InMemory Cache\",\"name\":\"inMemoryCache\",\"version\":1,\"type\":\"InMemoryCache\",\"description\":\"Cache LLM response in memory, will be cleared once app restarted\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/cache/InMemoryCache/inmemorycache.png\",\"category\":\"Cache\",\"baseClasses\":[\"InMemoryCache\",\"BaseCache\"],\"inputs\":{},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\cache\\\\InMemoryCache\\\\InMemoryCache.js\",\"inputAnchors\":[],\"inputParams\":[],\"outputs\":{},\"outputAnchors\":[{\"id\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"name\":\"inMemoryCache\",\"label\":\"InMemoryCache\",\"type\":\"InMemoryCache | BaseCache\"}],\"id\":\"inMemoryCache_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-506.4906430252308,\"y\":-97.12655035547952},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"RedisIndex_0\",\"position\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"type\":\"customNode\",\"data\":{\"type\":\"Redis\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/vectorstores/Redis/redis.svg\",\"category\":\"Vector Stores\",\"baseClasses\":[\"Redis\",\"VectorStoreRetriever\",\"BaseRetriever\"],\"badge\":\"DEPRECATING\",\"credential\":\"cec8a35d-f905-499f-af10-298e1a8f4c73\",\"inputs\":{\"embeddings\":\"{{openAIEmbeddings_0.data.instance}}\",\"indexName\":\"perfil3\",\"contentKey\":\"content\",\"metadataKey\":\"metadata\",\"vectorKey\":\"content_vector\",\"topK\":\"20\"},\"outputs\":{\"output\":\"retriever\"},\"label\":\"Redis Load Existing Index\",\"name\":\"RedisIndex\",\"version\":1,\"description\":\"Load existing index from Redis (i.e: Document has been upserted)\",\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\vectorstores\\\\Redis\\\\Redis_Existing.js\",\"inputAnchors\":[{\"label\":\"Embeddings\",\"name\":\"embeddings\",\"type\":\"Embeddings\",\"id\":\"RedisIndex_0-input-embeddings-Embeddings\"}],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"redisCacheUrlApi\",\"redisCacheApi\"],\"id\":\"RedisIndex_0-input-credential-credential\"},{\"label\":\"Index Name\",\"name\":\"indexName\",\"placeholder\":\"<VECTOR_INDEX_NAME>\",\"type\":\"string\",\"id\":\"RedisIndex_0-input-indexName-string\"},{\"label\":\"Content Field\",\"name\":\"contentKey\",\"description\":\"Name of the field (column) that contains the actual content\",\"type\":\"string\",\"default\":\"content\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-contentKey-string\"},{\"label\":\"Metadata Field\",\"name\":\"metadataKey\",\"description\":\"Name of the field (column) that contains the metadata of the document\",\"type\":\"string\",\"default\":\"metadata\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-metadataKey-string\"},{\"label\":\"Vector Field\",\"name\":\"vectorKey\",\"description\":\"Name of the field (column) that contains the vector\",\"type\":\"string\",\"default\":\"content_vector\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-vectorKey-string\"},{\"label\":\"Top K\",\"name\":\"topK\",\"description\":\"Number of top results to fetch. Default to 4\",\"placeholder\":\"4\",\"type\":\"number\",\"additionalParams\":true,\"optional\":true,\"id\":\"RedisIndex_0-input-topK-number\"}],\"outputAnchors\":[{\"name\":\"output\",\"label\":\"Output\",\"type\":\"options\",\"options\":[{\"id\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"name\":\"retriever\",\"label\":\"Redis Retriever\",\"type\":\"Redis | VectorStoreRetriever | BaseRetriever\"},{\"id\":\"RedisIndex_0-output-vectorStore-Redis|VectorStore\",\"name\":\"vectorStore\",\"label\":\"Redis Vector Store\",\"type\":\"Redis | VectorStore\"}],\"default\":\"retriever\"}],\"id\":\"RedisIndex_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-670.1312622407779,\"y\":195.79534440970542},\"dragging\":false},{\"width\":300,\"height\":330,\"id\":\"openAIEmbeddings_0\",\"position\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"type\":\"customNode\",\"data\":{\"label\":\"OpenAI Embeddings\",\"name\":\"openAIEmbeddings\",\"version\":1,\"type\":\"OpenAIEmbeddings\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/embeddings/OpenAIEmbedding/openai.png\",\"category\":\"Embeddings\",\"description\":\"OpenAI API to generate embeddings for a given text\",\"baseClasses\":[\"OpenAIEmbeddings\",\"Embeddings\"],\"credential\":\"fb819333-df21-4987-b9b7-b02d2dd327b3\",\"inputs\":{\"stripNewLines\":\"\",\"batchSize\":\"\",\"timeout\":\"\",\"basepath\":\"\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\embeddings\\\\OpenAIEmbedding\\\\OpenAIEmbedding.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Connect Credential\",\"name\":\"credential\",\"type\":\"credential\",\"credentialNames\":[\"openAIApi\"],\"id\":\"openAIEmbeddings_0-input-credential-credential\"},{\"label\":\"Strip New Lines\",\"name\":\"stripNewLines\",\"type\":\"boolean\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-stripNewLines-boolean\"},{\"label\":\"Batch Size\",\"name\":\"batchSize\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-batchSize-number\"},{\"label\":\"Timeout\",\"name\":\"timeout\",\"type\":\"number\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-timeout-number\"},{\"label\":\"BasePath\",\"name\":\"basepath\",\"type\":\"string\",\"optional\":true,\"additionalParams\":true,\"id\":\"openAIEmbeddings_0-input-basepath-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"name\":\"openAIEmbeddings\",\"label\":\"OpenAIEmbeddings\",\"type\":\"OpenAIEmbeddings | Embeddings\"}],\"id\":\"openAIEmbeddings_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-1084.1521001590663,\"y\":18.463858237683922},\"dragging\":false},{\"width\":300,\"height\":506,\"id\":\"retrieverTool_0\",\"position\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"type\":\"customNode\",\"data\":{\"label\":\"Retriever Tool\",\"name\":\"retrieverTool\",\"version\":1,\"type\":\"RetrieverTool\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/tools/RetrieverTool/retriever-tool.png\",\"category\":\"Tools\",\"description\":\"Use a retriever as allowed tool for agent\",\"baseClasses\":[\"RetrieverTool\",\"DynamicTool\",\"Tool\",\"StructuredTool\",\"Runnable\"],\"inputs\":{\"name\":\"base_item_imobiliaria\",\"description\":\"utilize essa ferramenta para buscar informações sobre os imóveis da imobiliária perfil.\",\"retriever\":\"{{RedisIndex_0.data.instance}}\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\tools\\\\RetrieverTool\\\\RetrieverTool.js\",\"inputAnchors\":[{\"label\":\"Retriever\",\"name\":\"retriever\",\"type\":\"BaseRetriever\",\"id\":\"retrieverTool_0-input-retriever-BaseRetriever\"}],\"inputParams\":[{\"label\":\"Retriever Name\",\"name\":\"name\",\"type\":\"string\",\"placeholder\":\"search_state_of_union\",\"id\":\"retrieverTool_0-input-name-string\"},{\"label\":\"Retriever Description\",\"name\":\"description\",\"type\":\"string\",\"description\":\"When should agent uses to retrieve documents\",\"rows\":3,\"placeholder\":\"Searches and returns documents regarding the state-of-the-union.\",\"id\":\"retrieverTool_0-input-description-string\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"name\":\"retrieverTool\",\"label\":\"RetrieverTool\",\"type\":\"RetrieverTool | DynamicTool | Tool | StructuredTool | Runnable\"}],\"id\":\"retrieverTool_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-227.13286834064283,\"y\":481.0162443040581},\"dragging\":false},{\"width\":300,\"height\":476,\"id\":\"bufferWindowMemory_0\",\"position\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"type\":\"customNode\",\"data\":{\"label\":\"Buffer Window Memory\",\"name\":\"bufferWindowMemory\",\"version\":1,\"type\":\"BufferWindowMemory\",\"icon\":\"C:/Users/pc/Desktop/experimentos/flowise/Flowise/node_modules/flowise-components/dist/nodes/memory/BufferWindowMemory/memory.svg\",\"category\":\"Memory\",\"description\":\"Uses a window of size k to surface the last k back-and-forth to use as memory\",\"baseClasses\":[\"BufferWindowMemory\",\"BaseChatMemory\",\"BaseMemory\"],\"inputs\":{\"memoryKey\":\"chat_history\",\"inputKey\":\"input\",\"k\":\"4\"},\"filePath\":\"C:\\\\Users\\\\pc\\\\Desktop\\\\experimentos\\\\flowise\\\\Flowise\\\\node_modules\\\\flowise-components\\\\dist\\\\nodes\\\\memory\\\\BufferWindowMemory\\\\BufferWindowMemory.js\",\"inputAnchors\":[],\"inputParams\":[{\"label\":\"Memory Key\",\"name\":\"memoryKey\",\"type\":\"string\",\"default\":\"chat_history\",\"id\":\"bufferWindowMemory_0-input-memoryKey-string\"},{\"label\":\"Input Key\",\"name\":\"inputKey\",\"type\":\"string\",\"default\":\"input\",\"id\":\"bufferWindowMemory_0-input-inputKey-string\"},{\"label\":\"Size\",\"name\":\"k\",\"type\":\"number\",\"default\":\"4\",\"description\":\"Window of size k to surface the last k back-and-forth to use as memory.\",\"id\":\"bufferWindowMemory_0-input-k-number\"}],\"outputs\":{},\"outputAnchors\":[{\"id\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"name\":\"bufferWindowMemory\",\"label\":\"BufferWindowMemory\",\"type\":\"BufferWindowMemory | BaseChatMemory | BaseMemory\"}],\"id\":\"bufferWindowMemory_0\",\"selected\":false},\"selected\":false,\"positionAbsolute\":{\"x\":-573.7876769316538,\"y\":806.7688552285717},\"dragging\":false}],\"edges\":[{\"source\":\"chatOpenAI_0\",\"sourceHandle\":\"chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"type\":\"buttonedge\",\"id\":\"chatOpenAI_0-chatOpenAI_0-output-chatOpenAI-ChatOpenAI|BaseChatModel|BaseLanguageModel|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-model-ChatOpenAI | AzureChatOpenAI\",\"data\":{\"label\":\"\"}},{\"source\":\"inMemoryCache_0\",\"sourceHandle\":\"inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache\",\"target\":\"chatOpenAI_0\",\"targetHandle\":\"chatOpenAI_0-input-cache-BaseCache\",\"type\":\"buttonedge\",\"id\":\"inMemoryCache_0-inMemoryCache_0-output-inMemoryCache-InMemoryCache|BaseCache-chatOpenAI_0-chatOpenAI_0-input-cache-BaseCache\",\"data\":{\"label\":\"\"}},{\"source\":\"openAIEmbeddings_0\",\"sourceHandle\":\"openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings\",\"target\":\"RedisIndex_0\",\"targetHandle\":\"RedisIndex_0-input-embeddings-Embeddings\",\"type\":\"buttonedge\",\"id\":\"openAIEmbeddings_0-openAIEmbeddings_0-output-openAIEmbeddings-OpenAIEmbeddings|Embeddings-RedisIndex_0-RedisIndex_0-input-embeddings-Embeddings\",\"data\":{\"label\":\"\"}},{\"source\":\"RedisIndex_0\",\"sourceHandle\":\"RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever\",\"target\":\"retrieverTool_0\",\"targetHandle\":\"retrieverTool_0-input-retriever-BaseRetriever\",\"type\":\"buttonedge\",\"id\":\"RedisIndex_0-RedisIndex_0-output-retriever-Redis|VectorStoreRetriever|BaseRetriever-retrieverTool_0-retrieverTool_0-input-retriever-BaseRetriever\",\"data\":{\"label\":\"\"}},{\"source\":\"retrieverTool_0\",\"sourceHandle\":\"retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-tools-Tool\",\"type\":\"buttonedge\",\"id\":\"retrieverTool_0-retrieverTool_0-output-retrieverTool-RetrieverTool|DynamicTool|Tool|StructuredTool|Runnable-openAIFunctionAgent_0-openAIFunctionAgent_0-input-tools-Tool\",\"data\":{\"label\":\"\"}},{\"source\":\"bufferWindowMemory_0\",\"sourceHandle\":\"bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory\",\"target\":\"openAIFunctionAgent_0\",\"targetHandle\":\"openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"type\":\"buttonedge\",\"id\":\"bufferWindowMemory_0-bufferWindowMemory_0-output-bufferWindowMemory-BufferWindowMemory|BaseChatMemory|BaseMemory-openAIFunctionAgent_0-openAIFunctionAgent_0-input-memory-BaseChatMemory\",\"data\":{\"label\":\"\"}}],\"viewport\":{\"x\":724.6436748798199,\"y\":10.881205651532326,\"zoom\":0.6185818980857456}}","name":"perfil teste"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"19965","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"PUT","params":{},"query":{},"url":"/api/v1/chatflows/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:28:06"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"history":[],"question":"Boa tarde!","socketIOClientId":"xx1t7vP7Eg9cqj--AAAv"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"80","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:28:10"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"82433470-3f8c-42ab-9776-e2ef850be62c","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje? Você está procurando informações sobre algum imóvel específico?","type":"apiMessage"}],"question":"Você teria alguma casa no bairro Universitario com valor inferiro a 500 mil reais?","socketIOClientId":"xx1t7vP7Eg9cqj--AAAv"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"391","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:28:35"}
{"level":"info","message":"⬆️ POST /api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","package":"server","request":{"body":{"chatId":"82433470-3f8c-42ab-9776-e2ef850be62c","history":[{"message":"Boa tarde!","type":"userMessage"},{"message":"Boa tarde! Como posso ajudar você hoje? Você está procurando informações sobre algum imóvel específico?","type":"apiMessage"},{"message":"Você teria alguma casa no bairro Universitario com valor inferiro a 500 mil reais?","type":"userMessage"},{"message":"Desculpe, mas parece que não temos casas disponíveis no bairro Universitário com valor inferior a 500 mil reais no momento. No entanto, temos outras opções de imóveis em diferentes bairros que podem interessar. \n\nPor exemplo, temos um apartamento semi mobiliado no bairro Nossa Senhora da Saúde, com 02 dormitórios, living integrado com cozinha, área de serviço, banheiro social, e 01 vaga de garagem. O empreendimento conta com jardim e porteiro eletrônico. O preço é de 205.000,00 reais. Você pode ver mais detalhes [aqui](https://perfilimoveiscaxias.com.br/imoveis/5988).\n\nPor favor, me avise se você gostaria de informações sobre outras propriedades ou se há algo mais em que eu possa ajudar.","type":"apiMessage"}],"question":"Quais casas vocês tem disponíveis no bairro universitário?","socketIOClientId":"xx1t7vP7Eg9cqj--AAAv"},"headers":{"accept":"application/json, text/plain, */*","accept-encoding":"gzip, deflate, br","accept-language":"pt-BR,pt;q=0.9,en-US;q=0.8,en;q=0.7","connection":"keep-alive","content-length":"1241","content-type":"application/json","cookie":"rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX19dR4igpC%2FnEOmubJqze33a4a9%2FmSgDKHM%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX19e17lOr%2BuAFaSP2QYj2Zk%2Fyk%2FdLv7mfUU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22%24active_feature_flags%22%3A%5B%22015_form_trigger_usecase%22%2C%22009_choosing_trial_plan%22%2C%22011_ask_AI%22%2C%22006_cloud_opt_in%22%2C%22schema-view%22%5D%2C%22%24enabled_feature_flags%22%3A%7B%22015_form_trigger_usecase%22%3A%22control%22%2C%22009_choosing_trial_plan%22%3A%22variant%22%2C%22011_ask_AI%22%3A%22gpt3%22%2C%22006_cloud_opt_in%22%3A%22opt-in-14%22%2C%22schema-view%22%3Atrue%7D%2C%22%24feature_flag_payloads%22%3A%7B%7D%2C%22distinct_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24device_id%22%3A%22018b4b49-1e49-7d1e-ab63-2afcabd55972%22%2C%22%24user_state%22%3A%22identified%22%2C%22%24user_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%232c7e980c-fc57-4007-9aa4-673c69ec1416%22%2C%22%24stored_person_properties%22%3A%7B%22instance_id%22%3A%22fc5d52e29318a3e2d622be1af202fb4850ac2cef74d241557dbe7b78c20ab51a%22%2C%22created_at_timestamp%22%3A1697775152721%2C%22companyType%22%3A%22saas%22%2C%22role%22%3A%22devops%22%2C%22automationGoalDevops%22%3A%5B%22cloud-infrastructure-orchestration%22%2C%22incident-response%22%2C%22reporting%22%5D%2C%22version%22%3A%22v4%22%2C%22personalization_survey_submitted_at%22%3A%222023-10-20T04%3A13%3A45.606Z%22%2C%22personalization_survey_n8n_version%22%3A%221.12.0%22%7D%2C%22%24sesid%22%3A%5B1701116983793%2C%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C1701114013293%5D%2C%22%24session_recording_enabled_server_side%22%3Atrue%2C%22%24console_log_recording_enabled_server_side%22%3Afalse%2C%22%24session_recording_recorder_version_server_side%22%3A%22v2%22%2C%22%24autocapture_disabled_server_side%22%3Afalse%2C%22%24client_session_props%22%3A%7B%22sessionId%22%3A%22018c124b-e66d-78dc-a0b9-c8802431732e%22%2C%22props%22%3A%7B%22initialPathName%22%3A%22%2Fworkflows%22%2C%22referringDomain%22%3A%22%24direct%22%7D%7D%2C%22%24session_recording_network_payload_capture%22%3A%7B%22capturePerformance%22%3Afalse%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19VreyIKxMP%2FClAGJejJ3Q7w0y0uETlvjY5k1iqn2xLKLuwD4aimfqRW%2FLldUVbIOfHgEtDY%2FiLhA%3D%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DDMyATdZMxepzGt%2BepBmRYcfgXqRidCbL0cTpH7wKcnOgHitNP051TLq9fi3oen2Izn3fvInyOvVrxt22IIjrX%2B4mf%2FiGLN8UbXbN5F04g1eaEbrtBmIkyQF8O%2B7UPRlkitNBMtxLmw%3D%3D","host":"localhost:3000","origin":"http://localhost:3000","referer":"http://localhost:3000/canvas/7adc3fa4-9860-41a9-a5a3-7303918c6b8c","sec-ch-ua":"\"Not_A Brand\";v=\"8\", \"Chromium\";v=\"120\", \"Google Chrome\";v=\"120\"","sec-ch-ua-mobile":"?0","sec-ch-ua-platform":"\"Windows\"","sec-fetch-dest":"empty","sec-fetch-mode":"cors","sec-fetch-site":"same-origin","user-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36"},"method":"POST","params":{},"query":{},"url":"/api/v1/internal-prediction/7adc3fa4-9860-41a9-a5a3-7303918c6b8c"},"timestamp":"2023-12-16 19:29:37"}
